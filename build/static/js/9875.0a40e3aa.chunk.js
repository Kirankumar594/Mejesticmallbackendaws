"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[9875],{22526:(e,a,t)=>{t.d(a,{A:()=>n});t(65043);var s=t(46909),i=t(70579);const n=e=>{const{open:a,hideModal:t,performAction:n,title:r}=e;return(0,i.jsx)(s.A,{title:"Confirmation",open:a,onOk:n,onCancel:t,okText:"Ok",cancelText:"Cancel",children:(0,i.jsx)("p",{children:r})})}},57914:(e,a,t)=>{t.d(a,{jC:()=>c,$V:()=>p,qy:()=>u});var s=t(58344),i=t(86213),n=t(63127),r=t(25981);const d={getEnquiries:async()=>(await i.A.get(`${r.A}enquiry/`)).data,deleteEnquiry:async e=>(await i.A.delete(`${r.A}enquiry/${e}`,n.$)).data,getEnquiry:async e=>(await i.A.get(`${r.A}enquiry/${e}`)).data,udpateEnquiry:async e=>(await i.A.put(`${r.A}enquiry/${e.id}`,{status:e.enqData},n.$)).data},l=(0,s.zD)("enquiry/get-enquiries",(async e=>{try{return await d.getEnquiries()}catch(a){return e.rejectWithValue(a)}})),o=(0,s.zD)("enquiry/delete-enquiry",(async(e,a)=>{try{return await d.deleteEnquiry(e)}catch(t){return a.rejectWithValue(t)}})),c=(0,s.zD)("enquiry/get-enquiry",(async(e,a)=>{try{return await d.getEnquiry(e)}catch(t){return a.rejectWithValue(t)}})),u=(0,s.zD)("enquiry/update-enquiry",(async(e,a)=>{try{return await d.udpateEnquiry(e)}catch(t){return a.rejectWithValue(t)}})),p=(0,s.VP)("Reset_all"),y={enquiries:[],isError:!1,isLoading:!1,isSuccess:!1,message:""};(0,s.Z0)({name:"enquiries",initialState:y,reducers:{},extraReducers:e=>{e.addCase(l.pending,(e=>{e.isLoading=!0})).addCase(l.fulfilled,((e,a)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.enquiries=a.payload})).addCase(l.rejected,((e,a)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=a.error})).addCase(o.pending,(e=>{e.isLoading=!0})).addCase(o.fulfilled,((e,a)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.deletedEnquiry=a.payload})).addCase(o.rejected,((e,a)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=a.error})).addCase(c.pending,(e=>{e.isLoading=!0})).addCase(c.fulfilled,((e,a)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.enqName=a.payload.name,e.enqMobile=a.payload.mobile,e.enqEmail=a.payload.email,e.enqComment=a.payload.comment,e.enqStatus=a.payload.status})).addCase(c.rejected,((e,a)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=a.error})).addCase(u.pending,(e=>{e.isLoading=!0})).addCase(u.fulfilled,((e,a)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.updatedEnquiry=a.payload})).addCase(u.rejected,((e,a)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=a.error})).addCase(p,(()=>y))}}).reducer},69875:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var s=t(65043),i=t(23927),n=t(3188),r=t(27210),d=t(6051),l=t(49757),o=t(74592),c=t(11238),u=(t(57914),t(22526),t(86213)),p=t(1457),y=t(86178),g=t.n(y),m=t(1880),h=t(86111),q=t.n(h),A=t(70579);const{Title:x}=i.A,f=[{title:"SNo",dataIndex:"key"},{title:"Name",dataIndex:"name"},{title:"Email",dataIndex:"email"},{title:"Mobile",dataIndex:"mobile"},{title:"Date",dataIndex:"RegisteredDate"},{title:"Message",dataIndex:"message"}],E=()=>{const[e,a]=(0,s.useState)([]),t=m.A.get("token"),i=t?q().AES.decrypt(t,"Abhinanadan02").toString(q().enc.Utf8):null;(0,s.useEffect)((()=>{(async()=>{let e=await u.A.get("https://majesticmall.net/api/admin/getallfeedback",{headers:{Authorization:`Bearer ${i}`}});(e.status=200)&&a(e.data)})()}),[]);const[y,h]=(0,s.useState)([]),[E,j]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(e&&e.length>0){const a=(e=>null===e||void 0===e?void 0:e.map(((e,a)=>({key:a+1,name:e.name,email:e.email,mobile:e.mobile,message:e.message,RegisteredDate:g()(e.createdAt).format("DD/MM/YYYY")}))))(e);j(a),h(a)}}),[e]);const[C,S]=(0,s.useState)(""),b=e=>{S(e);const a=E.filter((a=>Object.values(a).some((a=>a&&a.toString().toLowerCase().includes(e.toLowerCase())))));h(a)};r.A,o.A;return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{style:{marginBottom:16,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,A.jsx)(x,{level:3,children:"Feedback"}),(0,A.jsxs)(d.A,{children:[(0,A.jsx)(r.A,{placeholder:"Search",onChange:e=>b(e.target.value),style:{width:200},prefix:(0,A.jsx)(o.A,{})}),(0,A.jsx)(n.Ay,{type:"primary",icon:(0,A.jsx)(p.A,{size:16}),onClick:()=>{const e=E.map((e=>{let{_id:a,__v:t,...s}=e;return s})),a=c.Wp.json_to_sheet(e),t=c.Wp.book_new();c.Wp.book_append_sheet(t,a,"Feedback"),c._h(t,"Feedback.xlsx")},children:"Export to Excel"})]})]}),(0,A.jsx)(l.A,{className:"custom-table",pagination:{pageSize:10},columns:f,dataSource:y,scroll:{x:"max-content"},components:{header:{cell:e=>(0,A.jsx)("th",{...e,style:{...e.style,background:"linear-gradient(#000,#000,#000)",color:"white"}})}}})]})}},63127:(e,a,t)=>{t.d(a,{$:()=>l});var s=t(1880),i=t(86111),n=t.n(i);const r=s.A.get("user"),d=r?JSON.parse(n().AES.decrypt(r,"Abhinanadan02").toString(n().enc.Utf8)):null,l={headers:{Authorization:`Bearer ${null!==d?d.token:""}`,Accept:"application/json"}}},25981:(e,a,t)=>{t.d(a,{A:()=>s});const s="http://localhost:3000/api/"}}]);
//# sourceMappingURL=9875.0a40e3aa.chunk.js.map