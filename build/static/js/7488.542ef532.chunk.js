"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[7488],{97959:(e,s,t)=>{t.d(s,{A:()=>n});t(65043);var a=t(70579);const n=e=>{const{type:s,label:t,i_id:n,i_class:i,name:r,val:o,onChng:l,onBlr:c,style:d}=e;return(0,a.jsxs)("div",{className:"form-floating mt-3",children:[(0,a.jsx)("label",{htmlFor:t,children:t}),(0,a.jsx)("input",{type:s,className:`form-control ${i}`,id:n,placeholder:t,value:o,onChange:l,style:d,onBlur:c})]})}},87488:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(65043),n=(t(54737),t(86213)),i=t(7249),r=t(78745),o=t(97959),l=t(86294),c=t(1880),d=t(86111),p=t.n(d),u=t(70579);function h(){const[e,s]=(0,a.useState)(!1),t="Abhinanadan02";const d=c.A.get("token"),h=d?p().AES.decrypt(d,t).toString(p().enc.Utf8):null,[x,g]=(0,a.useState)(!1),m=()=>g(!0),[j,y]=(0,a.useState)(""),[f,w]=(0,a.useState)(""),[v,A]=(0,a.useState)(!0);return(0,u.jsxs)("div",{children:[(0,u.jsx)(r.N9,{}),(0,u.jsx)(l.A,{}),(0,u.jsx)("div",{class:"logo text-center"}),(0,u.jsxs)("div",{class:"wrapper",children:[(0,u.jsxs)("div",{class:"inner-warpper text-center",children:[(0,u.jsx)("h4",{class:"title",children:"Login to Your Account"}),(0,u.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,u.jsx)(o.A,{type:"text",label:"Email / Mobile Number",id:"userName",name:"userName",onChng:e=>y(e.target.value),val:j}),(0,u.jsx)("span",{class:"lighting"})]}),(0,u.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,u.jsx)(o.A,{type:v?"password":"text",label:"Password",id:"pass",name:"password",onChng:e=>w(e.target.value),val:f,style:{width:"100%"}}),(0,u.jsx)("i",{className:v?"fas fa-eye-slash":"fas fa-eye",onClick:()=>{A(!v)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",cursor:"pointer"}})]}),(0,u.jsx)("div",{class:"clearfix supporter",children:(0,u.jsx)("a",{class:"forgot pull-right",onClick:()=>(async()=>{if(j)try{const e={url:"/userForgetPwd",method:"post",baseURL:"https://majesticmall.net/api/user",headers:{"content-type":"application/json"},headers:{Authorization:`Bearer ${h}`},headers:{Authorization:`Bearer ${h}`},data:{email:j}};200===(await(0,n.A)(e)).status?(r.oR.info("Successfully sent new password to your mail"),window.location.reload(!0)):r.oR.info("Something Wrong")}catch(e){e.response&&r.oR.info(e.response.data.error)}else r.oR.info("Please enter email address")})(),children:"Forgot Password?"})}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{class:"button1",type:"submit",id:"login",onClick:async e=>{e.preventDefault();try{const e={url:"/user/loginUser",method:"post",baseURL:"https://majesticmall.net/api",hearder:{"content-type":"application/json"},headers:{Authorization:`Bearer ${h}`},data:{email:j,password:f}};await(0,n.A)(e).then((function(e){if(200===e.status)if("pending"===e.data.success.status)r.oR.info("You're account is not approved yet");else if(e.data){r.oR.info("Login success");const s=p().AES.encrypt(e.data.token,t).toString(),a=p().AES.encrypt(JSON.stringify(e.data.success),t).toString();c.A.set("token",s,{expires:7,secure:!0,sameSite:"Strict"}),c.A.set("user",a,{expires:7,secure:!0,sameSite:"Strict"}),setTimeout((()=>{window.location.assign("/")}),2e3)}else m()}))}catch(s){r.oR.info("Please enter registered email id or mobile and password!"),console.log(s)}},children:"Login"})]}),(0,u.jsx)("div",{class:"signup-wrapper text-center",style:{fontSize:"20px",marginTop:"-40px"},children:(0,u.jsxs)("a",{href:"/register",children:["New to Majestic Mall ? ",(0,u.jsxs)("span",{class:"text-primary",children:[" ","Sign up"]})]})})]}),(0,u.jsxs)(i.A,{show:e,onHide:()=>s(!0),backdrop:"static",keyboard:!1,children:[(0,u.jsx)(i.A.Header,{closeButton:!0,onClick:()=>s(!1)}),(0,u.jsx)(i.A.Body,{children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("img",{src:"../img/success.png",style:{margin:"auto"},width:"100px",loading:"lazy"}),(0,u.jsx)("p",{children:"Login Successfully"})]})})]}),(0,u.jsxs)(i.A,{show:x,onHide:m,backdrop:"static",keyboard:!1,children:[(0,u.jsx)(i.A.Header,{closeButton:!0,onClick:()=>g(!1)}),(0,u.jsx)(i.A.Body,{children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("img",{src:"../img/close.png",style:{margin:"auto"},width:"100px",loading:"lazy"}),(0,u.jsx)("p",{children:"Error Occured"})]})})]})]})}},86294:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(65043),n=t(73216);const i=()=>{const e=(0,n.zy)();return(0,a.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}},54737:()=>{}}]);
//# sourceMappingURL=7488.542ef532.chunk.js.map