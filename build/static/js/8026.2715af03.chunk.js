"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[8026],{28026:(e,t,n)=>{n.r(t),n.d(t,{default:()=>se});var a=n(65043),o=n(23927),r=n(46909),l=n(59748),i=n(22019),s=n(58168);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};var d=n(22172),u=function(e,t){return a.createElement(d.A,(0,s.A)({},e,{ref:t,icon:c}))};const f=a.forwardRef(u);var m=n(98139),p=n.n(m),h=n(64467),v=n(5544),g=n(80045),y=n(28678),A=n(25001),x=n(48060);function b(e,t){var n=e.disabled,o=e.prefixCls,r=e.character,l=e.characterRender,i=e.index,s=e.count,c=e.value,d=e.allowHalf,u=e.focused,f=e.onHover,m=e.onClick,h=i+1,v=new Set([o]);0===c&&0===i&&u?v.add("".concat(o,"-focused")):d&&c+.5>=h&&c<h?(v.add("".concat(o,"-half")),v.add("".concat(o,"-active")),u&&v.add("".concat(o,"-focused"))):(h<=c?v.add("".concat(o,"-full")):v.add("".concat(o,"-zero")),h===c&&u&&v.add("".concat(o,"-focused")));var g="function"===typeof r?r(e):r,y=a.createElement("li",{className:p()(Array.from(v)),ref:t},a.createElement("div",{onClick:n?null:function(e){m(e,i)},onKeyDown:n?null:function(e){e.keyCode===A.A.ENTER&&m(e,i)},onMouseMove:n?null:function(e){f(e,i)},role:"radio","aria-checked":c>i?"true":"false","aria-posinset":i+1,"aria-setsize":s,tabIndex:n?-1:0},a.createElement("div",{className:"".concat(o,"-first")},g),a.createElement("div",{className:"".concat(o,"-second")},g)));return l&&(y=l(y,e)),y}const j=a.forwardRef(b);var C=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function w(e,t){var n=e.prefixCls,o=void 0===n?"rc-rate":n,r=e.className,l=e.defaultValue,i=e.value,c=e.count,d=void 0===c?5:c,u=e.allowHalf,f=void 0!==u&&u,m=e.allowClear,b=void 0===m||m,w=e.keyboard,k=void 0===w||w,I=e.character,E=void 0===I?"\u2605":I,T=e.characterRender,S=e.disabled,F=e.direction,O=void 0===F?"ltr":F,$=e.tabIndex,H=void 0===$?0:$,L=e.autoFocus,R=e.onHoverChange,N=e.onChange,_=e.onFocus,z=e.onBlur,B=e.onKeyDown,D=e.onMouseLeave,M=(0,g.A)(e,C),P=function(){var e=a.useRef({});return[function(t){return e.current[t]},function(t){return function(n){e.current[t]=n}}]}(),V=(0,v.A)(P,2),W=V[0],K=V[1],X=a.useRef(null),q=function(){var e;S||(null===(e=X.current)||void 0===e||e.focus())};a.useImperativeHandle(t,(function(){return{focus:q,blur:function(){var e;S||(null===(e=X.current)||void 0===e||e.blur())}}}));var G=(0,y.A)(l||0,{value:i}),U=(0,v.A)(G,2),Q=U[0],Y=U[1],J=(0,y.A)(null),Z=(0,v.A)(J,2),ee=Z[0],te=Z[1],ne=function(e,t){var n="rtl"===O,a=e+1;if(f){var o=W(e),r=function(e){var t=function(e){var t,n,a=e.ownerDocument,o=a.body,r=a&&a.documentElement,l=e.getBoundingClientRect();return t=l.left,n=l.top,{left:t-=r.clientLeft||o.clientLeft||0,top:n-=r.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,a=n.defaultView||n.parentWindow;return t.left+=function(e){var t=e.pageXOffset,n="scrollLeft";if("number"!==typeof t){var a=e.document;"number"!==typeof(t=a.documentElement[n])&&(t=a.body[n])}return t}(a),t.left}(o),l=o.clientWidth;(n&&t-r>l/2||!n&&t-r<l/2)&&(a-=.5)}return a},ae=function(e){Y(e),null===N||void 0===N||N(e)},oe=a.useState(!1),re=(0,v.A)(oe,2),le=re[0],ie=re[1],se=a.useState(null),ce=(0,v.A)(se,2),de=ce[0],ue=ce[1],fe=function(e,t){var n=ne(t,e.pageX);n!==ee&&(ue(n),te(null)),null===R||void 0===R||R(n)},me=function(e){S||(ue(null),te(null),null===R||void 0===R||R(void 0)),e&&(null===D||void 0===D||D(e))},pe=function(e,t){var n=ne(t,e.pageX),a=!1;b&&(a=n===Q),me(),ae(a?0:n),te(a?n:null)};a.useEffect((function(){L&&!S&&q()}),[]);var he=new Array(d).fill(0).map((function(e,t){return a.createElement(j,{ref:K(t),index:t,count:d,disabled:S,prefixCls:"".concat(o,"-star"),allowHalf:f,value:null===de?Q:de,onClick:pe,onHover:fe,key:e||t,character:E,characterRender:T,focused:le})})),ve=p()(o,r,(0,h.A)((0,h.A)({},"".concat(o,"-disabled"),S),"".concat(o,"-rtl"),"rtl"===O));return a.createElement("ul",(0,s.A)({className:ve,onMouseLeave:me,tabIndex:S?-1:H,onFocus:S?null:function(){ie(!0),null===_||void 0===_||_()},onBlur:S?null:function(){ie(!1),null===z||void 0===z||z()},onKeyDown:S?null:function(e){var t=e.keyCode,n="rtl"===O,a=f?.5:1;k&&(t===A.A.RIGHT&&Q<d&&!n?(ae(Q+a),e.preventDefault()):t===A.A.LEFT&&Q>0&&!n||t===A.A.RIGHT&&Q>0&&n?(ae(Q-a),e.preventDefault()):t===A.A.LEFT&&Q<d&&n&&(ae(Q+a),e.preventDefault())),null===B||void 0===B||B(e)},ref:X,role:"radiogroup"},(0,x.A)(M,{aria:!0,data:!0,attr:!0})),he)}const k=a.forwardRef(w);var I=n(35296),E=n(97606),T=n(7896),S=n(94414),F=n(78855),O=n(78446);const $=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${(0,T.zA)(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},H=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),L=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,S.dF)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),$(e)),H(e))}},R=(0,F.OF)("Rate",(e=>{const t=(0,O.oX)(e,{});return[L(t)]}),(e=>({starColor:e.yellow6,starSize:.5*e.controlHeightLG,starHoverScale:"scale(1.1)",starBg:e.colorFillContent})));var N=n(78440),_=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const z=a.forwardRef(((e,t)=>{const{prefixCls:n,className:o,rootClassName:r,style:l,tooltips:i,character:s=a.createElement(f,null),disabled:c}=e,d=_(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),{getPrefixCls:u,direction:m,rate:h}=a.useContext(I.QO),v=u("rate",n),[g,y,A]=R(v),x=Object.assign(Object.assign({},null===h||void 0===h?void 0:h.style),l),b=a.useContext(N.A),j=null!==c&&void 0!==c?c:b;return g(a.createElement(k,Object.assign({ref:t,character:s,characterRender:(e,t)=>{let{index:n}=t;return i?a.createElement(E.A,{title:i[n]},e):e},disabled:j},d,{className:p()(o,r,y,A,null===h||void 0===h?void 0:h.className),style:x,prefixCls:v,direction:m})))}));const B=z;var D=n(6051),M=n(3188),P=n(27210),V=n(49757),W=n(6036),K=n(67407),X=n(61966),q=n(62058),G=n(75337),U=n(94733),Q=n(86213),Y=n(11238),J=n(1880),Z=n(86111),ee=n.n(Z),te=n(31517),ne=n(80726),ae=n.n(ne),oe=n(1457),re=n(70579);const{Title:le}=o.A,{confirm:ie}=r.A,se=()=>{const e=J.A.get("token"),t=e?ee().AES.decrypt(e,"Abhinanadan02").toString(ee().enc.Utf8):null,[n,o]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[v]=l.A.useForm();(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{try{const e=await Q.A.get("https://majesticmall.net/api/admin/getTestimonials",{headers:{Authorization:`Bearer ${t}`}});200===e.status&&(o(e.data.testimonials),c(e.data.testimonials))}catch(e){console.error("Error fetching testimonials:",e),i.Ay.error("Failed to fetch testimonials")}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;h(e),e?v.setFieldsValue(e):v.resetFields(),m(!0)},A=()=>{m(!1),h(null),v.resetFields()},x=async e=>{try{200===(await Q.A.delete(`https://majesticmall.net/api/admin/deleteTestimonial/${e}`,{headers:{Authorization:`Bearer ${t}`}})).status&&(i.Ay.success("Testimonial deleted successfully"),g())}catch(n){console.error("Error deleting testimonial:",n),i.Ay.error("Failed to delete testimonial")}},b=[{title:"Name",dataIndex:"name",key:"name"},{title:"Profession",dataIndex:"profession",key:"profession"},{title:"Message",dataIndex:"message",key:"message",render:e=>(0,re.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})},{title:"Rating",dataIndex:"rating",key:"rating",render:e=>(0,re.jsx)(B,{disabled:!0,defaultValue:e})},{title:"Profile Image",dataIndex:"profileImage",key:"profileImage",render:e=>(0,re.jsx)("img",{src:`https://majesticmall.net/image/${e}`,alt:"profile",loading:"lazy",style:{width:"50px",height:"50px",objectFit:"cover"},onError:e=>{e.target.src="../img/example.jpg"}})},{title:"Action",key:"action",render:(e,t)=>(0,re.jsxs)(D.A,{children:[(0,re.jsx)(M.Ay,{icon:(0,re.jsx)(K.A,{}),onClick:()=>y(t)}),(0,re.jsx)(M.Ay,{icon:(0,re.jsx)(X.A,{}),onClick:()=>{return e=t._id,void ie({title:"Are you sure you want to delete?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk(){x(e)},onCancel(){}});var e}})]})}];return(0,re.jsxs)("div",{style:{padding:24},children:[(0,re.jsxs)("div",{style:{marginBottom:16,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,re.jsx)(le,{level:3,children:"Testimonial"}),(0,re.jsxs)(D.A,{children:[(0,re.jsx)(P.A,{placeholder:"Search testimonials",onChange:e=>(e=>{u(e);const t=n.filter((t=>Object.values(t).some((t=>null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.toLowerCase())))));c(t)})(e.target.value),prefix:(0,re.jsx)(q.A,{}),style:{width:200}}),(0,re.jsx)(M.Ay,{type:"primary",icon:(0,re.jsx)(oe.A,{size:16}),onClick:()=>{const e=s.map((e=>{let{_id:t,__v:n,profileImage:a,...o}=e;return o})),t=Y.Wp.json_to_sheet(e),n=Y.Wp.book_new();Y.Wp.book_append_sheet(n,t,"Testimonials"),Y._h(n,"Testimonials.xlsx")},children:"Export to Excel"}),(0,re.jsx)(M.Ay,{type:"primary",icon:(0,re.jsx)(G.A,{}),onClick:()=>y(),children:"Add Testimonial"})]})]}),(0,re.jsx)(V.A,{columns:b,dataSource:s,rowKey:"_id"}),(0,re.jsx)(r.A,{title:p?"Edit Testimonial":"Add Testimonial",visible:f,onCancel:A,footer:null,children:(0,re.jsxs)(l.A,{form:v,onFinish:async e=>{try{const n=new FormData;let a;Object.keys(e).forEach((t=>{"profileImage"===t?e[t]&&e[t].fileList&&e[t].fileList.length>0&&n.append(t,e[t].fileList[0].originFileObj):n.append(t,e[t])})),a=p?await Q.A.post(`https://majesticmall.net/api/admin/editTestimonial/${p._id}`,n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}}):await Q.A.post("https://majesticmall.net/api/admin/addTestimonial",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}}),200===a.status&&(i.Ay.success(`Testimonial ${p?"updated":"added"} successfully`),g(),A())}catch(n){console.error("Error saving testimonial:",n),i.Ay.error("Failed to save testimonial")}},layout:"vertical",children:[(0,re.jsx)(l.A.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name!"}],children:(0,re.jsx)(P.A,{})}),(0,re.jsx)(l.A.Item,{name:"profession",label:"Profession",rules:[{required:!0,message:"Please input the profession!"}],children:(0,re.jsx)(P.A,{})}),(0,re.jsx)(l.A.Item,{name:"message",label:"Message",rules:[{required:!0,message:"Please input the message!"}],children:(0,re.jsx)(te.aF,{editor:ae(),data:(null===p||void 0===p?void 0:p.message)||"",onChange:(e,t)=>{const n=t.getData();v.setFieldsValue({message:n})}})}),(0,re.jsx)(l.A.Item,{name:"rating",label:"Rating",rules:[{required:!0,message:"Please rate!"}],children:(0,re.jsx)(B,{})}),(0,re.jsx)(l.A.Item,{name:"profileImage",label:"Profile Image",children:(0,re.jsx)(W.A,{listType:"picture",maxCount:1,beforeUpload:()=>!1,children:(0,re.jsx)(M.Ay,{icon:(0,re.jsx)(U.A,{}),children:"Select Image"})})}),(0,re.jsx)(l.A.Item,{children:(0,re.jsxs)(M.Ay,{type:"primary",htmlType:"submit",children:[p?"Update":"Add"," Testimonial"]})})]})})]})}},94733:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(58168),o=n(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var l=n(22172),i=function(e,t){return o.createElement(l.A,(0,a.A)({},e,{ref:t,icon:r}))};const s=o.forwardRef(i)}}]);
//# sourceMappingURL=8026.2715af03.chunk.js.map