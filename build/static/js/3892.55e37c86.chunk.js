"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[3892],{97959:(e,t,i)=>{i.d(t,{A:()=>a});i(65043);var n=i(70579);const a=e=>{const{type:t,label:i,i_id:a,i_class:r,name:l,val:o,onChng:s,onBlr:c,style:d}=e;return(0,n.jsxs)("div",{className:"form-floating mt-3",children:[(0,n.jsx)("label",{htmlFor:i,children:i}),(0,n.jsx)("input",{type:t,className:`form-control ${r}`,id:a,placeholder:i,value:o,onChange:s,style:d,onBlur:c})]})}},81511:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Ee});var n=i(65043),a=i(23927),r=i(27210),l=i(89073),o=i(22019),s=i(59748),c=i(3188),d=i(40164),u=i(98139),h=i.n(u),m=i(58168),g=i(64467),p=i(5544),x=i(80045),A=i(28678),y=i(25001),v=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],j=n.forwardRef((function(e,t){var i,a=e.prefixCls,r=void 0===a?"rc-switch":a,l=e.className,o=e.checked,s=e.defaultChecked,c=e.disabled,d=e.loadingIcon,u=e.checkedChildren,j=e.unCheckedChildren,b=e.onClick,S=e.onChange,f=e.onKeyDown,k=(0,x.A)(e,v),w=(0,A.A)(!1,{value:o,defaultValue:s}),C=(0,p.A)(w,2),$=C[0],_=C[1];function I(e,t){var i=$;return c||(_(i=e),null===S||void 0===S||S(i,t)),i}var N=h()(r,l,(i={},(0,g.A)(i,"".concat(r,"-checked"),$),(0,g.A)(i,"".concat(r,"-disabled"),c),i));return n.createElement("button",(0,m.A)({},k,{type:"button",role:"switch","aria-checked":$,disabled:c,className:N,ref:t,onKeyDown:function(e){e.which===y.A.LEFT?I(!1,e):e.which===y.A.RIGHT&&I(!0,e),null===f||void 0===f||f(e)},onClick:function(e){var t=I(!$,e);null===b||void 0===b||b(t,e)}}),d,n.createElement("span",{className:"".concat(r,"-inner")},n.createElement("span",{className:"".concat(r,"-inner-checked")},u),n.createElement("span",{className:"".concat(r,"-inner-unchecked")},j)))}));j.displayName="Switch";const b=j;var S=i(12366),f=i(35296),k=i(78440),w=i(89122),C=i(7896),$=i(50097),_=i(94414),I=i(78855),N=i(78446);const P=e=>{const{componentCls:t,trackHeightSM:i,trackPadding:n,trackMinWidthSM:a,innerMinMarginSM:r,innerMaxMarginSM:l,handleSizeSM:o,calc:s}=e,c=`${t}-inner`,d=(0,C.zA)(s(o).add(s(n).mul(2)).equal()),u=(0,C.zA)(s(l).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:a,height:i,lineHeight:(0,C.zA)(i),[`${t}-inner`]:{paddingInlineStart:l,paddingInlineEnd:r,[`${c}-checked, ${c}-unchecked`]:{minHeight:i},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${d} - ${u})`,marginInlineEnd:`calc(100% - ${d} + ${u})`},[`${c}-unchecked`]:{marginTop:s(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:o,height:o},[`${t}-loading-icon`]:{top:s(s(o).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:r,paddingInlineEnd:l,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${d} + ${u})`,marginInlineEnd:`calc(-100% + ${d} - ${u})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,C.zA)(s(o).add(n).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:s(e.marginXXS).div(2).equal(),marginInlineEnd:s(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:s(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:s(e.marginXXS).div(2).equal()}}}}}}},W=e=>{const{componentCls:t,handleSize:i,calc:n}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:n(n(i).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},z=e=>{const{componentCls:t,trackPadding:i,handleBg:n,handleShadow:a,handleSize:r,calc:l}=e,o=`${t}-handle`;return{[t]:{[o]:{position:"absolute",top:i,insetInlineStart:i,width:r,height:r,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:n,borderRadius:l(r).div(2).equal(),boxShadow:a,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${o}`]:{insetInlineStart:`calc(100% - ${(0,C.zA)(l(r).add(i).equal())})`},[`&:not(${t}-disabled):active`]:{[`${o}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${o}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},M=e=>{const{componentCls:t,trackHeight:i,trackPadding:n,innerMinMargin:a,innerMaxMargin:r,handleSize:l,calc:o}=e,s=`${t}-inner`,c=(0,C.zA)(o(l).add(o(n).mul(2)).equal()),d=(0,C.zA)(o(r).mul(2).equal());return{[t]:{[s]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:r,paddingInlineEnd:a,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${s}-checked, ${s}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:i},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${d})`,marginInlineEnd:`calc(100% - ${c} + ${d})`},[`${s}-unchecked`]:{marginTop:o(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${s}`]:{paddingInlineStart:a,paddingInlineEnd:r,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${d})`,marginInlineEnd:`calc(-100% + ${c} - ${d})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:o(n).mul(2).equal(),marginInlineEnd:o(n).mul(-1).mul(2).equal()}},[`&${t}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:o(n).mul(-1).mul(2).equal(),marginInlineEnd:o(n).mul(2).equal()}}}}}},B=e=>{const{componentCls:t,trackHeight:i,trackMinWidth:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,_.dF)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:n,height:i,lineHeight:(0,C.zA)(i),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,_.K8)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},E=(0,I.OF)("Switch",(e=>{const t=(0,N.oX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[B(t),M(t),z(t),W(t),P(t)]}),(e=>{const{fontSize:t,lineHeight:i,controlHeight:n,colorWhite:a}=e,r=t*i,l=n/2,o=r-4,s=l-4;return{trackHeight:r,trackHeightSM:l,trackMinWidth:2*o+8,trackMinWidthSM:2*s+4,trackPadding:2,handleBg:a,handleSize:o,handleSizeSM:s,handleShadow:`0 2px 4px 0 ${new $.q("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:o/2,innerMaxMargin:o+2+4,innerMinMarginSM:s/2,innerMaxMarginSM:s+2+4}}));var D=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i};const R=n.forwardRef(((e,t)=>{const{prefixCls:i,size:a,disabled:r,loading:l,className:o,rootClassName:s,style:c,checked:u,value:m,defaultChecked:g,defaultValue:p,onChange:x}=e,y=D(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[v,j]=(0,A.A)(!1,{value:null!==u&&void 0!==u?u:m,defaultValue:null!==g&&void 0!==g?g:p}),{getPrefixCls:C,direction:$,switch:_}=n.useContext(f.QO),I=n.useContext(k.A),N=(null!==r&&void 0!==r?r:I)||l,P=C("switch",i),W=n.createElement("div",{className:`${P}-handle`},l&&n.createElement(d.A,{className:`${P}-loading-icon`})),[z,M,B]=E(P),R=(0,w.A)(a),U=h()(null===_||void 0===_?void 0:_.className,{[`${P}-small`]:"small"===R,[`${P}-loading`]:l,[`${P}-rtl`]:"rtl"===$},o,s,M,B),L=Object.assign(Object.assign({},null===_||void 0===_?void 0:_.style),c);return z(n.createElement(S.A,{component:"Switch"},n.createElement(b,Object.assign({},y,{checked:v,onChange:function(){j(arguments.length<=0?void 0:arguments[0]),null===x||void 0===x||x.apply(void 0,arguments)},prefixCls:P,className:U,style:L,disabled:N,ref:t,loadingIcon:W}))))})),U=R;U.__ANT_SWITCH=!0;const L=U;var O=i(6051),T=i(46909),F=i(8918),q=i(20691),H=i(76399),V=i(8354),X=i(6036),K=i(49757),G=i(35087),Q=i(26533),J=i(9855),Y=i(57856),Z=i(76245),ee=i(1457),te=i(70067),ie=i(39292),ne=i(71360),ae=i(62862),re=i(7249),le=i(86213),oe=i(34535),se=i(11238),ce=i(80229),de=i(50423),ue=i(47715),he=i(63336),me=i(68903),ge=i(53193),pe=i(79190),xe=i(32143),Ae=i(15795),ye=i(15316),ve=i(26494),je=i(17392),be=i(1880),Se=i(86111),fe=i.n(Se),ke=i(31517),we=i(80726),Ce=i.n(we),$e=i(68424),_e=(i(97959),i(35475)),Ie=i(3825),Ne=i(70579);const{Title:Pe,Text:We}=a.A,{Option:ze}=ue.A,{TextArea:Me}=r.A,Be=(0,oe.Ay)(he.A)((e=>{let{theme:t}=e;return{border:`2px dashed ${t.palette.divider}`,padding:t.spacing(4),textAlign:"center",cursor:"pointer",marginBottom:t.spacing(2),"&:hover":{borderColor:t.palette.primary.main}}})),Ee=()=>{var e,t;const i=be.A.get("token"),d=i?fe().AES.decrypt(i,"Abhinanadan02").toString(fe().enc.Utf8):null,[u,h]=(0,n.useState)(!1),[m,g]=(0,n.useState)([]),[p,x]=(0,n.useState)([]),[A,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(""),[b,S]=(0,n.useState)([]),[f,k]=(0,n.useState)([]),[w,C]=(0,n.useState)([]),[$,_]=(0,n.useState)([]),[I,N]=(0,n.useState)(""),[P,W]=(0,n.useState)(""),[z,M]=(0,n.useState)(""),[B,E]=(0,n.useState)(""),[D,R]=(0,n.useState)(""),[U,Se]=(0,n.useState)(""),[we,ze]=(0,n.useState)(""),[Me,Ee]=(0,n.useState)(""),[De,Re]=(0,n.useState)(""),[Ue,Le]=(0,n.useState)(""),[Oe,Te]=(0,n.useState)(""),[Fe,qe]=(0,n.useState)(""),[He,Ve]=(0,n.useState)(""),[Xe,Ke]=(0,n.useState)({value:"",price:"",units:"",stock:"",minStock:""}),[Ge,Qe]=(0,n.useState)([]),[Je,Ye]=(0,n.useState)([]),[Ze,et]=(0,n.useState)({});function tt(){return Math.floor(1e5+9e5*Math.random())}const[it,nt]=(0,n.useState)({}),at=(0,oe.Ay)(l.A)((e=>{let{theme:t}=e;return{marginBottom:t.spacing(1)}})),{getRootProps:rt,getInputProps:lt}=(0,$e.VB)({onDrop:e=>st([...ot,...e]),accept:"image/*,video/*"}),[ot,st]=(0,n.useState)([]);(0,n.useEffect)((()=>{(async()=>{let e=await le.A.get("https://majesticmall.net/api/admin/getUnit",{headers:{Authorization:`Bearer ${d}`}});var t;(e.status=200)&&_(null===(t=e.data)||void 0===t?void 0:t.Unit)})(),(async()=>{let e=await le.A.get("https://majesticmall.net/api/admin/getTag",{headers:{Authorization:`Bearer ${d}`}});var t;(e.status=200)&&C(null===(t=e.data)||void 0===t?void 0:t.Tag)})(),(async()=>{try{const i=await le.A.get("https://majesticmall.net/api/admin/getCategory",{headers:{Authorization:`Bearer ${d}`}});if(200===i.status){var e,t;S(null===(e=i.data)||void 0===e?void 0:e.category);const n={};null===(t=i.data)||void 0===t||t.category.forEach((e=>{n[e._id]=e.categoryName})),et(n)}}catch(i){o.Ay.error("Failed to fetch categories")}})(),(async()=>{try{const i=await le.A.get("https://majesticmall.net/api/admin/getSubcategory",{headers:{Authorization:`Bearer ${d}`}});if(200===i.status){var e,t;k(null===(e=i.data)||void 0===e?void 0:e.Subcategory.filter((e=>"Active"===e.status)));const n={};null===(t=i.data)||void 0===t||t.Subcategory.filter((e=>"Active"===e.status)).forEach((e=>{n[e._id]=e.SubcategoryName})),nt(n)}}catch(i){o.Ay.error("Failed to fetch subcategories")}})()}),[]);const[ct,dt]=(0,n.useState)(!1),[ut,ht]=(0,n.useState)(!1),[mt,gt]=(0,n.useState)(!1),[pt,xt]=(0,n.useState)(null),[At]=s.A.useForm(),[yt,vt]=(0,n.useState)(null),jt=(e,t)=>(e-e*t/100).toFixed(2),bt=async()=>{try{y(!0);const e=(await le.A.get("https://majesticmall.net/api/admin/Getproductlist",{headers:{Authorization:`Bearer ${d}`}})).data.ProductList;g(e),x(e)}catch(e){o.Ay.error("Failed to fetch products")}finally{y(!1)}};(0,n.useEffect)((()=>{bt()}),[]);const St=Ge.concat(null===pt||void 0===pt?void 0:pt.weight),ft=async e=>{const t=new FormData;try{for(let i=0;i<ot.length;i++)t.append("id",e),t.append("Photos",ot[i]),await fetch("https://majesticmall.net/api/admin/addPhotos/",{method:"post",headers:{Authorization:`Bearer ${d}`},body:t});o.Ay.success("Products updated successfully"),window.location.reload()}catch(i){}},kt=[{title:"Product Name",dataIndex:"productname",key:"productname",sorter:(e,t)=>e.productname.localeCompare(t.productname)},{title:"Category",dataIndex:"category",key:"category",render:e=>Ze[e]||"Unknown Category"},{title:"Subcategory",dataIndex:"subcategory",key:"subcategory",render:e=>it[e]||"Unknown Subcategory"},{title:"Price",dataIndex:"price",key:"price",sorter:(e,t)=>e.price-t.price},{title:"Status",key:"status",render:(e,t)=>(0,Ne.jsx)(c.Ay,{type:"Active"===t.status?"primary":"danger",onClick:()=>(async e=>{try{const t="Active"===e.status?"changeActiveStatus":"changeInactiveStatus";await le.A.get(`https://majesticmall.net/api/admin/${t}/${e._id}`,{headers:{Authorization:`Bearer ${d}`}}),o.Ay.success(`Product ${"Active"===e.status?"blocked":"unblocked"} successfully`),bt()}catch(t){o.Ay.error("Failed to update product status")}})(t),children:"Active"===t.status?"Active":"Inactive"})},{title:"Best Seller",key:"Best Seller",render:(e,t)=>(0,Ne.jsx)(L,{style:{backgroundColor:t.bestsellerstatus?"#28a745":"#d9d9d9"},defaultChecked:t.bestsellerstatus,onClick:()=>(async e=>{try{await le.A.get(`https://majesticmall.net/api/admin/addbestseller/${e}`,{headers:{Authorization:`Bearer ${d}`}}),o.Ay.success("Product successfully updated"),bt()}catch(t){console.log(t)}})(null===t||void 0===t?void 0:t._id)})},{title:"Actions",key:"actions",render:(e,t)=>(0,Ne.jsxs)(O.A,{children:[(0,Ne.jsx)(c.Ay,{type:"text",icon:(0,Ne.jsx)(G.A,{size:16}),onClick:()=>{xt(t),h(!0)}}),(0,Ne.jsx)(c.Ay,{type:"text",icon:(0,Ne.jsx)(Q.A,{size:16}),onClick:()=>{return xt(e=t),At.setFieldsValue(e),void dt(!0);var e}}),(0,Ne.jsx)(c.Ay,{type:"text",danger:!0,icon:(0,Ne.jsx)(J.A,{size:16}),onClick:()=>{xt(t),ht(!0)}})]})}],wt=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),Ct=e=>{var t;let{product:i,visible:n,onClose:a}=e;if(!i)return null;const r=i.weight,s=i.Clubweight;return(0,Ne.jsx)(T.A,{title:(0,Ne.jsxs)(O.A,{children:[(0,Ne.jsx)(Y.A,{size:20})," Product Details"]}),visible:n,onCancel:a,width:1e3,footer:[(0,Ne.jsx)(c.Ay,{onClick:a,children:"Close"},"close")],children:(0,Ne.jsxs)(F.A,{defaultActiveKey:"1",children:[(0,Ne.jsx)(ae.A,{tab:"Basic Information",children:(0,Ne.jsxs)(q.A,{bordered:!0,column:2,children:[(0,Ne.jsx)(q.A.Item,{label:"Product Name",span:2,children:i.productname}),(0,Ne.jsx)(q.A.Item,{label:"Category",children:Ze[i.category]}),(0,Ne.jsx)(q.A.Item,{label:"Subcategory",children:it[i.subcategory]}),(0,Ne.jsx)(q.A.Item,{label:"Tag",children:i.tag}),(0,Ne.jsx)(q.A.Item,{label:"Subscription Type",children:i.subscribe}),(0,Ne.jsx)(q.A.Item,{label:"Base Price",children:wt(i.price)}),(0,Ne.jsx)(q.A.Item,{label:"Status",children:(0,Ne.jsx)(H.A,{color:"Active"===i.status?"green":"red",children:i.status})})]})},"1"),(0,Ne.jsx)(ae.A,{tab:"Pricing & Discounts",children:(0,Ne.jsxs)(l.A,{title:"Regular Pricing",children:[(0,Ne.jsxs)(q.A,{bordered:!0,column:2,children:[(0,Ne.jsx)(q.A.Item,{label:"Base Price",children:wt(i.price)}),(0,Ne.jsxs)(q.A.Item,{label:"Regular Discount",children:[i.discount,"%"]}),(0,Ne.jsxs)(q.A.Item,{label:"Club Discount",children:[i.clubdiscount,"%"]})]}),(0,Ne.jsx)(V.A,{children:"Weight-based Pricing"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,Ne.jsx)(l.A,{title:"Regular Prices",style:{flex:1},children:r.map(((e,t)=>(0,Ne.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Ne.jsx)(H.A,{color:"blue",children:e.value+" "+(null===e||void 0===e?void 0:e.units)}),(0,Ne.jsx)(We,{style:{marginLeft:"10px"},children:wt(e.price)}),(0,Ne.jsxs)(We,{style:{marginLeft:"10px"},children:["Stock: ",e.stock," | Min Stock Alert: ",e.minStock]})]},t)))}),(0,Ne.jsx)(l.A,{title:"Club Member Prices",style:{flex:1},children:s.map(((e,t)=>(0,Ne.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Ne.jsx)(H.A,{color:"purple",children:e.value+" "+(null===e||void 0===e?void 0:e.units)}),(0,Ne.jsx)(We,{style:{marginLeft:"10px"},children:wt(e.price)}),(0,Ne.jsxs)(We,{style:{marginLeft:"10px"},children:["Stock: ",e.stock," | Min Stock Alert: ",e.minStock]})]},t)))})]})]})},"2"),(0,Ne.jsx)(ae.A,{tab:"Description",children:(0,Ne.jsx)(l.A,{children:i.description&&"string"===typeof i.description?(0,ce.Ay)(i.description):"No description available"})},"4"),(0,Ne.jsx)(ae.A,{tab:"Media Gallery",children:(0,Ne.jsx)("div",{className:"grid grid-cols-3 gap-4",children:null===(t=i.Photos)||void 0===t?void 0:t.map(((e,t)=>(0,Ne.jsxs)("div",{className:"relative",children:[e.file.match(/\.(mp4)$/i)?(0,Ne.jsx)("video",{src:`https://majesticmall.net/product/${e.file}`,className:"object-contain w-full h-40 rounded",controls:!0}):(0,Ne.jsx)("img",{src:`https://majesticmall.net/product/${e.file}`,alt:`Product ${t+1}`,className:"object-contain w-full h-40 rounded",loading:"lazy",onError:e=>{e.target.src="../img/example.jpg"}}),(0,Ne.jsx)(c.Ay,{type:"text",danger:!0,icon:(0,Ne.jsx)(Z.A,{size:16}),className:"absolute top-2 right-2",onClick:()=>(async(e,t)=>{try{await le.A.delete(`https://majesticmall.net/api/admin/removePhotos/${e}/${t}`,{headers:{Authorization:`Bearer ${d}`}}),o.Ay.success("Photo removed successfully"),bt(),window.location.reload()}catch(i){o.Ay.error("Failed to remove photo")}})(i._id,e._id)})]},t)))})},"5")]})})};return(0,Ne.jsxs)("div",{className:"p-0",children:[(0,Ne.jsx)(l.A,{children:(0,Ne.jsxs)("div",{className:"mb-6",children:[(0,Ne.jsx)(Pe,{level:3,children:"Product Management"}),(0,Ne.jsxs)(O.A,{className:"mb-4",children:[(0,Ne.jsx)(c.Ay,{type:"primary",className:"buttons",children:(0,Ne.jsxs)("a",{style:{textDecoration:"none",color:"white",display:"flex",alignItems:"center",gap:"5px"},href:"https://majesticmall.net/excelfile/productexcel.xlsx",target:"_blank",rel:"noopener noreferrer",children:[(0,Ne.jsx)(de.zLN,{size:22})," ",(0,Ne.jsx)("span",{children:"Excel Template"})]})}),(0,Ne.jsx)(c.Ay,{type:"primary",className:"buttons",children:(0,Ne.jsx)(_e.N_,{style:{textDecoration:"none",color:"white"},to:"/admindashboard/product",children:"Add Product"})}),(0,Ne.jsx)(X.A,{accept:".xlsx,.xls",showUploadList:!1,beforeUpload:e=>((async e=>{const t=new FileReader;t.onload=async e=>{try{const t=se.LF(e.target.result,{type:"binary"}),i=t.SheetNames[0],n=t.Sheets[i],a=se.Wp.sheet_to_json(n),[r,l]=await Promise.all([le.A.get("https://majesticmall.net/api/admin/getCategory",{headers:{Authorization:`Bearer ${d}`}}),le.A.get("https://majesticmall.net/api/admin/getSubcategory",{headers:{Authorization:`Bearer ${d}`}})]),s={},c={};r.data.category.forEach((e=>{var t;s[null===e||void 0===e||null===(t=e.categoryName)||void 0===t?void 0:t.toLowerCase()]=e._id})),l.data.Subcategory.forEach((e=>{var t;c[null===e||void 0===e||null===(t=e.SubcategoryName)||void 0===t?void 0:t.toLowerCase()]=e._id}));const u=a.map((e=>{var t,i;const n=s[null===e||void 0===e||null===(t=e.Category)||void 0===t?void 0:t.toLowerCase()],a=c[null===e||void 0===e||null===(i=e.Subcategory)||void 0===i?void 0:i.toLowerCase()];if(!n)throw new Error(`Category "${null===e||void 0===e?void 0:e.Category}" not found in the system`);if(!a)throw new Error(`Subcategory "${null===e||void 0===e?void 0:e.Subcategory}" not found in the system`);return{productname:e.Product_Name,category:n,subcategory:a,description:e.Description,price:e.MRP_Price,discount:e.Discount||0,unit:e.Current_Unit,miniunit:null===e||void 0===e?void 0:e.Minimum_Unit,stock:e.Current_Stock,ministock:e.Minimum_Stock||0,clubdiscount:e.Club_Discount||0,weight:e.Normal_Weight_Value&&e.Normal_Weight_Price&&e.Normal_Weight_Units?[{value:e.Normal_Weight_Value,price:e.Normal_Weight_Price,units:e.Normal_Weight_Units,id:Date.now()+tt()},{value:e.Normal_Weight_Value1,price:e.Normal_Weight_Price1,units:e.Normal_Weight_Units1,id:Date.now()+tt()},{value:e.Normal_Weight_Value2,price:e.Normal_Weight_Price2,units:e.Normal_Weight_Units2,id:Date.now()+tt()}].filter((e=>e.value)):void 0,Clubweight:e.Normal_Weight_Value&&e.Normal_Weight_Price&&e.Normal_Weight_Units?[{value:e.Normal_Weight_Value,price:e.Normal_Weight_Price,units:e.Normal_Weight_Units,id:Date.now()+tt()},{value:e.Normal_Weight_Value1,price:e.Normal_Weight_Price1,units:e.Normal_Weight_Units1,id:Date.now()+tt()},{value:e.Normal_Weight_Value2,price:e.Normal_Weight_Price2,units:e.Normal_Weight_Units2,id:Date.now()+tt()}].filter((e=>e.value)):void 0,Photos:[{file:e.Product_Image_1_Name},{file:e.Product_Image_2_Name},{file:e.Product_Image_3_Name},{file:e.Product_Image_4_Name}].filter((e=>e.file)),tag:e.Tag,subscribe:e.Normal_Subscribe,ministock:e.Minimum_Stock||0,status:"Active"}}));200===(await le.A.post("https://majesticmall.net/api/admin/addmultiproduct",{product:u},{headers:{Authorization:`Bearer ${d}`}})).status&&(o.Ay.success("Products imported successfully"),bt())}catch(t){t.message.includes("not found in the system")?o.Ay.error(t.message):o.Ay.error("Failed to import products"),console.error("Excel upload error:",t)}},t.readAsBinaryString(e)})(e),!1),children:(0,Ne.jsx)(c.Ay,{icon:(0,Ne.jsx)(ee.A,{size:16}),children:"Import Excel"})}),(0,Ne.jsx)(c.Ay,{icon:(0,Ne.jsx)(ee.A,{size:16}),onClick:()=>{const e=p.map((e=>{let{description:t,Photos:i,weight:n,Clubweight:a,stock:r,ministock:l,unit:o,miniunit:s,...c}=e;return c})),t=se.Wp.json_to_sheet(e),i=se.Wp.book_new();se.Wp.book_append_sheet(i,t,"Products"),se._h(i,"products-export.xlsx")},children:"Export Excel"}),(0,Ne.jsx)(X.A,{accept:"image/*,video/*",multiple:!0,showUploadList:!1,beforeUpload:e=>((async e=>{const t=new FormData;e.forEach((e=>{t.append("productimage",e)}));try{200===(await le.A.post("https://majesticmall.net/api/admin/productimage",t,{headers:{Authorization:`Bearer ${d}`}})).status&&(o.Ay.success("Images uploaded successfully"),bt())}catch(i){o.Ay.error("Failed to upload images")}})([e]),!1),children:(0,Ne.jsx)(c.Ay,{icon:(0,Ne.jsx)(te.A,{size:16}),children:"Upload Images"})}),(0,Ne.jsx)(Ct,{product:pt,visible:u,onClose:()=>h(!1)}),(0,Ne.jsx)(c.Ay,{type:"primary",className:"buttons",children:(0,Ne.jsxs)(_e.N_,{style:{textDecoration:"none",color:"white",display:"flex",gap:"4px",alignItems:"center"},to:"/admindashboard/stock",children:[(0,Ne.jsx)(Ie.RN2,{})," ",(0,Ne.jsx)("span",{children:"Stock"})]})})]}),(0,Ne.jsx)(r.A,{placeholder:"Search products...",prefix:(0,Ne.jsx)(ie.A,{size:16}),value:v,onChange:e=>(e=>{j(e);const t=m.filter((t=>Object.values(t).some((t=>t&&t.toString().toLowerCase().includes(e.toLowerCase())))));x(t)})(e.target.value),className:"mb-4",allowClear:!0}),(0,Ne.jsx)(K.A,{columns:kt,dataSource:p,rowKey:"_id",loading:A,pagination:{pageSize:10},scroll:{x:"max-content"},components:{header:{cell:e=>(0,Ne.jsx)("th",{...e,style:{...e.style,background:"linear-gradient(#000,#000,#000)",color:"white"}})}}})]})}),(0,Ne.jsxs)(re.A,{show:ct,dialogClassName:"custom-modal1",onHide:()=>dt(!1),backdrop:"static",keyboard:!1,children:[(0,Ne.jsx)(re.A.Header,{closeButton:!0,children:(0,Ne.jsx)(re.A.Title,{children:"Update Product"})}),(0,Ne.jsx)(re.A.Body,{children:(0,Ne.jsxs)(me.Ay,{container:!0,spacing:3,children:[(0,Ne.jsx)(me.Ay,{item:!0,xs:12,children:(0,Ne.jsxs)(he.A,{sx:{p:3},children:[(0,Ne.jsx)(a.A,{variant:"h6",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Basic Information"}),(0,Ne.jsxs)(me.Ay,{container:!0,spacing:2,children:[(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:4,children:(0,Ne.jsxs)(ge.A,{fullWidth:!0,children:[(0,Ne.jsx)(pe.A,{children:"Category"}),(0,Ne.jsxs)(ue.A,{onChange:e=>M(e.target.value),value:z||(null===pt||void 0===pt?void 0:pt.category),label:"Category",children:[(0,Ne.jsx)(xe.A,{value:"",children:"Select Category"}),null===b||void 0===b?void 0:b.map(((e,t)=>(0,Ne.jsx)(xe.A,{value:e._id,children:e.categoryName},t)))]})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:4,children:(0,Ne.jsxs)(ge.A,{fullWidth:!0,children:[(0,Ne.jsx)(pe.A,{children:"Sub-Category"}),(0,Ne.jsxs)(ue.A,{onChange:e=>E(e.target.value),value:B||it[null===pt||void 0===pt?void 0:pt.subcategory],label:"Sub-Category",children:[(0,Ne.jsx)(xe.A,{value:"",children:"Select Sub-Category"}),f.filter((e=>e.categoryId===z)).map(((e,t)=>(0,Ne.jsx)(xe.A,{value:e._id,children:e.SubcategoryName},t)))]})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:4,children:(0,Ne.jsxs)(ge.A,{fullWidth:!0,children:[(0,Ne.jsx)(pe.A,{children:"Product Type"}),(0,Ne.jsxs)(ue.A,{onChange:e=>qe(e.target.value),value:Fe||(null===pt||void 0===pt?void 0:pt.subscribe),label:"Product Type",children:[(0,Ne.jsx)(xe.A,{value:"",children:"Select Type"}),(0,Ne.jsx)(xe.A,{value:"Normal",children:"Normal"}),(0,Ne.jsx)(xe.A,{value:"Subscription",children:"Subscription"})]})]})})]})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,children:(0,Ne.jsxs)(he.A,{sx:{p:3},children:[(0,Ne.jsx)(a.A,{variant:"h6",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Product Details"}),(0,Ne.jsxs)(me.Ay,{container:!0,spacing:2,children:[(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:4,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"text",label:"Product Title",onChange:e=>N(e.target.value),value:I||(null===pt||void 0===pt?void 0:pt.productname)})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:4,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"number",label:"Product Price",onChange:e=>W(e.target.value),value:P||(null===pt||void 0===pt?void 0:pt.price)})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:4,children:(0,Ne.jsxs)(ge.A,{fullWidth:!0,children:[(0,Ne.jsx)(pe.A,{children:"Product Tag"}),(0,Ne.jsxs)(ue.A,{onChange:e=>R(e.target.value),value:D||(null===pt||void 0===pt?void 0:pt.tag),label:"Product Tag",children:[(0,Ne.jsx)(xe.A,{value:"",children:"Select Tag"}),w.map(((e,t)=>(0,Ne.jsx)(xe.A,{value:e.tag,children:e.tag},t)))]})]})})]})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,children:(0,Ne.jsxs)(he.A,{sx:{p:3},children:[(0,Ne.jsx)(a.A,{variant:"h6",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Pricing Options"}),(0,Ne.jsxs)(me.Ay,{container:!0,spacing:2,children:[(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:6,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"number",label:"Normal Member Discount (%)",onChange:e=>Se(e.target.value),value:U||(null===pt||void 0===pt?void 0:pt.discount)})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:6,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"number",label:"Club Member Discount (%)",onChange:e=>ze(e.target.value),value:we||(null===pt||void 0===pt?void 0:pt.clubdiscount)})})]}),(0,Ne.jsx)(ye.A,{sx:{mt:3},children:(0,Ne.jsxs)(me.Ay,{container:!0,spacing:2,children:[(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:2,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"number",label:"Weight/Volume",value:Xe.value,onChange:e=>Ke({...Xe,value:e.target.value})})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:2,children:(0,Ne.jsxs)(ge.A,{fullWidth:!0,children:[(0,Ne.jsx)(pe.A,{children:"Units"}),(0,Ne.jsxs)(ue.A,{value:Xe.units,onChange:e=>Ke({...Xe,units:e.target.value}),label:"Units",children:[(0,Ne.jsx)(xe.A,{value:"",children:"Select Units"}),$.map(((e,t)=>(0,Ne.jsx)(xe.A,{value:e.unit,children:e.unit},t)))]})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:2,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"number",label:"Price",value:Xe.price,onChange:e=>Ke({...Xe,price:e.target.value})})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:2,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"number",label:"Stock Quantity",value:Xe.stock,onChange:e=>Ke({...Xe,stock:e.target.value})})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:2,children:(0,Ne.jsx)(Ae.A,{fullWidth:!0,type:"number",label:"Min Stock Alert",value:Xe.minStock,onChange:e=>Ke({...Xe,minStock:e.target.value})})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,md:2,children:(0,Ne.jsx)(c.Ay,{variant:"contained",startIcon:(0,Ne.jsx)(ne.A,{}),fullWidth:!0,onClick:()=>(e=>{if(Xe.value&&Xe.price&&Xe.units&&U?U:e.discount&&we?we:e.clubdiscount){const t=jt(Number(Xe.price),Number(U||e.discount)),i=jt(Number(Xe.price),Number(we||e.clubdiscount)),n={...Xe,discountedPrice:t,id:Date.now()},a={...Xe,discountedPrice:i,id:Date.now()};Qe([...Ge,n]),Ye([...Je,a]),Ke({value:"",price:"",units:"",stock:"",minStock:""})}else o.Ay.error("Please fill in all option details and discounts")})(pt),sx:{height:"56px"},style:{backgroundColor:"#000",color:"white"},children:"Add Option"})})]})}),Ge.length>0&&(0,Ne.jsxs)(ye.A,{sx:{mt:3},children:[(0,Ne.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Normal Members Preview"}),Ge.map((e=>(0,Ne.jsx)(at,{children:(0,Ne.jsxs)(ve.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ne.jsxs)(a.A,{children:[e.value," ",e.units," - Rs ",e.price," ","(Discounted: Rs ",e.discountedPrice,")",(0,Ne.jsx)("br",{}),(0,Ne.jsxs)("small",{children:["Stock: ",e.stock," | Min Stock Alert:"," ",e.minStock]})]}),(0,Ne.jsx)(je.A,{onClick:()=>{return t=e.id,void Qe(Ge.filter((e=>e.id!==t)));var t},color:"error",children:(0,Ne.jsx)(J.A,{})})]})},e.id)))]}),(null===pt||void 0===pt?void 0:pt.weight.length)>0&&(0,Ne.jsxs)(ye.A,{sx:{mt:3},children:[(0,Ne.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Normal Members Preview"}),null===pt||void 0===pt||null===(e=pt.weight)||void 0===e?void 0:e.map((e=>(0,Ne.jsx)(at,{children:(0,Ne.jsxs)(ve.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ne.jsxs)(a.A,{children:[e.value," ",e.units," - Rs ",e.price," ","(Discounted: Rs"," ",e.price-e.price*(U||(null===pt||void 0===pt?void 0:pt.discount)/100),")"]}),(0,Ne.jsxs)(a.A,{variant:"body2",color:"textSecondary",children:["Stock: ",e.stock," | Min Stock Alert:"," ",e.minStock]}),(0,Ne.jsx)(je.A,{onClick:()=>(async(e,t)=>{try{const i={url:`/removeWeight/${e}/${t}`,method:"delete",baseURL:"https://majesticmall.net/api/admin",headers:{"content-type":"application/json"},headers:{Authorization:`Bearer ${d}`}};if(200!==(await(0,le.A)(i)).status)throw new Error("Failed to delete image");o.Ay.success("Successfully removed"),window.location.reload()}catch(i){i.response?o.Ay.error(i.response.data.error):o.Ay.error("Something Wrong")}})(null===pt||void 0===pt?void 0:pt._id,null===e||void 0===e?void 0:e._id),color:"error",children:(0,Ne.jsx)(J.A,{})})]})},e._id)))]}),Je.length>0&&(0,Ne.jsxs)(ye.A,{sx:{mt:3},children:[(0,Ne.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Club Members Preview"}),Je.map((e=>(0,Ne.jsx)(at,{children:(0,Ne.jsxs)(ve.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ne.jsxs)(ye.A,{children:[(0,Ne.jsxs)(a.A,{variant:"subtitle2",children:[e.value," ",e.units]}),(0,Ne.jsxs)(a.A,{color:"textSecondary",children:["Original Price: Rs ",e.price]}),(0,Ne.jsxs)(a.A,{color:"primary",children:["Club Discounted Price: Rs ",e.discountedPrice]}),(0,Ne.jsxs)(a.A,{variant:"body2",color:"textSecondary",children:["Stock: ",e.stock," | Min Stock Alert:"," ",e.minStock]})]}),(0,Ne.jsx)(je.A,{onClick:()=>{return t=e.id,void Ye(Je.filter((e=>e.id!==t)));var t},color:"error",children:(0,Ne.jsx)(J.A,{})})]})},e.id)))]}),(null===pt||void 0===pt?void 0:pt.Clubweight.length)>0&&(0,Ne.jsxs)(ye.A,{sx:{mt:3},children:[(0,Ne.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Club Members Preview"}),null===pt||void 0===pt?void 0:pt.Clubweight.map((e=>(0,Ne.jsx)(at,{children:(0,Ne.jsxs)(ve.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ne.jsxs)(a.A,{children:[e.value," ",e.units," - Rs ",e.price," ","(Discounted: Rs"," ",e.price-e.price*(we||(null===pt||void 0===pt?void 0:pt.clubdiscount)/100),")"]}),(0,Ne.jsxs)(a.A,{variant:"body2",color:"textSecondary",children:["Stock: ",e.stock," | Min Stock Alert:"," ",e.minStock]}),(0,Ne.jsx)(je.A,{onClick:()=>(async(e,t)=>{try{const i={url:`/removeClubWeight/${e}/${t}`,method:"delete",baseURL:"https://majesticmall.net/api/admin",headers:{"content-type":"application/json"},headers:{Authorization:`Bearer ${d}`}};if(200!==(await(0,le.A)(i)).status)throw new Error("Failed to delete image");o.Ay.success("Successfully removed"),window.location.reload()}catch(i){i.response?o.Ay.error(i.response.data.error):o.Ay.error("Something Wrong")}})(null===pt||void 0===pt?void 0:pt._id,null===e||void 0===e?void 0:e._id),color:"error",children:(0,Ne.jsx)(J.A,{})})]})},e._id)))]})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,children:(0,Ne.jsxs)(he.A,{sx:{p:3},children:[(0,Ne.jsx)(a.A,{variant:"h6",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Product Description"}),(0,Ne.jsx)(ke.aF,{editor:Ce(),data:He||(null===pt||void 0===pt?void 0:pt.description),onChange:(e,t)=>{const i=t.getData();Ve(i)}})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,children:(0,Ne.jsxs)(he.A,{sx:{p:3},children:[(0,Ne.jsx)(a.A,{variant:"h6",gutterBottom:!0,style:{marginBottom:"20px",marginRight:"auto",fontWeight:"900"},children:"Product Images"}),(0,Ne.jsxs)(Be,{...rt(),children:[(0,Ne.jsx)("input",{...lt()}),(0,Ne.jsx)(X.A,{size:40,className:"mx-auto mb-2"}),(0,Ne.jsx)(a.A,{children:"Drag & drop files here, or click to select files"}),(0,Ne.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Supports images and videos"})]}),ot.length>0&&(0,Ne.jsx)(me.Ay,{container:!0,spacing:2,children:ot.map(((e,t)=>(0,Ne.jsx)(me.Ay,{item:!0,xs:6,sm:4,md:3,children:(0,Ne.jsx)(l.A,{children:(0,Ne.jsxs)(ye.A,{sx:{position:"relative"},children:[e.type.startsWith("video/")?(0,Ne.jsx)("video",{src:URL.createObjectURL(e),controls:!0,style:{width:"100%",height:"200px",objectFit:"cover"}}):(0,Ne.jsx)(ye.A,{component:"img",src:URL.createObjectURL(e),alt:`Upload ${t+1}`,sx:{width:"100%",height:"200px",objectFit:"cover"}}),(0,Ne.jsx)(je.A,{sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(255, 255, 255, 0.8)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)"}},onClick:()=>{const e=[...ot];e.splice(t,1),st(e)},children:(0,Ne.jsx)(J.A,{size:20})})]})})},t)))})]})}),(0,Ne.jsx)(me.Ay,{item:!0,xs:12,children:(0,Ne.jsx)(ye.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,Ne.jsx)(c.Ay,{variant:"contained",size:"large",onClick:async()=>{try{const e={url:`/updateproduct/${null===pt||void 0===pt?void 0:pt._id}`,method:"post",baseURL:"https://majesticmall.net/api/admin",headers:{"content-type":"application/json"},headers:{Authorization:`Bearer ${d}`},data:{productname:I,price:P,description:He,category:z,subcategory:B,tag:D,discount:U,clubdiscount:we,stock:Me,unit:Ue,miniunit:Oe,ministock:De,weight:St,subscribe:Fe,Clubweight:St}};await(0,le.A)(e).then((e=>{var t;200===e.status&&ft(null===(t=e.data.product)||void 0===t?void 0:t._id)}))}catch(e){o.Ay.success(e.response.data.error)}},startIcon:(0,Ne.jsx)(ne.A,{}),style:{backgroundColor:"#000",color:"white"},children:"Update"})})})]})})]}),(0,Ne.jsx)(T.A,{title:"Confirm Delete",visible:ut,onCancel:()=>ht(!1),onOk:()=>(async e=>{try{await le.A.delete(`https://majesticmall.net/api/admin/deleteProduct/${e}`,{headers:{Authorization:`Bearer ${d}`}}),o.Ay.success("Product deleted successfully"),bt(),ht(!1)}catch(t){o.Ay.error("Failed to delete product")}})(null===pt||void 0===pt?void 0:pt._id),okText:"Delete",okButtonProps:{danger:!0},children:(0,Ne.jsx)("p",{children:"Are you sure you want to delete this product?"})}),(0,Ne.jsx)(T.A,{title:"Product Images",visible:mt,onCancel:()=>gt(!1),footer:null,width:800,children:(0,Ne.jsx)("div",{className:"grid grid-cols-3 gap-4",children:null===pt||void 0===pt||null===(t=pt.Photos)||void 0===t?void 0:t.map(((e,t)=>(0,Ne.jsxs)("div",{className:"relative",children:[e.file.match(/\.(jpg|jpeg|png|gif)$/i)?(0,Ne.jsx)("img",{src:`https://majesticmall.net/product/${e.file}`,alt:`Product ${t+1}`,className:"object-cover w-full h-40 rounded",loading:"lazy",onError:e=>{e.target.src="../img/example.jpg"}}):(0,Ne.jsx)("video",{src:`https://majesticmall.net/product/${e.file}`,className:"object-cover w-full h-40 rounded",controls:!0}),(0,Ne.jsx)(c.Ay,{type:"text",danger:!0,icon:(0,Ne.jsx)(Z.A,{size:16}),className:"absolute top-2 right-2",onClick:()=>{}})]},t)))})})]})}}}]);
//# sourceMappingURL=3892.55e37c86.chunk.js.map