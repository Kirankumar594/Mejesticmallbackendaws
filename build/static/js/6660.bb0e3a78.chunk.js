/*! For license information please see 6660.bb0e3a78.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[6660],{36660:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var i=t(65043),n=t(86213),l=t(1880),r=t(86111),a=t.n(r);const d=(0,t(77784).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var c=t(73216),o=t(70579);const x=()=>{const[e,s]=(0,i.useState)(null),[t,r]=(0,i.useState)(null),x=l.A.get("token"),h=x?a().AES.decrypt(x,"Abhinanadan02").toString(a().enc.Utf8):null;(0,i.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("InvoiceItem"));e&&(s(e),g(e._id))}),[]);const p=(0,c.Ye)(),{orderId:m}=p.params,g=async()=>{try{const e=await n.A.get(`https://majesticmall.net/api/user/getSalesOrder/${m}`,{headers:{Authorization:`Bearer ${h}`}});console.log(e),e.data.success?r(e.data.data):console.error("Sales order not found")}catch(e){console.error("Error fetching sales order:",e)}};return e?(0,o.jsxs)("div",{className:"max-w-2xl p-4 mx-auto bg-white shadow-lg print:shadow-none print-section",children:[(0,o.jsxs)("div",{className:"mb-4 text-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"Majestic Mall"}),(0,o.jsx)("p",{className:"text-sm",children:"123 Store Street, City, State - 123456"}),(0,o.jsx)("p",{className:"text-sm",children:"Phone: (123) 456-7890"})]}),(0,o.jsxs)("div",{className:"flex justify-between mb-4 text-sm",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Invoice No:"})," ",e._id]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Date:"})," ",new Date(e.orderDate).toLocaleDateString()]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Time:"})," ",new Date(e.orderDate).toLocaleTimeString()]})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Customer:"})," ",e.shippingAddress.fullName||e.shippingAddress.name]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Phone:"})," ",e.shippingAddress.mobile||e.shippingAddress.number]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Address:"})," ",e.shippingAddress.street||e.shippingAddress.address1,", ",(0,o.jsx)("br",{}),e.shippingAddress.city||e.shippingAddress.address2," ",e.shippingAddress.state&&`, ${e.shippingAddress.state}`," ",e.shippingAddress.pincode]})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex justify-between p-2 text-sm font-bold bg-gray-200",children:[(0,o.jsx)("span",{className:"w-1/2",children:"Item"}),(0,o.jsx)("span",{className:"w-1/6 text-right",children:"Qty"}),(0,o.jsx)("span",{className:"w-1/6 text-right",children:"Price"}),(0,o.jsx)("span",{className:"w-1/6 text-right",children:"Total"})]}),e.items.map(((e,s)=>(0,o.jsxs)("div",{className:"flex justify-between py-2 text-sm border-b",children:[(0,o.jsx)("span",{className:"w-1/2",children:e.name}),(0,o.jsx)("span",{className:"w-1/6 text-right",children:e.quantity}),(0,o.jsxs)("span",{className:"w-1/6 text-right",children:["\u20b9",e.price.toFixed(2)]}),(0,o.jsxs)("span",{className:"w-1/6 text-right",children:["\u20b9",(e.quantity*e.price).toFixed(2)]})]},s)))]}),t&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h4",{className:"font-bold",children:"Sales Order Items"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex justify-between p-2 text-sm font-bold bg-gray-200",children:[(0,o.jsx)("span",{className:"w-1/2",children:"Item"}),(0,o.jsx)("span",{className:"w-1/6 text-right",children:"Qty"}),(0,o.jsx)("span",{className:"w-1/6 text-right",children:"Price"}),(0,o.jsx)("span",{className:"w-1/6 text-right",children:"Total"})]}),t.items.map(((e,s)=>(0,o.jsxs)("div",{className:"flex justify-between py-2 text-sm border-b",children:[(0,o.jsx)("span",{className:"w-full text-left lg:w-1/2 lg:text-right",children:e.name}),(0,o.jsx)("span",{className:"w-full text-left lg:w-1/6 lg:text-right",children:e.quantity}),(0,o.jsxs)("span",{className:"w-full mr-2 text-left lg:w-1/6 lg:text-right",children:["\u20b9",e.price.toFixed(2)]}),(0,o.jsxs)("span",{className:"w-full mr-2 text-left lg:w-1/6 lg:text-right",children:["\u20b9",(e.quantity*e.price).toFixed(2)]})]},s)))]})]}),(0,o.jsxs)("div",{className:"mb-4 text-right",children:[!t&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Total MRP:"})," \u20b9",((null===e||void 0===e?void 0:e.totalAmount)+(null===e||void 0===e?void 0:e.discount)-(null===e||void 0===e?void 0:e.deliveryCharge)).toFixed(2)]}),!t&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Shipping Fees:"})," \u20b9",(null===e||void 0===e?void 0:e.deliveryCharge).toFixed(2)]}),!t&&(0,o.jsxs)("p",{style:{color:"green"},children:[(0,o.jsx)("strong",{children:"Discount:"})," \u20b9",(null===e||void 0===e?void 0:e.discount).toFixed(2)]}),t&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Total Sales Amount:"})," \u20b9",t.totalAmount.toFixed(2)]}),!t&&(0,o.jsxs)("p",{className:"text-lg font-bold",children:["Total: \u20b9",e.totalAmount.toFixed(2)]})]}),(0,o.jsxs)("div",{className:"mb-4 text-sm text-center",children:[(0,o.jsx)("p",{children:"Thank you for shopping with us!"}),(0,o.jsx)("p",{children:"Please keep this invoice for any returns or exchanges."})]}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center px-4 py-2 text-white bg-green-500",children:[(0,o.jsx)(d,{className:"mr-2"})," Print Invoice"]})})]}):(0,o.jsx)("p",{children:"Loading invoice..."})}}}]);
//# sourceMappingURL=6660.bb0e3a78.chunk.js.map