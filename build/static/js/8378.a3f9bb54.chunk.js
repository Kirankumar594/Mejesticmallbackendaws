"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[8378],{88378:(e,l,t)=>{t.r(l),t.d(l,{default:()=>j});var s=t(65043),i=(t(712),t(83003)),n=t(87923),d=t(11178),a=t(73216),o=t(35475),r=t(78745),c=t(86294),m=t(1880),u=t(86111),x=t.n(u),v=t(86213),h=t(22019),p=t(70579);function j(){var e,l,t,u,j,g;const f=(0,i.wA)(),N=(0,a.Zp)(),y="Abhinanadan02",b=m.A.get("token"),w=b?x().AES.decrypt(b,y).toString(x().enc.Utf8):null,A=(0,i.d4)((e=>e.cart.items)),C=(0,i.d4)((e=>{var l;return null===(l=e.cart1)||void 0===l?void 0:l.items1})),k=(0,i.d4)((e=>e.cart.subtotal)),S=(0,i.d4)((e=>e.cart.total)),F=(0,i.d4)((e=>e.cart1.subtotal1)),E=(0,i.d4)((e=>e.cart1.total1)),T=m.A.get("AllText"),W=T?JSON.parse(x().AES.decrypt(T,y).toString(x().enc.Utf8)):null,[_,$]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{try{const l=await v.A.get("https://majesticmall.net/api/admin/getCategory",{headers:{Authorization:`Bearer ${w}`}});var e;200===l.status&&$(null===(e=l.data)||void 0===e?void 0:e.category.filter((e=>"Active"===e.status)))}catch(l){console.error("Error fetching categories:",l)}})()}),[]);const[O,q]=(0,s.useState)({});(0,s.useEffect)((()=>{(async()=>{try{const l=await v.A.get("https://majesticmall.net/api/admin/getactivedelivery",{headers:{Authorization:`Bearer ${w}`}});var e;200===l.status&&q(null===(e=l.data)||void 0===e?void 0:e.data)}catch(l){console.error("Error fetching delivery charges:",l)}})()}),[]);const z=null===_||void 0===_?void 0:_.find((e=>"Fruits & Vegetables"==(null===e||void 0===e?void 0:e.categoryName))),K=m.A.get("user"),P=K?JSON.parse(x().AES.decrypt(K,y).toString(x().enc.Utf8)):null,[R,D]=(0,s.useState)("normal");let J=0,U=m.A.get("AllTextHead"),B=!1,H=0,M=0,G=0;const L=(0,p.jsx)("h4",{className:"container py-4 mx-auto text-2xl font-semibold text-center text-gray-700",children:"Your Cart is Empty"}),Q=(e,l,t,s)=>{if(!P)return r.oR.info("Please login as a user to proceed with checkout."),void setTimeout((()=>{N("/login")}),2e3);N("/checkout",{state:{orderType:R,deliveryCharge:e,minKm:l,perkmprice:t,minAmount:s}})},V=e=>(0,p.jsx)("ul",{className:"list-group list-group-flush",children:e.map((e=>{var l,t,s,i,a,o,c,m;return(e=>{if(e.category!==(null===z||void 0===z?void 0:z._id))return!1;B||(B=null===z||void 0===z?void 0:z._id,J=(null===W||void 0===W?void 0:W.deliveryCharge)||0,H=(null===W||void 0===W?void 0:W.minOrder)||0,M=(null===W||void 0===W?void 0:W.minKm)||0,G=(null===W||void 0===W?void 0:W.perKmCharge)||0,B=!0)})(e),(0,p.jsx)("li",{className:"px-0 py-3 list-group-item py-lg-0 border-top",children:(0,p.jsxs)("div",{className:"flex flex-wrap items-start gap-3 lg:gap-0",children:[(0,p.jsx)("div",{className:"w-1/4 md:w-1/6",children:(0,p.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{return"normal"===R?(N(`/shop-detail/${null===(l=e)||void 0===l?void 0:l._id}`),void window.scrollTo({top:0,behavior:"smooth"})):(e=>{N(`/shop-detail1/${null===e||void 0===e?void 0:e._id}`),window.scrollTo({top:0,behavior:"smooth"})})(e);var l},children:(0,p.jsx)("img",{src:`https://majesticmall.net/product/${null===e||void 0===e||null===(l=e.Photos[0])||void 0===l?void 0:l.file}`,alt:"Ecommerce",loading:"lazy",className:"object-contain w-24 h-24 md:w-28 md:h-28",onError:e=>{e.target.src="../img/example.jpg"}})})}),(0,p.jsxs)("div",{className:"w-1/4 mt-2 md:w-1/3",children:[(0,p.jsx)("h6",{className:"mb-1 text-lg md:text-xl",children:e.productname}),(0,p.jsxs)("small",{className:"text-muted",children:[null===e||void 0===e||null===(t=e.selectedWeight)||void 0===t?void 0:t.value,null===e||void 0===e||null===(s=e.selectedWeight)||void 0===s?void 0:s.units]})]}),e.stock-(null===e||void 0===e?void 0:e.sellproduct)<=0?(0,p.jsx)("div",{className:"flex items-center justify-center w-1/4 md:w-1/8",children:(0,p.jsx)("p",{style:{color:"red",paddingTop:"27px",textAlign:"center",fontWeight:"500"},children:"Out of Stock"})}):(0,p.jsxs)("div",{className:"flex items-center justify-center w-1/4 md:w-1/8",children:[(0,p.jsx)("button",{onClick:()=>{if(1===e.quantity)try{r.oR.warn("Quantity cannot be less than 1.")}catch(l){console.log(l)}else f("normal"===R?(0,n.dt)(e):(0,d.ul)(e))},className:"px-2 py-2 mx-1 bg-gray-100 rounded-full",children:(0,p.jsx)("i",{className:"fa fa-minus"})}),(0,p.jsx)("p",{className:"mx-2 mt-3 text-center",children:e.quantity}),(0,p.jsx)("button",{onClick:()=>{f("normal"===R?(0,n.CC)(e):(0,d.dJ)(e))},className:"px-2 py-2 mx-1 bg-gray-100 rounded-full",children:(0,p.jsx)("i",{className:"fa fa-plus"})})]}),(0,p.jsxs)("div",{className:"w-full text-center md:mt-0 md:text-right",children:[(0,p.jsxs)("span",{className:"text-lg font-bold md:text-xl",children:["\u20b9",null===(i=parseFloat(((null===e||void 0===e||null===(a=e.selectedWeight)||void 0===a?void 0:a.price)-(null===e||void 0===e||null===(o=e.selectedWeight)||void 0===o?void 0:o.price)*((null!==(c=e.selectedWeight)&&void 0!==c&&c.discount?null===(m=e.selectedWeight)||void 0===m?void 0:m.discount:null===e||void 0===e?void 0:e.discount)/100))*e.quantity))||void 0===i?void 0:i.toFixed(2)]}),(0,p.jsx)("span",{className:"ml-16 cursor-pointer text-danger",onClick:()=>{f("normal"===R?(0,n.N2)(e):(0,d.ug)(e))},children:(0,p.jsx)("i",{className:"fa fa-trash text-l"})})]})]})},e._id)}))});(0,s.useEffect)((()=>{C.length>0&&D("normal")}),[]);const[X,Y]=(0,s.useState)(0);return(0,s.useEffect)((()=>{const e=("scheduled"!==R?A:C).reduce(((e,l)=>{var t,s,i,n;return e+((null===(t=l.selectedWeight)||void 0===t?void 0:t.price)*(null===l||void 0===l?void 0:l.quantity)||0)*((null!==(s=null!==(i=null===(n=l.selectedWeight)||void 0===n?void 0:n.discount)&&void 0!==i?i:null===l||void 0===l?void 0:l.discount)&&void 0!==s?s:0)/100)}),0);Y(e)}),[A,C,R]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.A,{}),(0,p.jsx)(r.N9,{}),(0,p.jsx)("section",{className:"mt-8 mb-8",children:(0,p.jsxs)("div",{className:"container px-4 py-8 mx-auto bg-gray-50",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("h1",{className:"text-2xl md:text-4xl lg:text-4xl font-bold text-center quicksand mt-1 text-[#000]",children:"Shop Cart"}),(0,p.jsx)("div",{className:"flex items-center justify-center p-0 m-0 mb-4",children:(0,p.jsx)("span",{className:"w-[10%] h-1 gradient1 rounded-md m-0 p-0"})})]}),(0,p.jsx)("div",{className:"mb-4",children:(0,p.jsxs)("ul",{className:"items-center justify-center space-y-2 nav nav-tabs",children:[(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)("button",{className:"  nav-link mt-2 w-[150px] lg:w-[200px] "+("normal"===R?"active":""),onClick:()=>D("normal"),children:"Normal Orders"})}),(0,p.jsx)("li",{className:"nav-item",children:(0,p.jsx)("button",{className:` nav-link w-[150px] lg:w-[200px] ${"scheduled"===R?"active":""} `,onClick:()=>D("scheduled"),children:"Scheduled Orders"})})]})}),0===A.length&&0===C.length||"normal"==R&&0===(null===A||void 0===A?void 0:A.length)||"normal"!==R&&0===(null===C||void 0===C?void 0:C.length)?L:(0,p.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,p.jsxs)("div",{className:"md:w-2/3 ",children:[V("normal"===R?A:C),(0,p.jsxs)("div",{className:"flex flex-row items-center",children:[(0,p.jsx)("button",{onClick:()=>{f("normal"===R?(0,n.sX)():(0,d.Lc)())},className:"bg-[#be343b] text-white font-semibold py-[12px] px-4 mt-4 rounded-full mr-2 hover:opacity-80 ",children:"Clear Cart"}),(0,p.jsx)(o.N_,{to:"/",children:(0,p.jsx)("button",{className:"bg-[#000] text-white font-semibold py-[12px] px-4 mt-4 rounded-full hover:opacity-80 ",children:"Continue Shopping"})})]})]}),(0,p.jsx)("div",{className:"md:w-1/3",children:(0,p.jsxs)("div",{className:"p-6 mt-6 card md:mt-0",children:[(0,p.jsx)("h2",{className:"mb-4 h5",children:"Summary"}),"normal"===R?(0,p.jsx)("div",{className:"mb-2 card",children:(0,p.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,p.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Total MRP"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===(e=k+X)||void 0===e?void 0:e.toFixed(2)]})]}),(0,p.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Discount"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===X||void 0===X?void 0:X.toFixed(2)]})]}),(0,p.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Shipping Fee"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===(l=S>=Number(null===O||void 0===O?void 0:O.minAmount)?0:(null===O||void 0===O?void 0:O.deliveryCharges)||0)||void 0===l?void 0:l.toFixed(2)]})]}),(0,p.jsxs)("li",{className:"font-bold list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Total"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===(t=S+(S>=Number(null===O||void 0===O?void 0:O.minAmount)?0:(null===O||void 0===O?void 0:O.deliveryCharges)||0))||void 0===t?void 0:t.toFixed(2)]})]})]})}):(0,p.jsx)("div",{className:"mb-2 card",children:(0,p.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,p.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Total MRP"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===(u=F+X)||void 0===u?void 0:u.toFixed(2)]})]}),(0,p.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Discount"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===X||void 0===X?void 0:X.toFixed(2)]})]}),(0,p.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Shipping Fee"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===(j=E>=Number(H)?0:J)||void 0===j?void 0:j.toFixed(2)]})]}),(0,p.jsxs)("li",{className:"font-bold list-group-item d-flex justify-content-between",children:[(0,p.jsx)("span",{children:"Total"}),(0,p.jsxs)("span",{className:"text-end",children:["\u20b9",null===(g=E+(J||(E>=Number((null===O||void 0===O?void 0:O.minAmount)||0)?0:(null===O||void 0===O?void 0:O.deliveryCharges)||0)))||void 0===g?void 0:g.toFixed(2)]})]})]})}),"normal"!==R?U?(0,p.jsx)("p",{className:"p-2 py-2 mt-2 text-sm text-center text-white rounded-md gradient1",children:U}):(0,p.jsx)(p.Fragment,{}):(0,p.jsx)("p",{className:"p-2 py-2 mt-2 text-sm text-center text-white rounded-md gradient1",children:`\u20b9${(null===O||void 0===O?void 0:O.deliveryCharges)||0} Delivery charge for orders below  \u20b9${null===O||void 0===O?void 0:O.minAmount}`}),(0,p.jsx)("div",{className:"flex items-center justify-center",children:(0,p.jsx)("button",{className:"bg-[#000] text-white font-semibold py-[12px] lg:w-[60%] px-4 rounded-full w-full hover:opacity-80 ",onClick:()=>{"normal"===R?Q(S>=Number(null===O||void 0===O?void 0:O.minAmount)?0:(null===O||void 0===O?void 0:O.deliveryCharges)||0,null===O||void 0===O?void 0:O.minKm,(null===O||void 0===O?void 0:O.perKmPrice)||0,null===O||void 0===O?void 0:O.minAmount):null!==W&&void 0!==W&&W.category?Q(E>=Number(H)?0:J,M,G,H):U?h.Ay.error(U):Q(E>=Number(H)?0:J,M,G,H)},children:"Go to Checkout"})})]})})]})]})})]})}},712:(e,l,t)=>{t.d(l,{A:()=>d});t(65043);var s=t(73216),i=t(35475),n=t(70579);const d=e=>{let{title:l}=e;const t=(0,s.zy)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"back",children:[(0,n.jsx)("div",{className:"overlay-back"}),(0,n.jsx)("h1",{children:l}),(0,n.jsxs)("h2",{children:[(0,n.jsx)(i.N_,{to:"/",children:"Home "}),"/ ",t.pathname.split("/")[1]]})]}),(0,n.jsx)("div",{style:{margin:"3%"}})]})}},86294:(e,l,t)=>{t.d(l,{A:()=>n});var s=t(65043),i=t(73216);const n=()=>{const e=(0,i.zy)();return(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}}}]);
//# sourceMappingURL=8378.a3f9bb54.chunk.js.map