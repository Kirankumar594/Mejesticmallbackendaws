/*! For license information please see 7136.8837aba5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[7136],{24755:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(65043),r=t(23927),i=t(89073),n=t(6051),l=t(27210),d=t(3188),c=t(49757),o=t(77784);const m=(0,o.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),h=(0,o.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var u=t(75088),x=t(39292),p=t(1457),y=t(86213),v=t(86178),k=t.n(v),f=t(11238),j=t(1880),A=t(86111),I=t.n(A),N=t(70579);const{Title:g}=r.A,b=()=>{const e=j.A.get("token"),s=e?I().AES.decrypt(e,"Abhinanadan02").toString(I().enc.Utf8):null,[t,r]=(0,a.useState)([]),[o,v]=(0,a.useState)(""),[A,b]=(0,a.useState)([]);(0,a.useEffect)((()=>{w()}),[]);const D=(e,s)=>{if(!e||!s)return"Pending";const t=k()(e),a=k()(s),r=k().duration(a.diff(t)),i=Math.floor(r.asHours()),n=r.minutes();return 0===i?`${n} min`:`${i}h ${n}m`},w=async()=>{try{const e=await y.A.get("https://majesticmall.net/api/user/getAllCheckin",{headers:{Authorization:`Bearer ${s}`}});200===e.status&&(r(e.data.success),b(e.data.success))}catch(e){console.error("Error fetching users:",e)}},C=[{title:"Imp ID",dataIndex:"_id",key:"_id",render:e=>e.slice(18,24)},{title:"Driver Name",dataIndex:["userId","name"],key:"userId.name"},{title:"Date",dataIndex:"createdAt",key:"createdAt",render:e=>k()(e).format("DD-MM-YYYY")},{title:"Time Details",key:"timeDetails",render:(e,s)=>(0,N.jsx)(i.A,{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(m,{className:"w-4 h-4 text-[#000] mr-2"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"text-sm text-gray-600",children:"Check In"}),(0,N.jsx)("div",{className:"font-semibold",children:k()(s.createdAt).format("HH:mm:ss")})]})]}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(h,{className:"w-4 h-4 text-red-600 mr-2"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"text-sm text-gray-600",children:"Check Out"}),(0,N.jsx)("div",{className:"font-semibold",children:k()(s.updatedAt).format("HH:mm:ss")})]})]}),(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(u.A,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"text-sm text-gray-600",children:"Duration"}),(0,N.jsx)("div",{className:"font-semibold",children:D(s.createdAt,s.updatedAt)})]})]})]})})},{title:"Email ID",dataIndex:["userId","email"],key:"userId.email"},{title:"Phone Number",dataIndex:["userId","mobile"],key:"userId.mobile"}];return(0,N.jsxs)("div",{className:"p-6",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,N.jsx)(g,{level:3,children:"CheckIns"}),(0,N.jsxs)(n.A,{children:[(0,N.jsx)(l.A,{placeholder:"Search Driver Name",onChange:e=>{const s=e.target.value.toLowerCase();v(s);const a=t.filter((e=>{var t;return null===(t=e.userId)||void 0===t?void 0:t.name.toLowerCase().includes(s)}));b(a)},prefix:(0,N.jsx)(x.A,{className:"w-4 h-4"}),className:"min-w-[200px]"}),(0,N.jsx)(d.Ay,{type:"primary",onClick:()=>{const e=A.map((e=>{var s,t,a;return{"Imp ID":e._id.slice(18,24),"Driver Name":null===(s=e.userId)||void 0===s?void 0:s.name,Date:k()(e.createdAt).format("DD-MM-YYYY"),"Check In Time":k()(e.createdAt).format("HH:mm:ss"),"Check Out Time":k()(e.updatedAt).format("HH:mm:ss"),Duration:D(e.createdAt,e.updatedAt),"Email ID":null===(t=e.userId)||void 0===t?void 0:t.email,"Phone Number":null===(a=e.userId)||void 0===a?void 0:a.mobile}})),s=f.Wp.json_to_sheet(e),t=f.Wp.book_new();f.Wp.book_append_sheet(t,s,"Checkins"),f._h(t,"CheckinsData.xlsx")},icon:(0,N.jsx)(p.A,{className:"w-4 h-4"}),children:"Export to Excel"})]})]}),(0,N.jsx)(c.A,{columns:C,dataSource:A,pagination:{pageSize:10},scroll:{x:"max-content"},components:{header:{cell:e=>(0,N.jsx)("th",{...e,style:{...e.style,background:"linear-gradient(#000,#000,#000)",color:"white"}})}},rowKey:e=>e._id})]})}},75088:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(77784).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])}}]);
//# sourceMappingURL=7136.8837aba5.chunk.js.map