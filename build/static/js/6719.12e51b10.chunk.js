"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[6719],{86719:(e,a,t)=>{t.r(a),t.d(a,{default:()=>M});var s=t(65043),l=t(36428),i=t(59812),n=t(3825),r=t(47196),o=t(60397),c=t(85051),d=t(78745),m=t(73216),h=t(50423),u=t(60184),g=t(49804),p=t(32620),b=t(96058),j=t(46909),y=t(98964),x=t(77170),k=t(22019),A=t(79126),f=t(6720),N=t(86213),S=t(86294),$=t(1880),v=t(86111),B=t.n(v),C=t(70579);const{confirm:w}=j.A,{Header:z,Sider:T,Content:L}=y.A,E="https://majesticmall.net/api/admin",M=()=>{const e="Abhinanadan02",a=$.A.get("admin")||localStorage.getItem("admin"),t=a?JSON.parse(B().AES.decrypt(a,e).toString(B().enc.Utf8)):null,[j,v]=(0,s.useState)(!1),{token:{colorBgContainer:M}}=x.A.useToken(),O=(0,m.Zp)(),[P,D]=(0,s.useState)([]),[q,H]=(0,s.useState)([]),[U,F]=(0,s.useState)([]),[G,I]=(0,s.useState)([]),[R,W]=(0,s.useState)([]),[Z,_]=(0,s.useState)([]),[K,X]=(0,s.useState)([]),[Y,J]=(0,s.useState)([]),[Q,V]=(0,s.useState)([]),[ee,ae]=(0,s.useState)([]),[te,se]=(0,s.useState)([]),[le,ie]=(0,s.useState)([]),[ne,re]=(0,s.useState)([]),[oe,ce]=(0,s.useState)([]),[de,me]=(0,s.useState)([]),[he,ue]=(0,s.useState)([]),[ge,pe]=(0,s.useState)([]),[be,je]=(0,s.useState)([]),[ye,xe]=(0,s.useState)([]),[ke,Ae]=(0,s.useState)([]),[fe,Ne]=(0,s.useState)([]),[Se,$e]=(0,s.useState)([]),[ve,Be]=(0,s.useState)([]),[Ce,we]=(0,s.useState)([]),[ze,Te]=(0,s.useState)({}),Le=$.A.get("token"),Ee=Le?B().AES.decrypt(Le,e).toString(B().enc.Utf8):null;(0,s.useEffect)((()=>{(async()=>{try{let e=await N.A.get("https://majesticmall.net/api/admin/getbussinessprofile");200==e.status&&Te(e.data.profile)}catch(e){console.log(e)}})(),Me(),Oe()}),[]);const Me=async()=>{try{const e=await N.A.get(`${E}/getCategory`,{headers:{Authorization:`Bearer ${Ee}`}});D(e.data.category)}catch(e){k.Ay.error("Failed to fetch categories")}},Oe=async()=>{try{const e=await N.A.get(`${E}/getSubcategory`);H(e.data.Subcategory)}catch(e){k.Ay.error("Failed to fetch sub-categories")}};return(0,s.useEffect)((()=>{(async()=>{try{var e,a,t,s,l;const[i,n,r,o,c,d,m,h,u,g,p,b,j,y,x,k,A,f,S,$]=await Promise.all([N.A.get("https://majesticmall.net/api/user/getAllUser",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/user/getallOrder",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/user/getallSubscriptions",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/Getproductlist",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/Getfruitslist",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/user/getAlldriver",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/user/getAllCheckin",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/user/getAllleaves",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getallpromocode",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getallfeedback",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getTestimonials",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getAbandoned",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getText",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getallbanner",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getTitle",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getTag",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getUnit",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getalldiscountbanner",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getalldeliverycharges",{headers:{Authorization:`Bearer ${Ee}`}}),N.A.get("https://majesticmall.net/api/admin/getallclubbanner",{headers:{Authorization:`Bearer ${Ee}`}})]);F(i.data.success),X(o.data.ProductList),J(c.data.fruitsList),V(d.data.success),ae(m.data.success),se(h.data.success),ie(u.data.promocode),re(g.data),ce(p.data.testimonials),me(null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.abandonedCarts),ue(j.data.Text),pe(y.data.banner),xe(x.data.Title),je(k.data.Tag),Ae(A.data.Unit),Ne(f.data.banner),$e(S.data.deliveryCharges),Be($.data.clubbanner),we(n.data.success.filter((e=>"scheduled"===e.orderType))),I(null===(a=i.data)||void 0===a||null===(t=a.success)||void 0===t?void 0:t.filter((e=>!0===e.club))),W(null===(s=n.data)||void 0===s||null===(l=s.success)||void 0===l?void 0:l.filter((e=>"normal"===e.orderType))),_(r.data.success)}catch(i){console.error("Error fetching data:",i)}})()}),[]),(0,C.jsxs)(y.A,{hasSider:!0,children:[(0,C.jsx)(d.N9,{}),(0,C.jsxs)(T,{trigger:null,collapsible:!0,collapsed:j,children:[(0,C.jsx)("div",{className:"logo",children:(0,C.jsxs)("h2",{className:"py-3 mb-0 text-center text-white fs-5",children:[(0,C.jsx)("span",{className:"sm-logo",children:"MM"}),(0,C.jsx)("img",{src:`https://majesticmall.net/profile/${ze.businesslogo}`,loading:"lazy",onError:e=>{e.target.src="../img/example.jpg"},style:{marginTop:"-12px",width:"150px",height:"70px"},className:"lg-logo"})]})}),(0,C.jsx)(A.A,{theme:"dark",mode:"inline",defaultSelectedKeys:[""],onClick:e=>{let{key:a}=e;S.A,"signout"==a||(O(a),window.scrollTo(0,0))},items:[{key:"",icon:(0,C.jsx)(n.jHl,{className:"fs-4"}),label:"Dashboard"},{key:"text",icon:(0,C.jsx)(u._I9,{className:"fs-4"}),label:`Text (${he.length})`},{key:"banner",icon:(0,C.jsx)(u.dkL,{className:"fs-4"}),label:`Banner (${ge.length})`},{key:"business-profile",icon:(0,C.jsx)(f.$G7,{className:"fs-4"}),label:"Business Profile"},{key:"category",icon:(0,C.jsx)(g.y9N,{className:"fs-4"}),label:`Category (${P.length})`},{key:"subcategory",icon:(0,C.jsx)(g.y9N,{className:"fs-4"}),label:`Sub-Category (${q.length})`},{key:"clubcustomers",icon:(0,C.jsx)(n.aSe,{className:"fs-4"}),label:`Club Members (${G.length})`},{key:"customers",icon:(0,C.jsx)(n.aSe,{className:"fs-4"}),label:`Customers (${U.length})`},{key:"wallet",icon:(0,C.jsx)(n.c8K,{className:"fs-4"}),label:"Customers wallet"},{key:"Product",icon:(0,C.jsx)(n.tMs,{className:"fs-4"}),label:"Product",children:[{key:"title",icon:(0,C.jsx)(f.o1M,{className:"fs-4"}),label:`Title (${ye.length})`},{key:"unit",icon:(0,C.jsx)(u.Bk1,{className:"fs-4"}),label:`Units (${ke.length})`},{key:"tag",icon:(0,C.jsx)(u.BuZ,{className:"fs-4"}),label:`Tags (${be.length})`},{key:"disbanner",icon:(0,C.jsx)(u.dkL,{className:"fs-4"}),label:`Discount Banner (${fe.length})`},{key:"list-product",icon:(0,C.jsx)(n.tMs,{className:"fs-4"}),label:`Product List (${K.length})`},{key:"stock",icon:(0,C.jsx)(n.RN2,{className:"fs-4"}),label:"Stock Management "},{key:"DeliveryChargesList",icon:(0,C.jsx)(o.qtE,{className:"fs-4"}),label:`DeliveryCharges (${Se.length})`}]},{key:"Orders",icon:(0,C.jsx)(u.kkc,{className:"fs-4"}),label:"Orders",children:[{key:"orders",icon:(0,C.jsx)(u.kkc,{className:"fs-4"}),label:`Normal (${R.length})`},{key:"orders1",icon:(0,C.jsx)(u.kkc,{className:"fs-4"}),label:`Scheduled (${Ce.length})`},{key:"subscription",icon:(0,C.jsx)(u.kkc,{className:"fs-4"}),label:`Subscription (${Z.length})`}]},{key:"Driver",icon:(0,C.jsx)(c.wXW,{className:"fs-4"}),label:"Driver",children:[{key:"Drivers",icon:(0,C.jsx)(c.wXW,{className:"fs-4"}),label:`Delivery Partner (${Q.length})`},{key:"Checkins",icon:(0,C.jsx)(h.NO8,{className:"fs-4"}),label:`Checkins (${ee.length})`},{key:"leaves",icon:(0,C.jsx)(b.RQH,{className:"fs-4"}),label:`Leaves (${te.length})`}]},{key:"marketing",icon:(0,C.jsx)(r.Sqq,{className:"fs-4"}),label:"Marketing",children:[{key:"coupon-list",icon:(0,C.jsx)(r.Sqq,{className:"fs-4"}),label:`Coupon (${le.length})`}]},{key:"enquiries",icon:(0,C.jsx)(b.ZYh,{className:"fs-4"}),label:`Feedback (${ne.length})`},{key:"testimonial",icon:(0,C.jsx)(p.EWm,{className:"fs-4"}),label:`Testimonial (${oe.length})`},{key:"clubbanner",icon:(0,C.jsx)(u.dkL,{className:"fs-4"}),label:`Club Banner (${ve.length})`},{key:"AbandonedCartList",icon:(0,C.jsx)(f.P3H,{className:"fs-4"}),label:`Abandoned Cart (${de.length})`}]})]}),(0,C.jsxs)(y.A,{className:"site-layout",children:[(0,C.jsxs)(z,{className:"d-flex justify-content-between ps-1 pe-5",style:{padding:"45px",background:M},children:[s.createElement(j?l.A:i.A,{className:"trigger",onClick:()=>v(!j)}),(0,C.jsx)("div",{className:"gap-4 d-flex align-items-center",children:(0,C.jsxs)("div",{className:"gap-3 d-flex align-items-center dropdown",children:[(0,C.jsx)("div",{children:(0,C.jsx)("img",{width:32,height:32,src:"../img/admin.png",alt:"layout",loading:"lazy"})}),(0,C.jsxs)("div",{role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:[(0,C.jsx)("h5",{className:"mb-0",children:t.name}),(0,C.jsx)("p",{className:"mb-0",children:t.email})]}),(0,C.jsx)(u.e9S,{onClick:e=>{w({title:"Are you sure you want to log out?",content:"This action can not be access dashboard.",okText:"Yes",okType:"danger",cancelText:"No",onOk(){d.oR.info("Successfully logout"),$.A.remove("admin"),localStorage.removeItem("admin"),setTimeout((()=>{window.location.assign("/admin")}),1e3)},onCancel(){}})},style:{height:"auto",lineHeight:"20px",fontSize:"20px",color:"red",cursor:"pointer"}})]})})]}),(0,C.jsxs)(L,{style:{margin:"24px 16px",padding:24,minHeight:280,background:M},children:[(0,C.jsx)(d.N9,{position:"top-right",autoClose:250,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,theme:"light"}),(0,C.jsx)(m.sv,{})]})]})]})}},86294:(e,a,t)=>{t.d(a,{A:()=>i});var s=t(65043),l=t(73216);const i=()=>{const e=(0,l.zy)();return(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}}}]);
//# sourceMappingURL=6719.12e51b10.chunk.js.map