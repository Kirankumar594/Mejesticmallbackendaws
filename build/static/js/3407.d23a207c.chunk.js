"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[3407],{63407:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var n=s(65043),i=s(83003),d=s(73216),l=s(86213),r=s(87923),o=s(11178),a=s(47196),c=s(60184),u=s(6720),m=s(79942),h=s(78745),p=s(1880),g=s(86111),x=s.n(g),v=s(70579);const f=()=>{var e;const t=(0,i.wA)(),s="Abhinanadan02",g=p.A.get("token"),f=g?x().AES.decrypt(g,s).toString(x().enc.Utf8):null,[y,b]=(0,n.useState)(!1),[j,N]=(0,n.useState)(""),[w,C]=(0,n.useState)(""),[A,S]=(0,n.useState)([]),[_,W]=(0,n.useState)({fullName:"",street:"",city:"",state:"",country:"",pincode:"",number:"",anumber:"",email:""}),[k,O]=(0,n.useState)(null),$=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:s}=e.coords;var n,i;n=t,i=s,fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${n},${i}&key=AIzaSyDHk6ca_YQVl4SG4v0dMPkBriPtZrPoxpc`).then((e=>e.json())).then((e=>{if("OK"===e.status&&e.results.length>0){const t=e.results[0],s=t.address_components;let d=(null===t||void 0===t?void 0:t.formatted_address)||"",l="",r="",o="",a="";s.forEach((e=>{const t=e.types;t.includes("locality")&&(l=e.long_name),t.includes("administrative_area_level_1")&&(r=e.long_name),t.includes("country")&&(o=e.long_name),t.includes("postal_code")&&(a=e.long_name)})),W({..._,street:d,city:l,state:r,country:o,pincode:a,lat:n,lng:i})}else h.oR.info("Unable to fetch address details.")})).catch((()=>h.oR.info("Failed to fetch address")))}),(e=>h.oR.info(e.message))):h.oR.info("Geolocation is not supported by this browser.")},[P,q]=(0,n.useState)(""),[R,E]=(0,n.useState)(0),[z,F]=(0,n.useState)(!1),[I,D]=(0,n.useState)(""),M=p.A.get("user"),B=M?JSON.parse(x().AES.decrypt(M,s).toString(x().enc.Utf8)):null,T=(0,i.d4)((e=>e.cart.items)),J=(0,i.d4)((e=>e.cart1.items1)),L=(0,i.d4)((e=>e.cart.subtotal)),U=(0,d.zy)(),{orderType:Z,deliveryCharge:G,minKm:K,perkmprice:H,minAmount:Q}=U.state||{},V=(0,i.d4)((e=>e.cart.total)),Y=(0,i.d4)((e=>e.cart1.subtotal1)),X=(0,i.d4)((e=>e.cart1.total1)),[ee,te]=(0,n.useState)([]),se=async()=>{try{const e=await l.A.get(`https://majesticmall.net/api/user/address/${B._id}`,{headers:{Authorization:`Bearer ${f}`}});200===e.status&&S(e.data.success)}catch(e){console.error("Error fetching addresses:",e)}},ne=e=>{const{name:t,value:s}=e.target;if(W({..._,[t]:s}),"fullName"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}if("city"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}if(!("street"===t&&s.length<3)){if("state"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}if("country"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}"pincode"===t&&(!/^\d*$/.test(s)||s.length>6)||"number"===t&&(!/^\d*$/.test(s)||s.length>10)||"anumber"!==t||/^\d*$/.test(s)&&s.length}},ie=("scheduled"!==Z?T:J).reduce(((e,t)=>{var s,n,i,d;return e+((null===(s=t.selectedWeight)||void 0===s?void 0:s.price)*(null===t||void 0===t?void 0:t.quantity)||0)*((null!==(n=null!==(i=null===(d=t.selectedWeight)||void 0===d?void 0:d.discount)&&void 0!==i?i:null===t||void 0===t?void 0:t.discount)&&void 0!==n?n:0)/100)}),0);function de(e,t,s,n,i){if(!n)return 0;let d=parseFloat(n.match(/[\d.]+/)[0]);return"m"===(n.includes("km")?"km":"m")&&(d/=1e3),s<i&&e>d?0:d>e?d*t:t*d}const[le,re]=(0,n.useState)(""),[oe,ae]=(0,n.useState)(0);return(0,n.useEffect)((()=>{(async()=>{if(!j)return;if(null===j||void 0===j||!j.lat||!j.lng)return h.oR.error("Your address not able to find please update");if(!window.google)return;const e={lat:null===j||void 0===j?void 0:j.lat,lng:j.lng};(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[{lat:12.940025819400102,lng:77.5477817106305}],destinations:[e],travelMode:window.google.maps.TravelMode.DRIVING},((e,t)=>{if("OK"===t){const t=e.rows[0].elements[0];ae(t.distance.text)}else console.error("Distance Matrix request failed:",t)}))})()}),[j]),console.log("distance====>",oe,j),(0,n.useEffect)((()=>{(async()=>{try{let e=await l.A.get("https://majesticmall.net/api/admin/getavailablecoupons",{headers:{Authorization:`Bearer ${f}`}});200===e.status&&te(e.data.availableCoupons)}catch(e){console.log(e)}})(),se(),B&&!j&&N(B)}),[]),(0,v.jsxs)("div",{className:"container px-4 py-8 mx-auto bg-gray-50",children:[(0,v.jsx)(h.N9,{}),(0,v.jsx)("h1",{className:"text-2xl md:text-4xl lg:text-4xl font-bold text-center quicksand mt-1 text-[#f2281c] mb-3",children:"Checkout"}),(0,v.jsxs)("div",{className:"grid grid-cols-1 gap-12 md:grid-cols-2",children:[(0,v.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,v.jsxs)("h2",{className:"flex items-center mb-6 text-xl font-semibold",children:[(0,v.jsx)(c.CE5,{className:"mr-2 text-[#000]"}),"Shipping Address"]}),(0,v.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-[#000]",value:JSON.stringify(j),onChange:e=>{N(JSON.parse(e.target.value)),b(!1)},children:[(0,v.jsx)("option",{value:"{}",children:"Select an address"}),(0,v.jsxs)("option",{value:JSON.stringify(B),children:[B.name,", ",B.address1,", ",B.address2]},B._id),null===A||void 0===A?void 0:A.map((e=>(0,v.jsxs)("option",{value:null===JSON||void 0===JSON?void 0:JSON.stringify(e),children:[e.fullName,", ",e.street,", ",e.city]},e._id)))]}),j&&(0,v.jsxs)("div",{className:"p-4 mb-4 bg-gray-100 rounded-md",children:[(0,v.jsx)("h3",{className:"mb-2 font-semibold text-gray-700",children:"Selected Address"}),(0,v.jsx)("p",{children:j.name?j.name:j.fullName}),(0,v.jsx)("p",{children:j.address1?j.address1:j.street}),(0,v.jsxs)("p",{children:[j.address2?j.address2:j.city,", ",j.state," ",j.pincode]}),(0,v.jsx)("p",{children:j.country}),(0,v.jsxs)("p",{children:["Phone:"," ",j.mobile?j.mobile:j.number]}),(0,v.jsxs)("p",{children:["Alternative Phone(Whatsapp number):"," ",j.Amobile?j.Amobile:j.anumber]}),(0,v.jsxs)("p",{children:["Email: ",j.email]})]}),(0,v.jsx)("div",{className:"mb-4",children:(0,v.jsxs)("label",{className:"flex items-center text-gray-700",children:[(0,v.jsx)("input",{type:"checkbox",checked:y,onChange:()=>(b(!y),void N("")),className:"mr-2 form-checkbox h-5 w-5 text-[#000]"}),"Ship to a different address?"]})}),y&&(0,v.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{200===(await l.A.post("https://majesticmall.net/api/user/addaddress",{userId:B._id,..._},{headers:{Authorization:`Bearer ${f}`}})).status&&(h.oR.info("Address added successfully"),se(),W({fullName:"",street:"",city:"",state:"",country:"",pincode:"",number:"",anumber:"",email:""}))}catch(n){var t,s;h.oR.info((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Error adding address")}},className:"space-y-4",children:[(0,v.jsx)("input",{type:"text",name:"fullName",value:_.fullName,onChange:ne,placeholder:"Full Name",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,v.jsxs)("div",{className:"relative flex items-center rounded-full align-center",children:[(0,v.jsx)(u.HPi,{className:"absolute ml-2 cursor-pointer left-3",color:"#000",title:"Current Location",onClick:()=>$()}),(0,v.jsx)(m.jT,{onLoad:O,onPlaceChanged:()=>{if(!k)return;const e=k.getPlace();if(!e.geometry||!e.address_components)return;const t=e.address_components;let s=null===e||void 0===e?void 0:e.name,n="",i="",d="",l="",r=e.geometry.location.lat(),o=e.geometry.location.lng();t.forEach((e=>{const t=e.types;t.includes("locality")&&(n=e.long_name),t.includes("administrative_area_level_1")&&(i=e.short_name),t.includes("country")&&(d=e.long_name),t.includes("postal_code")&&(l=e.long_name)})),W({..._,street:s,city:n,state:i,country:d,pincode:l,lat:r,lng:o})},className:"px-2 w-100 ",children:(0,v.jsx)("input",{type:"text",name:"street",value:_.street,onChange:ne,placeholder:"Street Address",className:"w-full    border border-gray-300  rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0,style:{paddingLeft:"40px"}})})]}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,v.jsx)("input",{type:"text",name:"city",value:_.city,onChange:ne,placeholder:"City",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,v.jsx)("input",{type:"text",name:"state",value:_.state,onChange:ne,placeholder:"State",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0})]}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,v.jsx)("input",{type:"text",name:"country",value:_.country,onChange:ne,placeholder:"Country",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,v.jsx)("input",{type:"text",name:"pincode",value:_.pincode,onChange:ne,placeholder:"Pincode",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0})]}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,v.jsx)("input",{type:"tel",name:"number",value:_.number,onChange:ne,placeholder:"Phone Number",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,v.jsx)("input",{type:"tel",name:"anumber",value:_.anumber,onChange:ne,placeholder:"Alternative Number (Whatsapp number)",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0})]}),(0,v.jsx)("input",{type:"email",name:"email",value:_.email,onChange:ne,placeholder:"Email",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,v.jsx)("button",{type:"submit",className:"w-full bg-[#000] text-white p-2 rounded-md hover:bg-[#000] transition duration-300  hover:opacity-80",children:"Add New Address"})]}),(null===ee||void 0===ee?void 0:ee.length)>0&&(0,v.jsxs)("div",{className:"p-4 mx-auto ",children:[(0,v.jsx)("h1",{className:"mb-4 text-2xl font-bold text-center",children:"Available Coupons"}),(0,v.jsx)("ul",{className:"pl-5 space-y-2 overflow-y-auto list-disc max-h-80",children:null===ee||void 0===ee?void 0:ee.map(((e,t)=>(0,v.jsxs)("li",{className:"text-gray-800",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between",children:[(0,v.jsx)("span",{className:"font-semibold",children:null===e||void 0===e?void 0:e.code}),(0,v.jsxs)("span",{className:"px-3 py-1 text-sm font-bold text-white bg-green-500 rounded",children:[null===e||void 0===e?void 0:e.discountpercentage,"% OFF"]}),(0,v.jsx)("button",{onClick:()=>{return t=e.code,navigator.clipboard.writeText(t),re(t),void h.oR.success(`Coupon code "${t}" copied to clipboard!`);var t},disabled:le===e.code,className:`mt-2 w-10 h-10 flex items-center justify-center rounded-full \n                          ${le===e.code?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}\n                           text-white border-2 border-white shadow-lg`,children:le===e.code?(0,v.jsx)(c.A7C,{className:"w-5 h-5 text-white",title:"Copied"}):(0,v.jsx)(c.zU_,{className:"w-5 h-5 text-white",title:"Copy Code"})})]}),(0,v.jsx)("p",{className:"text-sm text-gray-600",children:null===e||void 0===e?void 0:e.promocode}),(0,v.jsx)("hr",{})]},t)))})]})]}),(0,v.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,v.jsx)("h2",{className:"mb-6 text-xl font-semibold",children:"Order Summary"}),(0,v.jsxs)("div",{className:"p-4 bg-gray-100 rounded-md",children:["scheduled"!==Z?T.map((e=>{var t,s,n,i;return(0,v.jsxs)("div",{className:"flex items-center justify-between mb-2 text-gray-700",children:[(0,v.jsxs)("span",{children:[e.productname," x ",e.quantity]}),(0,v.jsxs)("span",{children:["\u20b9",(((null===(t=e.selectedWeight)||void 0===t?void 0:t.price)-(null===(s=e.selectedWeight)||void 0===s?void 0:s.price)*((null!==(n=e.selectedWeight)&&void 0!==n&&n.discount?null===(i=e.selectedWeight)||void 0===i?void 0:i.discount:e.discount)/100))*e.quantity).toFixed(2)]})]},e._id)})):J.map((e=>{var t,s,n,i;return(0,v.jsxs)("div",{className:"flex items-center justify-between mb-2 text-gray-700",children:[(0,v.jsxs)("span",{children:[e.productname," x ",e.quantity]}),(0,v.jsxs)("span",{children:["\u20b9",(((null===(t=e.selectedWeight)||void 0===t?void 0:t.price)-(null===(s=e.selectedWeight)||void 0===s?void 0:s.price)*((null!==(n=e.selectedWeight)&&void 0!==n&&n.discount?null===(i=e.selectedWeight)||void 0===i?void 0:i.discount:e.discount)/100))*e.quantity).toFixed(2)]})]},e._id)})),(0,v.jsxs)("div",{className:"pt-4 mt-4 border-t border-gray-300",children:[(0,v.jsxs)("div",{className:"flex justify-between mb-2 text-gray-700",children:[(0,v.jsx)("span",{children:"Total MRP"}),(0,v.jsxs)("span",{children:["\u20b9",(("scheduled"!==Z?L:Y)+ie).toFixed(2)]})]}),(0,v.jsxs)("div",{className:"flex justify-between mb-2 text-gray-700",children:[(0,v.jsx)("span",{children:"Shipping"}),(0,v.jsxs)("span",{children:["\u20b9",null===(e=G+de(K,H,Q,oe,"scheduled"!==Z?V:X))||void 0===e?void 0:e.toFixed(2)]})]}),(0,v.jsxs)("div",{className:"flex justify-between mb-4 text-gray-700",children:[(0,v.jsx)("span",{children:"Discount"}),(0,v.jsxs)("span",{children:["-\u20b9",null===ie||void 0===ie?void 0:ie.toFixed(2)]})]}),R>0&&(0,v.jsxs)("div",{className:"flex justify-between text-[#000]",children:[(0,v.jsx)("span",{children:"Coupon Discount"}),(0,v.jsxs)("span",{children:["-\u20b9",((("scheduled"!==Z?L:Y)+ie)*(R/100)).toFixed(2)]})]}),(0,v.jsx)("hr",{}),(0,v.jsxs)("div",{className:"flex justify-between mt-4 text-lg font-bold",children:[(0,v.jsx)("span",{children:"Total"}),(0,v.jsxs)("span",{children:["\u20b9",(("scheduled"!==Z?V:X)+G+de(K,H,Q,oe,"scheduled"!==Z?V:X)-("scheduled"!==Z?V:X)*(R/100)).toFixed(2)]})]})]})]}),(0,v.jsxs)("div",{className:"mt-6",children:[(0,v.jsxs)("div",{className:"flex items-center mb-2",children:[(0,v.jsx)(c.lWC,{className:"mr-2 text-[#000]"}),(0,v.jsx)("h3",{className:"mt-1 font-semibold text-gray-700",children:"Apply Coupon"})]}),(0,v.jsxs)("div",{className:"flex flex-grow  border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-[#000] rounded-r-md",children:[(0,v.jsx)("input",{type:"text",value:P,onChange:e=>q(e.target.value),placeholder:"Enter coupon code"}),(0,v.jsx)("button",{onClick:async()=>{try{const e=await l.A.post("https://majesticmall.net/api/admin/checkpromocode",{promocode:P,userId:B._id,userName:null===B||void 0===B?void 0:B.name},{headers:{Authorization:`Bearer ${f}`}});200===e.status&&(E(e.data.discount),h.oR.success("Successfully Coupon applied"))}catch(e){h.oR.info(e.response.data.error)}},className:"bg-[#000] text-white p-2 rounded-r-md hover:bg-[#000] transition duration-300  hover:opacity-80",children:"Apply"})]})]}),(0,v.jsxs)("div",{className:"mt-6",children:[(0,v.jsxs)("div",{className:"flex items-center mb-2",children:[(0,v.jsx)(c.j1Q,{className:"mr-2 text-[#000]"}),(0,v.jsx)("h3",{className:"mt-2 font-semibold text-gray-700",children:"Additional Instructions"})]}),(0,v.jsx)("textarea",{value:I,onChange:e=>D(e.target.value),placeholder:"Enter any special instructions or notes for your order",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000] h-24"})]}),(0,v.jsxs)("div",{className:"mt-6",children:[(0,v.jsxs)("div",{className:"flex items-center mb-2",children:[(0,v.jsx)(c.x1c,{className:"mr-2 text-[#000]"}),(0,v.jsx)("h3",{className:"mt-2 font-semibold text-gray-700",children:"Payment Method"})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)("label",{className:"flex items-center p-2 transition duration-300 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50",children:[(0,v.jsx)("input",{type:"radio",value:"Cash On Delivery",checked:"Cash On Delivery"===w,onChange:e=>C(e.target.value),className:"mr-2 form-radio h-5 w-5 text-[#000]"}),"Cash On Delivery"]}),(0,v.jsxs)("label",{className:"flex items-center p-2 transition duration-300 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50",children:[(0,v.jsx)("input",{type:"radio",value:"Online Payment",checked:"Online Payment"===w,onChange:e=>C(e.target.value),className:"mr-2 form-radio h-5 w-5 text-[#000]"}),"Online Payment"]})]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center",children:(0,v.jsx)("button",{onClick:async()=>{if(!j)return void h.oR.info("Please select a shipping address");if(!w)return void h.oR.info("Please select a payment method");const e={userId:B._id,items:"scheduled"!==Z?T.map((e=>{var t,s,n,i,d,l,r,o,a;return{productId:e._id,name:e.productname,quantity:e.quantity,price:(null===(t=e.selectedWeight)||void 0===t?void 0:t.price)-(null===(s=e.selectedWeight)||void 0===s?void 0:s.price)*((null!==(n=e.selectedWeight)&&void 0!==n&&n.discount?null===(i=e.selectedWeight)||void 0===i?void 0:i.discount:null===e||void 0===e?void 0:e.discount)/100),discount:(null===(d=e.selectedWeight)||void 0===d?void 0:d.price)*((null!==(l=e.selectedWeight)&&void 0!==l&&l.discount?null===(r=e.selectedWeight)||void 0===r?void 0:r.discount:null===e||void 0===e?void 0:e.discount)/100),selecteddiscount:null!==(o=e.selectedWeight)&&void 0!==o&&o.discount?null===(a=e.selectedWeight)||void 0===a?void 0:a.discount:null===e||void 0===e?void 0:e.discount,weight:`${e.selectedWeight.value}${e.selectedWeight.units}`}})):J.map((e=>{var t,s,n,i,d,l,r,o,a;return{productId:e._id,name:e.productname,quantity:e.quantity,price:(null===(t=e.selectedWeight)||void 0===t?void 0:t.price)-(null===(s=e.selectedWeight)||void 0===s?void 0:s.price)*((null!==(n=e.selectedWeight)&&void 0!==n&&n.discount?null===(i=e.selectedWeight)||void 0===i?void 0:i.discount:null===e||void 0===e?void 0:e.discount)/100),discount:(null===(d=e.selectedWeight)||void 0===d?void 0:d.price)*((null!==(l=e.selectedWeight)&&void 0!==l&&l.discount?null===(r=e.selectedWeight)||void 0===r?void 0:r.discount:null===e||void 0===e?void 0:e.discount)/100),selecteddiscount:null!==(o=e.selectedWeight)&&void 0!==o&&o.discount?null===(a=e.selectedWeight)||void 0===a?void 0:a.discount:null===e||void 0===e?void 0:e.discount,weight:`${e.selectedWeight.value}${e.selectedWeight.units}`}})),totalAmount:(("scheduled"!==Z?V:X)+G+de(K,H,Q,oe,"scheduled"!==Z?V:X)-("scheduled"!==Z?V:X)*(R/100)).toFixed(2),discount:(("scheduled"!==Z?L:Y)+ie)*(R/100)+ie,shippingAddress:j,paymentMethod:w,additionalInstructions:I,orderType:Z,deliveryCharge:G+de(K,H,Q,oe,"scheduled"!==Z?V:X)},s={url:"/user/createOrder",method:"post",baseURL:"https://majesticmall.net/api",hearder:{"content-type":"application/json"},headers:{Authorization:`Bearer ${f}`},data:e};try{var n;const a=await l.A.post("Online Payment"===w?"https://majesticmall.net/api/user/addPaymentPhone":"https://majesticmall.net/api/user/createOrder",{...e,username:null===B||void 0===B?void 0:B.name,Mobile:null===B||void 0===B?void 0:B.mobile,orderId:null===e||void 0===e||null===(n=e.items[0])||void 0===n?void 0:n.productId,amount:e.totalAmount,config:JSON.stringify(s),orderType:Z,redirecturl:"/account",callBack:"/cart"},{headers:{Authorization:`Bearer ${f}`}});if(200===a.status){var i,d;if("Online Payment"===w)return window.location.assign(null===(i=a.data)||void 0===i||null===(d=i.url)||void 0===d?void 0:d.url);h.oR.success("Order placed successfully!"),t("scheduled"!==Z?(0,r.sX)():(0,o.Lc)()),setTimeout((()=>{window.location.assign("/")}),2e3)}}catch(a){console.error("Error placing order:",a),h.oR.info("An error occurred while placing the order.")}},className:"bg-[#000] text-white p-2 rounded-md mt-6 hover:bg-[#000] transition duration-300 text-lg font-semibold  hover:opacity-80",children:"Place Order"})})]})]}),z&&(0,v.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,v.jsxs)("div",{className:"w-full max-w-md p-4 bg-white rounded",children:[(0,v.jsx)("h2",{className:"mb-4 text-xl font-bold",children:"Address List"}),A.map((e=>(0,v.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,v.jsxs)("span",{children:[e.fullName,", ",e.city]}),(0,v.jsx)("button",{onClick:()=>(async e=>{try{200===(await l.A.delete(`https://majesticmall.net/api/user/deleteaddress/${e}`,{headers:{Authorization:`Bearer ${f}`}})).status&&(h.oR.info("Address deleted successfully"),se())}catch(t){console.error("Error deleting address:",t)}})(e._id),className:"text-red-500",children:(0,v.jsx)(a.y_G,{})})]},e._id))),(0,v.jsx)("button",{onClick:()=>F(!1),className:"p-2 mt-4 text-black bg-gray-300 rounded hover:opacity-80",children:"Close"})]})})]})}}}]);
//# sourceMappingURL=3407.d23a207c.chunk.js.map