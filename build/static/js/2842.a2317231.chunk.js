"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[2842],{92842:(e,n,t)=>{t.r(n),t.d(n,{default:()=>C});var a=t(65043),l=t(23927),r=t(46909),s=t(59748),i=t(22019),c=t(3188),o=t(49757),d=t(6036),u=t(27210),b=t(75337),y=t(9855),p=t(86213),m=t(1880),h=t(86111),A=t.n(h),x=t(70579);const{Title:j}=l.A,g="https://majesticmall.net/api/admin",{confirm:f}=r.A,C=()=>{const e=m.A.get("token"),n=e?A().AES.decrypt(e,"Abhinanadan02").toString(A().enc.Utf8):null,[t,l]=(0,a.useState)([]),[h,C]=(0,a.useState)(!1),[k]=s.A.useForm();(0,a.useEffect)((()=>{B()}),[]);const B=async()=>{try{const e=await p.A.get(`${g}/getallclubbanner`,{headers:{Authorization:`Bearer ${n}`}});l(e.data.clubbanner)}catch(e){i.Ay.error("Failed to fetch club banners")}},T=async e=>{try{await p.A.post(`${g}/deleteclubbanner/${e}`,null,{headers:{Authorization:`Bearer ${n}`}}),i.Ay.success("Club banner deleted successfully"),B()}catch(t){console.log(t,n),i.Ay.error("Failed to delete club banner")}},v=[{title:"Serial No.",dataIndex:"serialNo",key:"serialNo"},{title:"Title",dataIndex:"type",key:"type"},{title:"Club Banner",dataIndex:"clubbanner",key:"clubbanner",render:e=>(0,x.jsx)("img",{src:`https://majesticmall.net/image/${e}`,alt:"Club Banner",loading:"lazy",style:{width:100},onError:e=>{e.target.src="../img/example.jpg"}})},{title:"Action",key:"action",render:(e,n)=>(0,x.jsx)(c.Ay,{type:"text",icon:(0,x.jsx)(y.A,{color:"red"}),onClick:()=>{return e=n._id,void f({title:"Are you sure you want to delete?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk(){T(e)},onCancel(){console.log("Deletion cancelled")}});var e}})}],w=t.map(((e,n)=>({key:e._id,serialNo:n+1,type:e.type,clubbanner:e.clubbanner,_id:e._id})));return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,x.jsx)(j,{level:3,className:"title",children:"Club Banners"}),(0,x.jsx)(c.Ay,{type:"primary",icon:(0,x.jsx)(b.A,{}),onClick:()=>C(!0),children:"Add Club Banner"})]}),(0,x.jsx)(o.A,{columns:v,dataSource:w,pagination:{pageSize:10},scroll:{x:"max-content"},components:{header:{cell:e=>(0,x.jsx)("th",{...e,style:{...e.style,background:"linear-gradient(#000,#000,#000)",color:"white"}})}}}),(0,x.jsx)(r.A,{title:"Add Club Banner",visible:h,onCancel:()=>C(!1),footer:null,children:(0,x.jsxs)(s.A,{form:k,onFinish:async e=>{try{const t=new FormData;t.append("clubbanner",e.clubbanner.file),t.append("type",e.type),await p.A.post(`${g}/addclubbanner`,t,{headers:{"Content-Type":"multipart/form-data"},headers:{Authorization:`Bearer ${n}`}}),i.Ay.success("Club banner added successfully"),C(!1),k.resetFields(),B()}catch(t){i.Ay.error("Failed to add club banner")}},layout:"vertical",children:[(0,x.jsx)(s.A.Item,{name:"clubbanner",label:"Club Banner Image",rules:[{required:!0,message:"Please upload a club banner image"}],children:(0,x.jsx)(d.A,{accept:"image/*",listType:"picture-card",maxCount:1,beforeUpload:()=>!1,children:(0,x.jsxs)("div",{children:[(0,x.jsx)(b.A,{}),(0,x.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})}),(0,x.jsx)(s.A.Item,{name:"type",label:"Title",rules:[{required:!0,message:"Please enter a title"}],children:(0,x.jsx)(u.A,{})}),(0,x.jsx)(s.A.Item,{children:(0,x.jsx)(c.Ay,{type:"primary",htmlType:"submit",children:"Add Club Banner"})})]})})]})}}}]);
//# sourceMappingURL=2842.a2317231.chunk.js.map