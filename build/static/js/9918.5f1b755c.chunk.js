"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[9918],{77590:(e,t,o)=>{o.d(t,{A:()=>d});var i=o(65043),l=o(70579);const d=e=>{let{message:t,show:o,onClose:d}=e;return(0,i.useEffect)((()=>{if(o){const e=setTimeout((()=>{d()}),5e3);return()=>clearTimeout(e)}}),[o,d]),o?(0,l.jsx)("div",{className:"notification-banner",children:(0,l.jsx)("p",{children:t})}):null}},79918:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var i=o(65043),l=o(712),d=o(83003),s=o(11178),n=o(73216),r=o(86213),a=o(78745),c=o(22019),u=o(37490),v=o(77590),x=o(86294),h=o(1880),g=o(86111),b=o.n(g),p=o(70579);const m=()=>{var e,t;const o=(0,d.wA)(),g="Abhinanadan02",m=h.A.get("token"),f=m?b().AES.decrypt(m,g).toString(b().enc.Utf8):null,y=(0,d.d4)((e=>e.cart1)),j=h.A.get("user"),w=j?JSON.parse(b().AES.decrypt(j,g).toString(b().enc.Utf8)):null;let A=h.A.get("AllTextHead");const S=h.A.get("AllText"),N=S?JSON.parse(b().AES.decrypt(S,g).toString(b().enc.Utf8)):null,[k,C]=(0,i.useState)([]),[_,T]=(0,i.useState)([]),[O,z]=(0,i.useState)(1),$=(0,n.zy)(),{title:E}=(null===$||void 0===$?void 0:$.state)||"",[F,R]=(0,i.useState)(null),[B,J]=(0,i.useState)([]),[P,U]=(0,i.useState)([]),[W,M]=(0,i.useState)(E),[H,D]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{let e=await r.A.get("https://majesticmall.net/api/admin/getCategory",{headers:{Authorization:`Bearer ${f}`}});var t,o;(e.status=200)&&J(null===(t=e.data)||void 0===t||null===(o=t.category)||void 0===o?void 0:o.filter((e=>"Active"===(null===e||void 0===e?void 0:e.status))))})(),(async()=>{let e=await r.A.get("https://majesticmall.net/api/admin/getSubcategory",{headers:{Authorization:`Bearer ${f}`}});var t,o;(e.status=200)&&U(null===(t=e.data)||void 0===t||null===(o=t.Subcategory)||void 0===o?void 0:o.filter((e=>"Active"===(null===e||void 0===e?void 0:e.status))))})()}),[]);const G=null===B||void 0===B?void 0:B.find((e=>"Fruits & Vegetables"==(null===e||void 0===e?void 0:e.categoryName))),L=async()=>{let e=await r.A.get("https://majesticmall.net/api/admin/Getfruitslist",{headers:{Authorization:`Bearer ${f}`}});if(200===e.status){var t,o;const i=null===(t=e.data)||void 0===t||null===(o=t.fruitsList)||void 0===o?void 0:o.filter((e=>"Active"===e.status)),l=(()=>{const e=new Date,t=e.getDay(),o=e.getHours();return 6===t&&o>=12||0===t||1===t&&o<12})();Z(l);const d=null===i||void 0===i?void 0:i.filter((e=>l));T(i);const s={};d.forEach((e=>{var t,o;s[null===e||void 0===e?void 0:e._id]=null!==w&&void 0!==w&&w.club?null===e||void 0===e||null===(o=e.Clubweight)||void 0===o?void 0:o[0]:null===e||void 0===e||null===(t=e.weight)||void 0===t?void 0:t[0]})),q(s)}};(0,i.useEffect)((()=>{(async()=>{let e=await r.A.get("https://majesticmall.net/api/admin/Getproductlist",{headers:{Authorization:`Bearer ${f}`}});if(200===e.status){var t,o;const i=null===(t=e.data)||void 0===t||null===(o=t.ProductList)||void 0===o?void 0:o.filter((e=>"Active"===e.status));C(i)}})(),L()}),[]);const[V,q]=(0,i.useState)({}),[Y,Z]=(0,i.useState)(!0),[I,K]=(0,i.useState)({}),Q=(e,t)=>{if(e.stock-(null===e||void 0===e?void 0:e.sellproduct)<=0||e.stock-(null===e||void 0===e?void 0:e.sellproduct)<t)return c.Ay.error("Out of stock");K((o=>({...o,[e._id]:Math.max((o[e._id]||1)+t,1)})))},[X,ee]=(0,i.useState)({show:!1,message:""}),te=e=>{if(e.stock-(null===e||void 0===e?void 0:e.sellproduct)<=0)return c.Ay.error("Out of stock");if(0==Object.keys(e).length)return c.Ay.error("Product not found");e.weight[0].discount=null===e||void 0===e?void 0:e.discount,e.Clubweight[0].discount=null===e||void 0===e?void 0:e.clubdiscount;const t=V[null===e||void 0===e?void 0:e._id]||(null!==w&&void 0!==w&&w.club?null===e||void 0===e?void 0:e.Clubweight[0]:null===e||void 0===e?void 0:e.weight[0]),i=I[null===e||void 0===e?void 0:e._id]||1;c.Ay.success(`Success: You have added ${null===e||void 0===e?void 0:e.productname} to your cart!`),o((0,s.mV)({...e,selectedWeight:t,quantity:i}))},oe=e=>{const t=V[null===e||void 0===e?void 0:e._id]||(null!==w&&void 0!==w&&w.club?null===e||void 0===e?void 0:e.Clubweight[0]:null===e||void 0===e?void 0:e.weight[0]);o((0,s.ul)({_id:e._id,selectedWeight:t})),K((t=>({...t,[e._id]:Math.max((t[null===e||void 0===e?void 0:e._id]||0)-1,0)})))},ie=e=>{z(e)},le=[..._,...k],de=10*O,se=de-10,ne=null===le||void 0===le||null===(e=le.filter((e=>(null===e||void 0===e?void 0:e.category)==(null===G||void 0===G?void 0:G._id))))||void 0===e?void 0:e.slice(se,de),re=Math.ceil((null===le||void 0===le||null===(t=le.filter((e=>(null===e||void 0===e?void 0:e.category)==(null===G||void 0===G?void 0:G._id))))||void 0===t?void 0:t.length)/10),ae=(0,n.Zp)(),ce=e=>{ae(`/shop-detail1/${null===e||void 0===e?void 0:e._id}`),window.scrollTo({top:0,behavior:"smooth"})};return(0,p.jsxs)("div",{children:[(0,p.jsx)(a.N9,{}),(0,p.jsx)(x.A,{}),(0,p.jsx)(v.A,{message:X.message,show:X.show,onClose:()=>ee({...X,show:!1})}),(0,p.jsx)(l.A,{title:"Scheduled delivery will be delivered on Tuesday"}),(0,p.jsx)("div",{className:"sm:mx-20 lg:flex 2xl:mx-40",children:(0,p.jsx)("div",{className:"grid grid-cols-1 gap-2 mt-10 md:grid-cols-3 xl:grid-cols-5 xl:gap-x-5 xl:gap-y-0",style:{height:"auto"},children:ne.map((e=>{var t,o,i;const l=V[e._id],d=I[e._id]||1,s=(e=>{var t;return null===y||void 0===y||null===(t=y.items1)||void 0===t?void 0:t.some((t=>(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e._id)))})(e);return(0,p.jsx)(u.A.Ribbon,{text:e.tag,color:"#f7ab27",children:(0,p.jsxs)("div",{className:"box border rounded-lg border-#f7ab27-400 mx-auto w-full  max-w-xs shadow-lg hover:shadow-xl transition-shadow duration-300 bg-white",style:{height:"300px",marginBottom:"5px"},children:[(0,p.jsx)("div",{className:"relative overflow-clip",children:(0,p.jsx)("img",{className:"w-full transition-transform duration-500 ease-in-out rounded-lg shadow-lg hover:scale-105",src:`https://majesticmall.net/product/${null===e||void 0===e||null===(t=e.Photos[0])||void 0===t?void 0:t.file}`,alt:"Product",loading:"lazy",style:{height:"130px",width:"350px",marginTop:"10px",objectFit:"contain",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",cursor:"pointer"},onClick:()=>ce(e),onError:e=>{e.target.src="../img/example.jpg"}})}),(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("h3",{className:"mt-4 font-semibold text-l",style:{color:"#45595b",cursor:"pointer"},onClick:()=>ce(e),children:e.productname.slice(0,20)}),(0,p.jsxs)("select",{name:"option[504]",id:"input-option504",className:"form-control1 weight resp-select-box",style:{maxWidth:"200px",fontSize:"12px",border:"1px solid #88ac46"},onChange:t=>{const o=JSON.parse(t.target.value),i="discount"===o.discountType?e.discount:e.clubdiscount;q((t=>({...t,[e._id]:{...o,discount:i,discountType:o.discountType}})))},value:JSON.stringify(l),children:[!(null!==w&&void 0!==w&&w.club)&&(null===(o=e.weight)||void 0===o?void 0:o.map((t=>(0,p.jsxs)("option",{style:{fontSize:"12px"},value:JSON.stringify({...t,discount:e.discount,discountType:"discount"}),children:[t.value," ",t.units," - Rs"," ",(t.price-t.price*(e.discount/100)).toFixed(2)]},`weight-${t.id}`)))),null===(i=e.Clubweight)||void 0===i?void 0:i.map((t=>(0,p.jsxs)("option",{value:JSON.stringify({...t,discount:e.clubdiscount,discountType:"clubdiscount"}),disabled:!w||!1===w.club,style:{color:w&&!1!==w.club?"inherit":"#aaa",fontSize:"12px"},children:[t.value," ",t.units," - Rs"," ",(t.price-t.price*(e.clubdiscount/100)).toFixed(2),!(null!==w&&void 0!==w&&w.club)&&" (Club Members Only)"]},`clubweight-${t.id}`)))]})]}),e.stock-(null===e||void 0===e?void 0:e.sellproduct)<=0?(0,p.jsx)("p",{style:{color:"red",paddingTop:"27px",textAlign:"center",fontWeight:"500"},children:"Out of Stock"}):(0,p.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,p.jsx)("div",{className:"flex justify-center flex-grow",children:"Subscription"===e.subscribe?(0,p.jsxs)(p.Fragment,{children:[s?(0,p.jsx)("button",{onClick:()=>{null!==N&&void 0!==N&&N.category?te(e):e.category==(null===G||void 0===G?void 0:G._id)&&A?c.Ay.error(A):te(e)},className:"px-3 py-1 text-xs font-semibold text-white rounded-2xl",style:{backgroundColor:"#f7ab27",color:"#fff"},children:"Update cart"}):(0,p.jsx)("button",{onClick:()=>{null!==N&&void 0!==N&&N.category?te(e):e.category==(null===G||void 0===G?void 0:G._id)&&A?c.Ay.error(A):te(e)},className:"px-3 py-1 text-xs font-semibold text-white rounded-2xl",style:{backgroundColor:null!==N&&void 0!==N&&N.category||e.category!=(null===G||void 0===G?void 0:G._id)?"#000":A?"rgb(204 225 166)":"#000",color:"#fff"},children:"Buy Once"})," "]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex items-center mr-2",children:[(0,p.jsx)("button",{className:"px-2 py-1 text-sm font-semibold",style:{backgroundColor:"#ffb524",color:"#fff",borderRadius:"50%"},onClick:()=>{null!==N&&void 0!==N&&N.category?oe(e):e.category==(null===G||void 0===G?void 0:G._id)&&A?c.Ay.error(A):oe(e)},children:"-"}),(0,p.jsx)("span",{className:"px-3",children:d}),(0,p.jsx)("button",{className:"px-2 py-1 text-sm font-semibold",style:{backgroundColor:"#ffb524",color:"#fff",borderRadius:"50%"},onClick:()=>{null!==N&&void 0!==N&&N.category?Q(e,1):e.category==(null===G||void 0===G?void 0:G._id)&&A?c.Ay.error(A):Q(e,1)},children:"+"})]}),s?(0,p.jsx)("button",{onClick:()=>te(e),className:"px-3 py-1 text-xs font-semibold text-white rounded-2xl",style:{backgroundColor:"#f7ab27",color:"#fff"},children:"Update cart"}):(0,p.jsx)("button",{onClick:()=>{null!==N&&void 0!==N&&N.category||e.category!=(null===G||void 0===G?void 0:G._id)?te(e):A?c.Ay.error(A):te(e)},className:"px-3 py-1 text-xs font-semibold text-white rounded-2xl",style:{backgroundColor:null!==N&&void 0!==N&&N.category||e.category!=(null===G||void 0===G?void 0:G._id)?"#000":A?"rgb(204 225 166)":"#000",color:"#fff"},children:"Add to cart"})]})}),"Subscription"===e.subscribe&&(0,p.jsx)("button",{onClick:()=>(e=>{const t=V[null===e||void 0===e?void 0:e._id]||(null!==w&&void 0!==w&&w.club?null===e||void 0===e?void 0:e.Clubweight[0]:null===e||void 0===e?void 0:e.weight[0]);w?(ae(`/subscribe/${null===e||void 0===e?void 0:e._id}`,{state:{selectedWeight:t}}),window.scrollTo({top:0,behavior:"smooth"})):a.oR.info("Please login as a user to subscribe.")})(e),className:"px-3 py-1 text-xs font-semibold text-white rounded-2xl",style:{backgroundColor:"#0c363b",marginRight:"15px"},children:"Subscribe"})]})]},e._id)})}))})}),(0,p.jsxs)("ul",{className:"flex items-center justify-center mx-4 mt-20 next",children:[(0,p.jsx)("li",{className:"py-2 px-4 mx-1 border border-#f7ab27-400 rounded-lg cursor-pointer",style:{color:1===O?"#d1d5db":"#45595b"},onClick:()=>ie(O-1),disabled:1===O,children:"\u21d0"}),[...Array(re)].map(((e,t)=>(0,p.jsx)("li",{className:"py-2 px-4 mx-1 border border-#f7ab27-400 rounded-lg cursor-pointer "+(O===t+1?"bg-[#000] text-white":""),style:{color:"#45595b"},onClick:()=>ie(t+1),children:t+1},t))),(0,p.jsx)("li",{className:"py-2 px-4 mx-1 border border-#f7ab27-400 rounded-lg cursor-pointer",style:{color:O===re?"#d1d5db":"#45595b"},onClick:()=>ie(O+1),disabled:O===re,children:"\u21d2"})]})]})}},712:(e,t,o)=>{o.d(t,{A:()=>s});o(65043);var i=o(73216),l=o(35475),d=o(70579);const s=e=>{let{title:t}=e;const o=(0,i.zy)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("section",{className:"back",children:[(0,d.jsx)("div",{className:"overlay-back"}),(0,d.jsx)("h1",{children:t}),(0,d.jsxs)("h2",{children:[(0,d.jsx)(l.N_,{to:"/",children:"Home "}),"/ ",o.pathname.split("/")[1]]})]}),(0,d.jsx)("div",{style:{margin:"3%"}})]})}},86294:(e,t,o)=>{o.d(t,{A:()=>d});var i=o(65043),l=o(73216);const d=()=>{const e=(0,l.zy)();return(0,i.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}}}]);
//# sourceMappingURL=9918.5f1b755c.chunk.js.map