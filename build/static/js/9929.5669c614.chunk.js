/*! For license information please see 9929.5669c614.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[9929],{99929:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(65043),r=s(70579);var n=s(86213),l=s(73216),o=s(78745),i=s(56174),d=s(71360);const c=(0,s(77784).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var u=s(6720),m=s(79942),g=s(1880),h=s(86111),p=s.n(h),x=s(86178),f=s.n(x);const y="Abhinanadan02",b=g.A.get("token"),v=b?p().AES.decrypt(b,y).toString(p().enc.Utf8):null,j=g.A.get("user"),N=j?JSON.parse(p().AES.decrypt(j,y).toString(p().enc.Utf8)):null,w=e=>{let{closeModal:t,setBalance:s,setTransactions:i}=e;const[d,c]=(0,a.useState)("");(0,l.g)();(0,l.zy)();return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Topup Your Wallet"}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=parseFloat(d);if(!d||s<=0)o.oR.error("Please enter a valid amount.");else if(s<300)o.oR.error("The minimum top-up amount is Rs. 300.");else try{const e={url:"/user/topup",method:"post",baseURL:"https://majesticmall.net/api",hearder:{"content-type":"application/json"},headers:{Authorization:`Bearer ${v}`},data:{userId:null===N||void 0===N?void 0:N._id,amount:s}},t=await n.A.post("https://majesticmall.net/api/user/addPaymentPhone",{userId:null===N||void 0===N?void 0:N._id,username:null===N||void 0===N?void 0:N.name,Mobile:null===N||void 0===N?void 0:N.mobile,orderId:"Wallet"+Math.random(0,10),amount:s,config:JSON.stringify(e),redirecturl:"/wallet",callBack:"/"},{headers:{Authorization:`Bearer ${v}`}});var a,r;if(200==t.status)return window.location.assign(null===(a=t.data)||void 0===a||null===(r=a.url)||void 0===r?void 0:r.url)}catch(l){l.response?o.oR.error(l.response.data.error):o.oR.error("Error during top-up. Please try again.")}finally{t()}},children:[(0,r.jsx)("label",{htmlFor:"amount",className:"block mb-2",children:"Enter Amount (Rs):"}),(0,r.jsx)("input",{type:"number",id:"amount",value:d,onChange:e=>c(e.target.value),min:"1",required:!0,className:"w-full p-2 border border-gray-300 rounded-md mb-4"}),(0,r.jsx)("p",{className:"text-center text-sm text-white mb-4 bg-[#be343b] py-2",children:"Minimum recharge amount is Rs. 300"}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{type:"submit",className:"bg-[#000] text-white px-4 py-2 rounded-md hover:bg-[#4a6c0a]",children:"Add Money"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})]})})},S=e=>{let{day:t,dayQuantities:s,selectedDay:a,setSelectedDay:n}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center p-2 rounded-lg cursor-pointer transition-colors\n        "+(a===t?"bg-[#000]/20 border-2 border-[#000]":"bg-gray-50 border border-gray-200 hover:bg-[#000]/10"),onClick:()=>n(t),children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:t}),(0,r.jsx)("div",{className:"text-lg font-bold text-[#000]",children:s[t]})]})},A=()=>{const[e,t]=(0,a.useState)(!1),[s,h]=(0,a.useState)(""),x="Abhinanadan02",y=g.A.get("token"),b=y?p().AES.decrypt(y,x).toString(p().enc.Utf8):null,[v,j]=(0,a.useState)(!1),N=()=>j(!0),[A,D]=(0,a.useState)({fullName:"",street:"",city:"",state:"",country:"",pincode:"",number:"",anumber:"",email:""}),k=e=>{const{name:t,value:s}=e.target;if(D({...A,[t]:s}),"fullName"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}if("city"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}if(!("street"===t&&s.length<3)){if("state"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}if("country"===t){if(!/^[a-zA-Z]*$/.test(s))return;if(s.length<3)return}"pincode"===t&&(!/^\d*$/.test(s)||s.length>6)||"number"===t&&(!/^\d*$/.test(s)||s.length>10)||"anumber"!==t||/^\d*$/.test(s)&&s.length}},[C,M]=(0,a.useState)(""),_=g.A.get("user"),E=_?JSON.parse(p().AES.decrypt(_,x).toString(p().enc.Utf8)):null,[O,P]=(0,a.useState)(""),[z,R]=(0,a.useState)(!1),[I,$]=(0,a.useState)(""),[T,q]=(0,a.useState)(""),[F,B]=(0,a.useState)(""),[W,Y]=(0,a.useState)(""),[J,L]=(0,a.useState)(""),[Q,U]=(0,a.useState)(""),[H,V]=(0,a.useState)("");const[Z,G]=(0,a.useState)([]);let K=async()=>{try{const e=null===E||void 0===E?void 0:E._id;if(!e)return void console.error("User ID is undefined");const t=await n.A.get(`https://majesticmall.net/api/user/address/${e}`,{headers:{Authorization:`Bearer ${b}`}});200===t.status&&G(t.data.success)}catch(e){console.error("Error fetching address:",e)}};(0,a.useEffect)((()=>{K()}),[]);const[X,ee]=(0,a.useState)([]),[te,se]=(0,a.useState)(0),[ae,re]=(0,a.useState)([]);let ne=(0,l.zy)();const{selectedWeight:le}=null===ne||void 0===ne?void 0:ne.state,oe=(0,l.g)();(0,a.useEffect)((()=>{(async()=>{try{const e=await n.A.get("https://majesticmall.net/api/admin/Getproductlist",{headers:{Authorization:`Bearer ${b}`}});200===e.status?ee(e.data.ProductList.filter((e=>"Active"===e.status))):console.error("Failed to fetch products")}catch(e){console.error("Error fetching products:",e)}})()}),[]);const ie=null===X||void 0===X?void 0:X.find((e=>(null===e||void 0===e?void 0:e._id)===oe.id)),[de,ce]=(0,a.useState)("Everyday"),[ue,me]=(0,a.useState)(!1),[ge,he]=(0,a.useState)(1),[pe,xe]=(0,a.useState)(""),[fe,ye]=(0,a.useState)(!1),[be,ve]=(0,a.useState)(null),je=new Date,Ne=new Date(je);Ne.setDate(je.getDate()+1);const we=Ne.toISOString().split("T")[0],[Se,Ae]=(0,a.useState)(f()(Ne).format("YYYY-MM-DD")),[De,ke]=(0,a.useState)(f()(Ne).format("YYYY-MM-DD")),Ce=null===le||void 0===le?void 0:le.price,[Me,_e]=(0,a.useState)(Ce*ge),[Ee,Oe]=(0,a.useState)(E.club?null===ie||void 0===ie?void 0:ie.clubdiscount:null===ie||void 0===ie?void 0:ie.discount),[Pe,ze]=(0,a.useState)(0),[Re,Ie]=(0,a.useState)(Me-Ee),[$e,Te]=(0,a.useState)(Re+Pe),[qe,Fe]=(0,a.useState)({Sunday:0,Monday:0,Tuesday:0,Wednesday:0,Thursday:0,Friday:0,Saturday:0}),[Be,We]=(0,a.useState)(""),[Ye,Je]=(0,a.useState)(0),[Le,Qe]=(0,a.useState)(0);(0,a.useEffect)((()=>{if(Se&&De){const e=new Date(Se),t=new Date(De),s=Math.ceil((t-e)/864e5)+1;let a=0,r=0;if("Everyday"===de)a=s,r=s*ge;else if("On Interval"===de&&pe&&Se!==De)a=Math.floor(s/pe),r=a*ge;else if(Se===De&&"On Interval"===de&&pe)a=s,r=s*ge;else if("Customize"===de){a=0,r=0;for(let s=new Date(e);s<=t;s.setDate(s.getDate()+1)){const e=s.toLocaleString("en-us",{weekday:"long"});qe[e]>0&&(a++,r+=qe[e])}}Je(a),Qe(r),me(!0),ve(null)}}),[Se,De,de,pe,qe,be,ge]),(0,a.useEffect)((()=>{E&&!s&&h(E),Ue()}),[]);const Ue=async()=>{try{const e=await n.A.get(`https://majesticmall.net/api/user/getwallet/${E._id}`,{headers:{Authorization:`Bearer ${b}`}});se(e.data.success.balance),re(e.data.success.transactions)}catch(e){console.error("Error fetching wallet data:",e)}},He=e=>Math.round(100*(e+Number.EPSILON))/100;(0,a.useEffect)((()=>{const e=He(Ce*Le);_e(e);const t=E.club?(null===ie||void 0===ie?void 0:ie.clubdiscount)/100:(null===ie||void 0===ie?void 0:ie.discount)/100,s=He(e*t);Oe(s);const a=He(e-s);Ie(a);const r=He(a+Pe);Te(r)}),[Le,Ce,ie,Pe,te]);const Ve=e=>{"Customize"===de&&Be?Fe((t=>{const s={...t,[Be]:Math.max(0,(t[Be]||0)+e)};((e,t)=>{const s=new Date,a=s.getDay();let r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(e)-a;r<0&&(r+=7);const n=new Date;n.setDate(s.getDate()+r+7*(t-1))})(Be,s[Be]);return s})):he((t=>{const s=Math.max(1,t+e);return(new Date).setDate((new Date).getDate()+s),s}))},Ze=e=>1===e?"st":2===e?"nd":3===e?"rd":"th",[Ge,Ke]=(0,a.useState)(null),Xe=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:s}=e.coords;var a,r;a=t,r=s,fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${a},${r}&key=AIzaSyDHk6ca_YQVl4SG4v0dMPkBriPtZrPoxpc`).then((e=>e.json())).then((e=>{if("OK"===e.status&&e.results.length>0){const t=e.results[0],s=t.address_components;let n=(null===t||void 0===t?void 0:t.formatted_address)||"",l="",o="",i="",d="";s.forEach((e=>{const t=e.types;t.includes("locality")&&(l=e.long_name),t.includes("administrative_area_level_1")&&(o=e.long_name),t.includes("country")&&(i=e.long_name),t.includes("postal_code")&&(d=e.long_name)})),D({...A,street:n,city:l,state:o,country:i,pincode:d,lat:a,lng:r})}else o.oR.info("Unable to fetch address details.")})).catch((()=>o.oR.info("Failed to fetch address")))}),(e=>o.oR.info(e.message))):o.oR.info("Geolocation is not supported by this browser.")},[et,tt]=(0,a.useState)(0);function st(e){if(!e)return!1;let t=parseFloat(e.match(/[\d.]+/)[0]);return"m"===(e.includes("km")?"km":"m")&&(t/=1e3),t<=2}return(0,a.useEffect)((()=>{(async()=>{if(!s)return;if(null===s||void 0===s||!s.lat||!s.lng)return o.oR.error("Your address not able to find please update");if(!window.google)return;const e={lat:null===s||void 0===s?void 0:s.lat,lng:s.lng};(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[{lat:12.940025819400102,lng:77.5477817106305}],destinations:[e],travelMode:window.google.maps.TravelMode.DRIVING},((e,t)=>{if("OK"===t){const t=e.rows[0].elements[0];tt(t.distance.text)}else console.error("Distance Matrix request failed:",t)}))})()}),[s]),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)(o.N9,{}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Your Subscribe Items"}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsx)("div",{className:"w-full md:w-48 h-48 relative",children:(0,r.jsx)("img",{src:`https://majesticmall.net/product/${null===ie||void 0===ie?void 0:ie.Photos[0].file}`,alt:null===ie||void 0===ie?void 0:ie.productname,className:"w-full h-full object-contain rounded-lg",loading:"lazy"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-[#000] mb-2",children:null===ie||void 0===ie?void 0:ie.productname}),(0,r.jsxs)("h3",{className:"text-xl font-bold text-[#000] mb-4",children:[(null===le||void 0===le?void 0:le.value)+" "+le.units," - \u20b9",le.price]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["Everyday","On Interval"].map((e=>(0,r.jsx)("button",{onClick:()=>{return ce(t=e),ye(!1),ve(null),void(("Everyday"===t||"On Interval"===t||"Customize"===t)&&he(1));var t},className:"px-4 py-2 rounded-full text-sm font-medium transition-colors\n                          "+(de===e?"bg-[#000] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)))})]}),"On Interval"===de&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[[2,3,4].map((e=>(0,r.jsxs)("button",{onClick:()=>{let t=new Date(De);const s=new Date;Math.ceil((t-s)/864e5)<e&&t.setDate(s.getDate()+e),xe(e)},className:"px-4 py-2 rounded-lg text-sm font-medium\n                            "+(pe===e?"bg-[#000]/20 text-[#000] border-2 border-[#000]":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100"),children:["Every ",e,Ze(e)," Day"]},e))),(0,r.jsx)("button",{onClick:()=>{ye(!0)},className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100",children:"Custom Interval"})]}),fe&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter interval (days):"}),(0,r.jsx)("input",{type:"number",value:pe,onChange:e=>{let t=new Date(De);const s=new Date;Math.ceil((t-s)/864e5)<Number(e.target.value)&&t.setDate(s.getDate()+Number(e.target.value)),xe(Number(e.target.value))},className:"w-32 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#000]",min:"1"})]})]}),"Customize"===de&&(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-2 mb-6",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((e=>(0,r.jsx)(S,{day:e,dayQuantities:qe,selectedDay:Be,setSelectedDay:e=>{We(e)}},e)))}),(null===ie||void 0===ie?void 0:ie.stock)-(null===ie||void 0===ie?void 0:ie.sellproduct)<=0?(0,r.jsx)("p",{style:{color:"red",paddingTop:"27px",textAlign:"center",fontWeight:"500"},children:"Out of Stock"}):(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsx)("button",{onClick:()=>Ve(-1),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:(0,r.jsx)(i.A,{size:20})}),(0,r.jsx)("span",{className:"text-xl font-bold",children:"Customize"===de?Be?qe[Be]:0:ge}),(0,r.jsx)("button",{onClick:()=>Ve(1),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:(0,r.jsx)(d.A,{size:20})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:Se,onChange:e=>Ae(e.target.value),min:we,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#000]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date (Optional)"}),(0,r.jsx)("input",{type:"date",value:De==Se?"":De,onChange:e=>ke(e.target.value),min:we,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#000]"})]})]}),"Customize"!==de&&!ue&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Order Selection"}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[7,30,60,90].map((e=>(0,r.jsxs)("button",{onClick:()=>{ve(e)},className:"py-3 px-4 rounded-lg text-sm font-medium transition-colors\n                            "+(be===e?"bg-[#000] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e," Orders"]},e)))})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 mb-6",children:[(0,r.jsx)(c,{className:"text-[#000]"}),"Delivery Address"]}),(0,r.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-[#000]",value:JSON.stringify(s),onChange:e=>{const s=e.target.value;h(JSON.parse(s)),t(!1)},children:[(0,r.jsx)("option",{value:"",children:"Select an address"}),(0,r.jsxs)("option",{value:JSON.stringify(E),children:[E.name,", ",E.address1,", ",E.address2]},E._id),Z.map((e=>(0,r.jsxs)("option",{value:JSON.stringify(e),children:[e.fullName,", ",e.street,", ",e.city]},e._id)))]}),s&&(0,r.jsxs)("div",{className:"bg-gray-100 p-4 rounded-md mb-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2 text-gray-700",children:"Selected Address"}),(0,r.jsx)("p",{children:s.name?s.name:s.fullName}),(0,r.jsx)("p",{children:s.address1?s.address1:s.street}),(0,r.jsxs)("p",{children:[s.address2?s.address2:s.city,", ",s.state," ",s.pincode]}),(0,r.jsx)("p",{children:s.country}),(0,r.jsxs)("p",{children:["Phone:"," ",s.mobile?s.mobile:s.number]}),(0,r.jsxs)("p",{children:["Alternative Phone (Whatsapp number):"," ",s.Amobile?s.Amobile:s.anumber]}),(0,r.jsxs)("p",{children:["Email: ",s.email]})]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("label",{className:"flex items-center text-gray-700",children:[(0,r.jsx)("input",{type:"checkbox",checked:e,onChange:()=>(t(!e),void h("")),className:"mr-2 form-checkbox h-5 w-5 text-[#000]"}),"Ship to a different address?"]})}),e&&(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{200===(await n.A.post("https://majesticmall.net/api/user/addaddress",{userId:E._id,...A},{headers:{Authorization:`Bearer ${b}`}})).status&&(o.oR.info("Address added successfully"),K(),D({fullName:"",street:"",city:"",state:"",country:"",pincode:"",number:"",anumber:"",email:""}))}catch(a){var t,s;o.oR.info((null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Error adding address")}},className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",name:"fullName",value:A.fullName,onChange:k,placeholder:"Full Name",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,r.jsxs)("div",{className:"flex items-center relative  align-center  rounded-full",children:[(0,r.jsx)(u.HPi,{className:"ml-2  cursor-pointer absolute left-3",color:"#000",title:"Current Location",onClick:()=>Xe()}),(0,r.jsx)(m.jT,{onLoad:Ke,onPlaceChanged:()=>{if(!Ge)return;const e=Ge.getPlace();if(!e.geometry||!e.address_components)return;const t=e.address_components;let s=null===e||void 0===e?void 0:e.name,a="",r="",n="",l="",o=e.geometry.location.lat(),i=e.geometry.location.lng();t.forEach((e=>{const t=e.types;t.includes("locality")&&(a=e.long_name),t.includes("administrative_area_level_1")&&(r=e.short_name),t.includes("country")&&(n=e.long_name),t.includes("postal_code")&&(l=e.long_name)})),D({...A,street:s,city:a,state:r,country:n,pincode:l,lat:o,lng:i})},className:"w-100 px-2 ",children:(0,r.jsx)("input",{type:"text",name:"street",value:A.street,onChange:k,placeholder:"Street Address",className:"w-full    border border-gray-300  rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0,style:{paddingLeft:"40px"}})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"text",name:"city",value:A.city,onChange:k,placeholder:"City",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,r.jsx)("input",{type:"text",name:"state",value:A.state,onChange:k,placeholder:"State",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"text",name:"country",value:A.country,onChange:k,placeholder:"Country",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,r.jsx)("input",{type:"text",name:"pincode",value:A.pincode,onChange:k,placeholder:"Pincode",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"tel",name:"number",value:A.number,onChange:k,placeholder:"Phone Number",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,r.jsx)("input",{type:"tel",name:"anumber",value:A.anumber,onChange:k,placeholder:"Alternative Number (Whatsapp number)",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0})]}),(0,r.jsx)("input",{type:"email",name:"email",value:A.email,onChange:k,placeholder:"Email",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#000]",required:!0}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-[#000] text-white p-2 rounded-md hover:bg-[#000] transition duration-300",children:"Add New Address"})]})]})]}),(0,r.jsx)("div",{className:"lg:w-96",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-6",children:"Subscribe Summary"}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Total Orders"}),(0,r.jsx)("span",{className:"font-bold",children:Ye})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Total Quantity"}),(0,r.jsx)("span",{className:"font-bold",children:Le})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Product Value"}),(0,r.jsxs)("span",{className:"font-bold",children:["\u20b9",null===Me||void 0===Me?void 0:Me.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-[#000]",children:[(0,r.jsx)("span",{children:"Wallet Balance"}),(0,r.jsxs)("span",{className:"font-bold",children:["\u20b9",null===te||void 0===te?void 0:te.toFixed(2)]})]})]}),te<Me&&(0,r.jsx)("button",{onClick:N,className:"w-full bg-[#be343b] text-white py-2 px-4 rounded-lg font-medium hover:bg-[#a02d33] transition-colors mb-2",children:"Recharge Wallet"}),(0,r.jsx)("p",{className:"text-center text-sm text-white mt-2 gradient1 rounded-md py-2 p-2",children:"Our services are available within a 2 km radius."}),(0,r.jsx)("button",{onClick:async()=>{if(0===te)return o.oR.info("Please recharge your wallet."),void N();if(te<Me)return o.oR.info("Insufficient wallet balance. Please recharge your wallet."),void N();if(s)if(Se)try{201===(await n.A.post("https://majesticmall.net/api/user/create",{userId:null===E||void 0===E?void 0:E._id,productId:null===ie||void 0===ie?void 0:ie._id,frequency:de,quantity:ge,startDate:Se,endDate:Se==De?null:De,totalOrders:Ye,totalQuantity:Le,productValue:Me,discount:Ee,subtotal:Re,deliveryCharges:Pe,total:$e,shippingAddress:s,dayQuantities:qe,nthInterval:"On Interval"===de?pe:void 0,selectedWeight:{value:null===le||void 0===le?void 0:le.value,units:null===le||void 0===le?void 0:le.units,price:null===le||void 0===le?void 0:le.price}},{headers:{Authorization:`Bearer ${b}`}})).status&&(o.oR.info("Subscription added successfully."),setTimeout((()=>{window.location.assign("/")}),300))}catch(e){console.error("Error in subscription process:",e),o.oR.info("Failed to complete the subscription process. Please try again.")}else o.oR.info("Please select start date.");else o.oR.info("Please select a delivery address.")},disabled:!st(et),className:"w-full bg-[#000] text-white py-3 px-4 rounded-lg font-medium hover:bg-[#000] transition-colors "+(st(et)?"":"opacity-50"),children:st(et)?"Subscribe Now":`Distance Exceeded your distance limit is ${et}`})]})})]}),v&&(0,r.jsx)(w,{closeModal:()=>j(!1),setBalance:se,setTransactions:re})]})}},56174:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},71360:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}}]);
//# sourceMappingURL=9929.5669c614.chunk.js.map