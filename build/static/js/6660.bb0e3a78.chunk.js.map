{"version":3,"file":"static/js/6660.bb0e3a78.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/download.ts","components/Invoice.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3IDEwIDEyIDE1IDE3IDEwIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUiIHkyPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('Download', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '7 10 12 15 17 10', key: '2ggqvy' }],\n  ['line', { x1: '12', x2: '12', y1: '15', y2: '3', key: '1vk2je' }],\n]);\n\nexport default Download;\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from 'js-cookie';\r\nimport CryptoJS from 'crypto-js';\r\nimport { Download } from \"lucide-react\";\r\nimport { useRoutes } from \"react-router-dom\";\r\n\r\nconst InvoicePage = () => {\r\n  const [order, setOrder] = useState(null);\r\n  const [salesOrderData, setSalesOrderData] = useState(null);\r\n  const encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\n\r\n  const encryptedToken = Cookies.get('token');\r\n  const token = encryptedToken ? CryptoJS.AES.decrypt(encryptedToken, encryptionKey).toString(CryptoJS.enc.Utf8) : null;\r\n\r\n  useEffect(() => {\r\n    const storedOrder = JSON.parse(localStorage.getItem(\"InvoiceItem\"));\r\n    if (storedOrder) {\r\n      setOrder(storedOrder);\r\n      fetchSalesOrder(storedOrder._id);\r\n    }\r\n  }, []);\r\n\r\n  const route = useRoutes();\r\n  const { orderId } = route.params;\r\n\r\n  const fetchSalesOrder = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://majesticmall.net/api/user/getSalesOrder/${orderId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n      );\r\n      console.log(response)\r\n      if (response.data.success) {\r\n        setSalesOrderData(response.data.data);\r\n      } else {\r\n        console.error(\"Sales order not found\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching sales order:\", error);\r\n    }\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    window.print(); // Trigger the browser's print dialog\r\n  };\r\n\r\n  if (!order) {\r\n    return <p>Loading invoice...</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl p-4 mx-auto bg-white shadow-lg print:shadow-none print-section\">\r\n      <div className=\"mb-4 text-center\">\r\n        <h1 className=\"text-2xl font-bold\">Majestic Mall</h1>\r\n        <p className=\"text-sm\">123 Store Street, City, State - 123456</p>\r\n        <p className=\"text-sm\">Phone: (123) 456-7890</p>\r\n      </div>\r\n      <div className=\"flex justify-between mb-4 text-sm\">\r\n        <div>\r\n          <p><strong>Invoice No:</strong> {order._id}</p>\r\n          <p><strong>Date:</strong> {new Date(order.orderDate).toLocaleDateString()}</p>\r\n          <p><strong>Time:</strong> {new Date(order.orderDate).toLocaleTimeString()}</p>\r\n        </div>\r\n        <div className=\"text-right\">\r\n          <p><strong>Customer:</strong> {order.shippingAddress.fullName || order.shippingAddress.name}</p>\r\n          <p><strong>Phone:</strong> {order.shippingAddress.mobile || order.shippingAddress.number}</p>\r\n          <p><strong>Address:</strong> {order.shippingAddress.street || order.shippingAddress.address1}, <br />\r\n            {order.shippingAddress.city || order.shippingAddress.address2} {order.shippingAddress.state && `, ${order.shippingAddress.state}`} {order.shippingAddress.pincode}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"mb-4\">\r\n        <div className=\"flex justify-between p-2 text-sm font-bold bg-gray-200\">\r\n          <span className=\"w-1/2\">Item</span>\r\n          <span className=\"w-1/6 text-right\">Qty</span>\r\n          <span className=\"w-1/6 text-right\">Price</span>\r\n          <span className=\"w-1/6 text-right\">Total</span>\r\n        </div>\r\n        {order.items.map((item, index) => (\r\n          <div key={index} className=\"flex justify-between py-2 text-sm border-b\">\r\n            <span className=\"w-1/2\">{item.name}</span>\r\n            <span className=\"w-1/6 text-right\">{item.quantity}</span>\r\n            <span className=\"w-1/6 text-right\">₹{item.price.toFixed(2)}</span>\r\n            <span className=\"w-1/6 text-right\">₹{(item.quantity * item.price).toFixed(2)}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {salesOrderData && (\r\n        <div className=\"mb-4\">\r\n          <h4 className=\"font-bold\">Sales Order Items</h4>\r\n          <div className=\"mb-4\">\r\n            <div className=\"flex justify-between p-2 text-sm font-bold bg-gray-200\">\r\n              <span className=\"w-1/2\">Item</span>\r\n              <span className=\"w-1/6 text-right\">Qty</span>\r\n              <span className=\"w-1/6 text-right\">Price</span>\r\n              <span className=\"w-1/6 text-right\">Total</span>\r\n            </div>\r\n            {salesOrderData.items.map((item, index) => (\r\n              <div key={index} className=\"flex justify-between py-2 text-sm border-b\">\r\n                <span className=\"w-full text-left lg:w-1/2 lg:text-right\">{item.name}</span>\r\n                <span className=\"w-full text-left lg:w-1/6 lg:text-right\">{item.quantity}</span>\r\n                <span className=\"w-full mr-2 text-left lg:w-1/6 lg:text-right\">₹{item.price.toFixed(2)}</span>\r\n                <span className=\"w-full mr-2 text-left lg:w-1/6 lg:text-right\">₹{(item.quantity * item.price).toFixed(2)}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"mb-4 text-right\">\r\n        {!salesOrderData && <p><strong>Total MRP:</strong> ₹{(order?.totalAmount + order?.discount - order?.deliveryCharge).toFixed(2)}</p>}\r\n        {!salesOrderData && <p><strong>Shipping Fees:</strong> ₹{(order?.deliveryCharge).toFixed(2)}</p>}\r\n        {!salesOrderData && <p style={{ color: \"green\" }}><strong>Discount:</strong> ₹{(order?.discount).toFixed(2)}</p>}\r\n        {salesOrderData && <p><strong>Total Sales Amount:</strong> ₹{(salesOrderData.totalAmount).toFixed(2)}</p>}\r\n        {!salesOrderData && <p className=\"text-lg font-bold\">Total: ₹{order.totalAmount.toFixed(2)}</p>}\r\n      </div>\r\n      <div className=\"mb-4 text-sm text-center\">\r\n        <p>Thank you for shopping with us!</p>\r\n        <p>Please keep this invoice for any returns or exchanges.</p>\r\n      </div>\r\n      <div className=\"flex justify-center\">\r\n        <button onClick={handlePrint} className=\"flex items-center px-4 py-2 text-white bg-green-500\">\r\n          <Download className=\"mr-2\" /> Print Invoice\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvoicePage;\r\n"],"names":["Download","createLucideIcon","d","key","points","x1","x2","y1","y2","InvoicePage","order","setOrder","useState","salesOrderData","setSalesOrderData","encryptedToken","Cookies","get","token","CryptoJS","decrypt","process","toString","Utf8","useEffect","storedOrder","JSON","parse","localStorage","getItem","fetchSalesOrder","_id","route","useRoutes","orderId","params","async","response","axios","headers","Authorization","console","log","data","success","error","_jsxs","className","children","_jsx","Date","orderDate","toLocaleDateString","toLocaleTimeString","shippingAddress","fullName","name","mobile","number","street","address1","city","address2","state","pincode","items","map","item","index","quantity","price","toFixed","totalAmount","discount","deliveryCharge","style","color","onClick","handlePrint","window","print"],"sourceRoot":""}