{"version":3,"file":"static/js/7136.8837aba5.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/log-in.ts","../node_modules/lucide-react/src/icons/log-out.ts","components/admin/pages/DriverCheckins.js","../node_modules/lucide-react/src/icons/clock.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LogIn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g0YTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMmgtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMCAxNyAxNSAxMiAxMCA3IiAvPgogIDxsaW5lIHgxPSIxNSIgeDI9IjMiIHkxPSIxMiIgeTI9IjEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/log-in\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogIn = createLucideIcon('LogIn', [\n  ['path', { d: 'M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4', key: 'u53s6r' }],\n  ['polyline', { points: '10 17 15 12 10 7', key: '1ail0h' }],\n  ['line', { x1: '15', x2: '3', y1: '12', y2: '12', key: 'v6grx8' }],\n]);\n\nexport default LogIn;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjEgMTIgMTYgNyIgLz4KICA8bGluZSB4MT0iMjEiIHgyPSI5IiB5MT0iMTIiIHkyPSIxMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('LogOut', [\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n  ['polyline', { points: '16 17 21 12 16 7', key: '1gabdz' }],\n  ['line', { x1: '21', x2: '9', y1: '12', y2: '12', key: '1uyos4' }],\n]);\n\nexport default LogOut;\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Input, Button, Typography, Space, Card } from \"antd\";\r\nimport { Search, FileSpreadsheet, Clock, LogIn, LogOut } from \"lucide-react\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport * as XLSX from \"xlsx\";\r\nimport Cookies from 'js-cookie';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst { Title } = Typography;\r\n\r\nconst Checkins = () => {\r\n  const encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\n  const encryptedToken = Cookies.get('token');\r\n  const token = encryptedToken ? CryptoJS.AES.decrypt(encryptedToken, encryptionKey).toString(CryptoJS.enc.Utf8) : null;\r\n  const [users, setUsers] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [filteredData, setFilteredData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getAllUsers();\r\n  }, []);\r\n\r\n  const calculateDuration = (checkInTime, checkOutTime) => {\r\n    if (!checkInTime || !checkOutTime) return \"Pending\";\r\n\r\n    const checkIn = moment(checkInTime);\r\n    const checkOut = moment(checkOutTime);\r\n    const duration = moment.duration(checkOut.diff(checkIn));\r\n\r\n    const hours = Math.floor(duration.asHours());\r\n    const minutes = duration.minutes();\r\n\r\n    if (hours === 0) {\r\n      return `${minutes} min`;\r\n    }\r\n    return `${hours}h ${minutes}m`;\r\n  };\r\n\r\n  const getAllUsers = async () => {\r\n    try {\r\n      const res = await axios.get(\"https://majesticmall.net/api/user/getAllCheckin\", {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      if (res.status === 200) {\r\n        setUsers(res.data.success);\r\n        setFilteredData(res.data.success);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching users:\", error);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    const searchValue = e.target.value.toLowerCase();\r\n    setSearchText(searchValue);\r\n    const filteredUsers = users.filter((user) =>\r\n      user.userId?.name.toLowerCase().includes(searchValue)\r\n    );\r\n    setFilteredData(filteredUsers);\r\n  };\r\n\r\n  const handleExportToExcel = () => {\r\n    const exportData = filteredData.map((item) => ({\r\n      \"Imp ID\": item._id.slice(18, 24),\r\n      \"Driver Name\": item.userId?.name,\r\n      \"Date\": moment(item.createdAt).format(\"DD-MM-YYYY\"),\r\n      \"Check In Time\": moment(item.createdAt).format(\"HH:mm:ss\"),\r\n      \"Check Out Time\": moment(item.updatedAt).format(\"HH:mm:ss\"),\r\n      \"Duration\": calculateDuration(item.createdAt, item.updatedAt),\r\n      \"Email ID\": item.userId?.email,\r\n      \"Phone Number\": item.userId?.mobile,\r\n    }));\r\n\r\n    const worksheet = XLSX.utils.json_to_sheet(exportData);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Checkins\");\r\n    XLSX.writeFile(workbook, \"CheckinsData.xlsx\");\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Imp ID\",\r\n      dataIndex: \"_id\",\r\n      key: \"_id\",\r\n      render: (text) => text.slice(18, 24),\r\n    },\r\n    {\r\n      title: \"Driver Name\",\r\n      dataIndex: [\"userId\", \"name\"],\r\n      key: \"userId.name\",\r\n    },\r\n    {\r\n      title: \"Date\",\r\n      dataIndex: \"createdAt\",\r\n      key: \"createdAt\",\r\n      render: (text) => moment(text).format(\"DD-MM-YYYY\"),\r\n    },\r\n    {\r\n      title: \"Time Details\",\r\n      key: \"timeDetails\",\r\n      render: (_, record) => (\r\n        <Card className=\"bg-white rounded-lg p-4 shadow-sm\">\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center\">\r\n              <LogIn className=\"w-4 h-4 text-[#000] mr-2\" />\r\n              <div>\r\n                <div className=\"text-sm text-gray-600\">Check In</div>\r\n                <div className=\"font-semibold\">\r\n                  {moment(record.createdAt).format(\"HH:mm:ss\")}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center\">\r\n              <LogOut className=\"w-4 h-4 text-red-600 mr-2\" />\r\n              <div>\r\n                <div className=\"text-sm text-gray-600\">Check Out</div>\r\n                <div className=\"font-semibold\">\r\n                  {moment(record.updatedAt).format(\"HH:mm:ss\")}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center\">\r\n              <Clock className=\"w-4 h-4 text-blue-600 mr-2\" />\r\n              <div>\r\n                <div className=\"text-sm text-gray-600\">Duration</div>\r\n                <div className=\"font-semibold\">\r\n                  {calculateDuration(record.createdAt, record.updatedAt)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Email ID\",\r\n      dataIndex: [\"userId\", \"email\"],\r\n      key: \"userId.email\",\r\n    },\r\n    {\r\n      title: \"Phone Number\",\r\n      dataIndex: [\"userId\", \"mobile\"],\r\n      key: \"userId.mobile\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <Title level={3}>CheckIns</Title>\r\n        <Space>\r\n          <Input\r\n            placeholder=\"Search Driver Name\"\r\n            onChange={handleSearch}\r\n            prefix={<Search className=\"w-4 h-4\" />}\r\n            className=\"min-w-[200px]\"\r\n          />\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={handleExportToExcel}\r\n            icon={<FileSpreadsheet className=\"w-4 h-4\" />}\r\n          >\r\n            Export to Excel\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n\r\n      <Table\r\n        columns={columns}\r\n        dataSource={filteredData}\r\n        pagination={{\r\n          pageSize: 10,\r\n          //showSizeChanger: true, \r\n        }}\r\n        scroll={{ x: \"max-content\" }}\r\n        components={{\r\n          header: {\r\n            cell: (props) => (\r\n              <th\r\n                {...props}\r\n                style={{\r\n                  ...props.style,\r\n                  background: \"linear-gradient(#000,#000,#000)\",\r\n                  color: \"white\",\r\n                }}\r\n              />\r\n            ),\r\n          },\r\n        }}\r\n        rowKey={(record) => record._id}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkins;","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n"],"names":["LogIn","createLucideIcon","d","key","points","x1","x2","y1","y2","LogOut","Title","Typography","Checkins","encryptedToken","Cookies","get","token","CryptoJS","decrypt","process","toString","Utf8","users","setUsers","useState","searchText","setSearchText","filteredData","setFilteredData","useEffect","getAllUsers","calculateDuration","checkInTime","checkOutTime","checkIn","moment","checkOut","duration","diff","hours","Math","floor","asHours","minutes","async","res","axios","headers","Authorization","status","data","success","error","console","columns","title","dataIndex","render","text","slice","format","_","record","_jsx","Card","className","children","_jsxs","createdAt","updatedAt","Clock","level","Space","Input","placeholder","onChange","e","searchValue","target","value","toLowerCase","filteredUsers","filter","user","_user$userId","userId","name","includes","prefix","Search","Button","type","onClick","handleExportToExcel","exportData","map","item","_item$userId","_item$userId2","_item$userId3","_id","email","mobile","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","icon","FileSpreadsheet","Table","dataSource","pagination","pageSize","scroll","x","components","header","cell","props","style","background","color","rowKey","cx","cy","r"],"sourceRoot":""}