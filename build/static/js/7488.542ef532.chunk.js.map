{"version":3,"file":"static/js/7488.542ef532.chunk.js","mappings":"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","sources":["components/admin/components/CustomInput.js","components/login.js","components/scrolltotop.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst CustomInput = (props) => {\r\n  const { type, label, i_id, i_class, name, val, onChng, onBlr ,style} = props;\r\n  return (\r\n    \r\n    <div className=\"form-floating mt-3\">\r\n        <label htmlFor={label}>{label}</label>\r\n      <input\r\n        type={type}\r\n        className={`form-control ${i_class}`}\r\n        id={i_id}\r\n        placeholder={label}\r\n        value={val}\r\n        onChange={onChng}\r\n        style={style}\r\n        onBlur={onBlr}\r\n      />\r\n    \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomInput;\r\n","import React, { useState } from \"react\";\r\nimport \"./login.css\";\r\nimport axios from \"axios\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport CustomInput from \"./admin/components/CustomInput\";\r\nimport ScrollToTop from \"./scrolltotop\";\r\nimport Cookies from 'js-cookie';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nexport default function LoginForm() {\r\n  const [successshow, setsuccessshow] = useState(false);\r\n  const handlesuccessClose = () => setsuccessshow(false);\r\n  const handlesuccess = () => setsuccessshow(true);\r\n\r\n  const encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\n  if (!encryptionKey) {\r\n    console.error(\"Encryption key is not defined!\");\r\n  }\r\n\r\n  // console.log(\"encryptionKey\",encryptionKey);\r\n  // const encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\n  const encryptedToken = Cookies.get('token');\r\n  const token = encryptedToken ? CryptoJS.AES.decrypt(encryptedToken, encryptionKey).toString(CryptoJS.enc.Utf8) : null;\r\n  const [errorshow, seterrorshow] = useState(false);\r\n  const handleerrorClose = () => seterrorshow(false);\r\n  const handleerror = () => seterrorshow(true);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(true);\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const config = {\r\n        url: \"/user/loginUser\",\r\n        method: \"post\",\r\n        baseURL: \"https://majesticmall.net/api\",\r\n        hearder: { \"content-type\": \"application/json\" },\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: {\r\n          email: email,\r\n          password: password,\r\n        },\r\n      };\r\n      await axios(config).then(function (res) {\r\n        if (res.status === 200) {\r\n          if (res.data.success.status === \"pending\") {\r\n            toast.info(\"You're account is not approved yet\");\r\n          } else {\r\n            if (res.data) {\r\n              toast.info(\"Login success\");\r\n\r\n              // Encrypt the token and user data before storing in cookies\r\n              const encryptedToken = CryptoJS.AES.encrypt(res.data.token, encryptionKey).toString();\r\n              const encryptedUser = CryptoJS.AES.encrypt(JSON.stringify(res.data.success), encryptionKey).toString();\r\n              // console.log(\"user\",encryptedUser);\r\n              // Store the encrypted data in cookies\r\n              Cookies.set('token', encryptedToken, { expires: 7, secure: true, sameSite: 'Strict' });\r\n              Cookies.set('user', encryptedUser, { expires: 7, secure: true, sameSite: 'Strict' });\r\n\r\n              // Redirect after a short delay\r\n              setTimeout(() => {\r\n                window.location.assign(\"/\");\r\n              }, 2000);\r\n            } else {\r\n\r\n              handleerror();\r\n            }\r\n          }\r\n        }\r\n      });\r\n    } catch (error) {\r\n      toast.info(\"Please enter registered email id or mobile and password!\");\r\n      console.log(error);\r\n    }\r\n  };\r\n  const forgetPassword = async () => {\r\n    if (!email) {\r\n      toast.info(\"Please enter email address\");\r\n    } else {\r\n      try {\r\n        const config = {\r\n          url: \"/userForgetPwd\",\r\n          method: \"post\",\r\n          baseURL: \"https://majesticmall.net/api/user\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n\r\n          data: { email: email },\r\n        };\r\n        let res = await axios(config);\r\n        if (res.status === 200) {\r\n          toast.info(\"Successfully sent new password to your mail\");\r\n          window.location.reload(true);\r\n        } else {\r\n          toast.info(\"Something Wrong\");\r\n        }\r\n      } catch (error) {\r\n        if (error.response) {\r\n          toast.info(error.response.data.error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <ToastContainer />\r\n      <ScrollToTop />\r\n      <div class=\"logo text-center\"></div>\r\n      <div class=\"wrapper\">\r\n        <div class=\"inner-warpper text-center\">\r\n          <h4 class=\"title\">Login to Your Account</h4>\r\n\r\n          <div style={{ position: \"relative\", width: \"100%\" }}>\r\n            <CustomInput\r\n              type=\"text\"\r\n              label=\"Email / Mobile Number\"\r\n              id=\"userName\"\r\n              name=\"userName\"\r\n              onChng={(e) => setEmail(e.target.value)}\r\n              val={email}\r\n            />\r\n            <span class=\"lighting\"></span>\r\n          </div>\r\n          <div style={{ position: \"relative\", width: \"100%\" }}>\r\n            <CustomInput\r\n              type={!showPassword ? \"text\" : \"password\"}\r\n              label=\"Password\"\r\n              id=\"pass\"\r\n              name=\"password\"\r\n              onChng={(e) => setPassword(e.target.value)}\r\n              val={password}\r\n              style={{ width: \"100%\" }}\r\n            />\r\n            <i\r\n              className={showPassword ? \"fas fa-eye-slash\" : \"fas fa-eye\"}\r\n              onClick={togglePasswordVisibility}\r\n              style={{\r\n                position: \"absolute\",\r\n                right: \"10px\",\r\n                top: \"50%\",\r\n                transform: \"translateY(-50%)\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            ></i>\r\n          </div>\r\n\r\n          <div class=\"clearfix supporter\">\r\n            {/* <div class=\"pull-left remember-me\">\r\n          <input id=\"rememberMe\" type=\"checkbox\"/>\r\n          <label for=\"rememberMe\">Remember Me</label>\r\n        </div> */}\r\n            <a class=\"forgot pull-right\" onClick={() => forgetPassword()}>\r\n              Forgot Password?\r\n            </a>\r\n          </div>\r\n          <br />\r\n          <button\r\n            class=\"button1\"\r\n            type=\"submit\"\r\n            id=\"login\"\r\n            onClick={handleClick}\r\n          >\r\n            Login\r\n          </button>\r\n        </div>\r\n        <div class=\"signup-wrapper text-center\" style={{ fontSize: \"20px\", marginTop: \"-40px\" }}>\r\n          <a href=\"/register\">\r\n            New to\r\n            Majestic Mall ? <span class=\"text-primary\">{\" \"}Sign up</span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        show={successshow}\r\n        onHide={handlesuccess}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton onClick={handlesuccessClose}></Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"text-center\">\r\n            <img\r\n              src=\"../img/success.png\"\r\n              style={{ margin: \"auto\" }}\r\n              width=\"100px\"\r\n              loading=\"lazy\"\r\n            />\r\n\r\n            <p>Login Successfully</p>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <Modal\r\n        show={errorshow}\r\n        onHide={handleerror}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton onClick={handleerrorClose}></Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"text-center\">\r\n            <img\r\n              src=\"../img/close.png\"\r\n              style={{ margin: \"auto\" }}\r\n              width=\"100px\"\r\n              loading=\"lazy\"\r\n            />\r\n\r\n            <p>Error Occured</p>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst ScrollToTop = () => {\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [location]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default ScrollToTop;\r\n"],"names":["props","type","label","i_id","i_class","name","val","onChng","onBlr","style","_jsxs","className","children","_jsx","htmlFor","id","placeholder","value","onChange","onBlur","LoginForm","successshow","setsuccessshow","useState","encryptionKey","process","encryptedToken","Cookies","get","token","CryptoJS","decrypt","toString","Utf8","errorshow","seterrorshow","handleerror","email","setEmail","password","setPassword","showPassword","setShowPassword","ToastContainer","ScrollToTop","class","position","width","CustomInput","e","target","onClick","togglePasswordVisibility","right","top","transform","cursor","async","config","url","method","baseURL","headers","Authorization","data","axios","status","toast","info","window","location","reload","error","response","forgetPassword","preventDefault","hearder","then","res","success","encrypt","encryptedUser","JSON","stringify","set","expires","secure","sameSite","setTimeout","assign","console","log","fontSize","marginTop","href","Modal","show","onHide","handlesuccess","backdrop","keyboard","Header","closeButton","handlesuccessClose","Body","src","margin","loading","handleerrorClose","useLocation","useEffect","scrollTo"],"sourceRoot":""}