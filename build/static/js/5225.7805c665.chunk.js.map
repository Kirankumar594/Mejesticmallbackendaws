{"version":3,"file":"static/js/5225.7805c665.chunk.js","mappings":"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","sources":["components/admin/pages/Orders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  DatePicker,\r\n  Input,\r\n  Modal,\r\n  Table,\r\n  Space,\r\n  message,\r\n  Typography,\r\n  Select,\r\n  Form,\r\n  Descriptions,\r\n} from \"antd\";\r\nimport {\r\n  ExclamationCircleOutlined,\r\n  SearchOutlined,\r\n  EyeOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { BiEdit } from \"react-icons/bi\";\r\nimport axios from \"axios\";\r\nimport * as XLSX from \"xlsx\";\r\nimport moment from \"moment\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport { FileSpreadsheet } from \"lucide-react\";\r\nimport Cookies from \"js-cookie\";\r\nimport CryptoJS from \"crypto-js\";\r\n\r\nconst API_BASE_URL = \"https://majesticmall.net/api\";\r\nconst { Title } = Typography;\r\nconst { confirm } = Modal;\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\n  const encryptedToken = Cookies.get(\"token\");\r\n  const token = encryptedToken\r\n    ? CryptoJS.AES.decrypt(encryptedToken, encryptionKey).toString(\r\n      CryptoJS.enc.Utf8\r\n    )\r\n    : null;\r\n\r\n  const [filteredOrders, setFilteredOrders] = useState([]);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [dateRange, setDateRange] = useState([null, null]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [driver, setDriver] = useState([]);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState(null);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [isDetailsModalVisible, setIsDetailsModalVisible] = useState(false);\r\n  const [form] = Form.useForm();\r\n\r\n  // console.log(\"selectedOrder\",selectedOrder)\r\n  useEffect(() => {\r\n    fetchOrders();\r\n    fetchDrivers();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    applyFilters();\r\n  }, [searchText, dateRange, orders]);\r\n\r\n  const fetchOrders = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/user/getallOrder`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      if (response.status === 200) {\r\n        const normalOrders = response.data.success.filter(\r\n          (e) => e.orderType === \"normal\"\r\n        );\r\n        const transformedOrders = transformData(normalOrders);\r\n        setOrders(transformedOrders);\r\n        setFilteredOrders(transformedOrders);\r\n      }\r\n    } catch (error) {\r\n      message.error(\"Failed to fetch orders\");\r\n      console.error(\"Error fetching orders:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDrivers = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/user/getAlldriver`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      if (response.status === 200) {\r\n        const driversData = Array.isArray(response.data.success)\r\n          ? response.data.success\r\n          : [];\r\n        setDriver(driversData);\r\n        // console.log(\"Fetched drivers:\", driversData);\r\n      }\r\n    } catch (error) {\r\n      message.error(\"Failed to fetch drivers\");\r\n      // console.error(\"Error fetching drivers:\", error);\r\n    }\r\n  };\r\n\r\n  const handleAssignDeliveryBoy = async (orderId, deliveryBoyId) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${API_BASE_URL}/user/assignDeliveryBoy`,\r\n        {\r\n          orderId,\r\n          deliveryBoyId,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      if (response.status === 200) {\r\n        message.success(\"Delivery boy assigned successfully\");\r\n        fetchOrders();\r\n      }\r\n    } catch (error) {\r\n      message.error(\"Failed to assign delivery boy\");\r\n      console.error(\"Error assigning delivery boy:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEditProduct = (orderId, product, discount) => {\r\n    setEditingProduct({ orderId, product, discount });\r\n    form.setFieldsValue({\r\n      quantity: product.quantity,\r\n      weight: product.weight,\r\n    });\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n\r\n  const handleSaveEdit = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n      console.log(\"Form Values:\", values);\r\n\r\n      const { orderId, product, discount } = editingProduct;\r\n      const newPrice = values.price ? parseFloat(values.price) : product.price;\r\n      const editedTotal = values.quantity * newPrice;\r\n\r\n      // console.log(\"New Price:\", newPrice);\r\n      // console.log(\"Edited Total:\", editedTotal);\r\n\r\n      const responseOrder = await axios.get(\r\n        `${API_BASE_URL}/user/getOriginalOrder/${orderId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      const originalOrder = responseOrder.data.data;\r\n      // console.log(\"Original Order:\", originalOrder);\r\n\r\n      const uneditedItems = originalOrder.items.filter(\r\n        (item) =>\r\n          !(\r\n            item.name.trim() === product.name.trim() &&\r\n            item.quantity === product.quantity\r\n          )\r\n      );\r\n\r\n      const uneditedTotal = uneditedItems.reduce(\r\n        (acc, item) => acc + item.quantity * item.price,\r\n        0\r\n      );\r\n\r\n      const totalAmount = editedTotal + uneditedTotal;\r\n\r\n      const response = await axios.post(\r\n        `${API_BASE_URL}/user/saveSalesOrder`,\r\n        {\r\n          orderId,\r\n          discount,\r\n          totalAmount,\r\n          items: [\r\n            {\r\n              itemId: product.itemId,\r\n              name: product.name.trim(),\r\n              quantity: values.quantity,\r\n              weight: values.weight,\r\n              price: newPrice,\r\n            },\r\n            ...uneditedItems,\r\n          ],\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        message.success(\"Sales order updated successfully\");\r\n        setIsModalVisible(false);\r\n        setIsDetailsModalVisible(false);\r\n        form.resetFields();\r\n        fetchOrders();\r\n      }\r\n    } catch (error) {\r\n      message.error(\"Failed to update sales order\");\r\n      console.error(\"Error saving sales order:\", error);\r\n    }\r\n  };\r\n\r\n  const showDeleteConfirm = (orderId) => {\r\n    confirm({\r\n      title: \"Are you sure you want to delete this order?\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: \"This action cannot be undone.\",\r\n      okText: \"Yes\",\r\n      okType: \"danger\",\r\n      cancelText: \"No\",\r\n      onOk() {\r\n        handleDeleteOrder(orderId);\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleDeleteOrder = async (orderId) => {\r\n    try {\r\n      const response = await axios.delete(\r\n        `${API_BASE_URL}/user/deleteOrder/${orderId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      if (response.status === 200) {\r\n        message.success(\"Order deleted successfully\");\r\n        fetchOrders();\r\n      }\r\n    } catch (error) {\r\n      message.error(\"Failed to delete order\");\r\n      console.error(\"Error deleting order:\", error);\r\n    }\r\n  };\r\n\r\n  const [salesOrderData, setSalesOrderData] = useState(null);\r\n  const handleViewSalesOrder = async (orderId) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${API_BASE_URL}/user/getSalesOrder/${orderId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        setSalesOrderData(response.data.data);\r\n      } else {\r\n        console.error(\"Sales order not found\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching sales order:\", error);\r\n    }\r\n  };\r\n\r\n  const transformData = (data) => {\r\n    return data.map((order, index) => ({\r\n      key: index + 1,\r\n      Sno: index + 1,\r\n      orderId: order._id,\r\n      customerName: order.shippingAddress?.fullName\r\n        ? order.shippingAddress?.fullName\r\n        : order.shippingAddress?.name,\r\n      searchableContent: `\r\n        ${order._id}\r\n        ${order.shippingAddress?.name\r\n          ? order.shippingAddress?.name\r\n          : order.shippingAddress?.fullName\r\n        }\r\n        ${order.shippingAddress?.street\r\n          ? order.shippingAddress?.street\r\n          : order.shippingAddress?.address1\r\n        }\r\n        ${order.shippingAddress?.city\r\n          ? order.shippingAddress?.city\r\n          : order.shippingAddress?.address2\r\n        }\r\n        ${order.shippingAddress?.state}\r\n        ${order.shippingAddress?.pincode}\r\n        ${order.shippingAddress?.country}\r\n        ${order.shippingAddress?.number\r\n          ? order.shippingAddress?.number\r\n          : order.shippingAddress?.mobile\r\n        }\r\n        ${order.shippingAddress?.email}\r\n        ${order.items\r\n          ?.map((item) => `${item.name} ${item.quantity} ${item.price}`)\r\n          .join(\" \")}\r\n        ${order.totalAmount}\r\n        ${order.paymentmethod}\r\n        ${order.status}\r\n        ${order.remarks}\r\n      `.toLowerCase(),\r\n      address: (\r\n        <div>\r\n          <p>\r\n            {order.shippingAddress?.fullName\r\n              ? order.shippingAddress?.fullName\r\n              : order.shippingAddress?.name}\r\n          </p>\r\n          <p>\r\n            {order.shippingAddress?.street\r\n              ? order.shippingAddress?.street\r\n              : order.shippingAddress?.address1}\r\n          </p>\r\n          <p>\r\n            {order.shippingAddress?.city\r\n              ? order.shippingAddress?.city\r\n              : order.shippingAddress?.address2}\r\n            , {order.shippingAddress?.state} {order.shippingAddress?.pincode}\r\n          </p>\r\n          <p>{order.shippingAddress?.country}</p>\r\n          <p>\r\n            Phone:\r\n            {order.shippingAddress?.number\r\n              ? order.shippingAddress?.number\r\n              : order.shippingAddress?.mobile}\r\n          </p>\r\n          <p>Email: {order.shippingAddress?.email}</p>\r\n        </div>\r\n      ),\r\n      products: (\r\n        <ul>\r\n          {order.items?.map((item, idx) => (\r\n            <li key={idx}>\r\n              {item.name} - {item.quantity} x {item.price} INR - {item.weight}\r\n              <BiEdit\r\n                style={{ cursor: \"pointer\", marginLeft: \"10px\" }}\r\n                onClick={() =>\r\n                  handleEditProduct(order._id, item, order.discount)\r\n                }\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ),\r\n      amount: order.totalAmount,\r\n      discount: order.discount,\r\n      date: moment(order.orderDate).format(\"DD/MM/YYYY\"),\r\n      dateForFiltering: order.orderDate,\r\n      additionalInstructions: order.additionalInstructions,\r\n      status: order.status,\r\n      paymentmethod: order.paymentMethod,\r\n      remarks: order.remarks,\r\n      deliveryBoyId: order.deliveryBoyId,\r\n      originalData: order,\r\n    }));\r\n  };\r\n\r\n  const applyFilters = () => {\r\n    let filtered = [...orders];\r\n\r\n    if (searchText) {\r\n      const searchLower = searchText.toLowerCase();\r\n      filtered = filtered.filter((order) =>\r\n        order.searchableContent.includes(searchLower)\r\n      );\r\n    }\r\n\r\n    if (dateRange?.[0] && dateRange?.[1]) {\r\n      const startDate = dateRange[0].startOf(\"day\").valueOf();\r\n      const endDate = dateRange[1].endOf(\"day\").valueOf();\r\n\r\n      filtered = filtered.filter((order) => {\r\n        const orderDate = new Date(order.dateForFiltering).valueOf();\r\n        return orderDate >= startDate && orderDate <= endDate;\r\n      });\r\n    }\r\n\r\n    if (\r\n      filtered.length === 0 &&\r\n      (searchText || (dateRange?.[0] && dateRange?.[1]))\r\n    ) {\r\n      message.warning(\"No orders found with the applied filters.\");\r\n    }\r\n\r\n    setFilteredOrders(filtered);\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchText(e.target.value);\r\n  };\r\n\r\n  const handleDateRangeChange = (dates) => {\r\n    setDateRange(dates);\r\n  };\r\n\r\n  const exportToExcel = () => {\r\n    const dataToExport = filteredOrders.map(\r\n      ({\r\n        searchableContent,\r\n        products,\r\n        address,\r\n        actions,\r\n        dateForFiltering,\r\n        ...rest\r\n      }) => rest\r\n    );\r\n    const worksheet = XLSX.utils.json_to_sheet(dataToExport);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Orders\");\r\n    XLSX.writeFile(workbook, \"orders.xlsx\");\r\n  };\r\n  const showOrderDetails = (data) => {\r\n    setSelectedOrder(data);\r\n    setIsDetailsModalVisible(true);\r\n    handleViewSalesOrder(data?._id);\r\n  };\r\n\r\n  const columns = [\r\n    { title: \"SNo\", dataIndex: \"Sno\", width: 70 },\r\n    { title: \"Order ID\", dataIndex: \"orderId\", width: 150 },\r\n    { title: \"Customer Name\", dataIndex: \"customerName\", width: 150 },\r\n    { title: \"Total Amount\", dataIndex: \"amount\", width: 150 },\r\n    { title: \"Date\", dataIndex: \"date\", width: 150 },\r\n    { title: \"Status\", dataIndex: \"status\", width: 150 },\r\n    {\r\n      title: \"Actions\",\r\n      dataIndex: \"actions\",\r\n      width: 250,\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button\r\n            icon={<EyeOutlined />}\r\n            onClick={() => showOrderDetails(record.originalData)}\r\n          >\r\n            View Details\r\n          </Button>\r\n\r\n          {record.deliveryBoyId === null ? (\r\n            <Select\r\n              style={{ width: 150 }}\r\n              placeholder=\"Select Delivery Boy\"\r\n              onChange={(value) =>\r\n                handleAssignDeliveryBoy(record.orderId, value)\r\n              }\r\n            >\r\n              {driver?.map((boy) => (\r\n                <Select.Option key={boy._id} value={boy._id}>\r\n                  {boy?.name}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          ) : (\r\n            <span>{record.deliveryBoyId?.name}</span>\r\n          )}\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const renderDetailsModal = () => (\r\n    <Modal\r\n      title=\"Order Details\"\r\n      visible={isDetailsModalVisible}\r\n      onCancel={() => setIsDetailsModalVisible(false)}\r\n      footer={null}\r\n      width={800}\r\n    >\r\n      <div>\r\n        <Descriptions bordered column={2} layout=\"horizontal\">\r\n          <Descriptions.Item label=\"Order Id\">\r\n            {selectedOrder?._id}\r\n          </Descriptions.Item>\r\n          <Descriptions.Item label=\"Date/Time\">\r\n            {new Date(selectedOrder?.orderDate).toLocaleDateString()}{\" \"}\r\n            <p> {new Date(selectedOrder?.orderDate).toLocaleTimeString()}</p>\r\n          </Descriptions.Item>\r\n\r\n          <Descriptions.Item label=\"Payment Method\">\r\n            {selectedOrder?.paymentMethod}\r\n          </Descriptions.Item>\r\n          <Descriptions.Item label=\"Status\">\r\n            {selectedOrder?.status}\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n\r\n        <h4>Items:</h4>\r\n        <Descriptions bordered column={1}>\r\n          <Descriptions.Item label=\"Products\">\r\n            <ul>\r\n              {selectedOrder?.items?.map((item, idx) => (\r\n                <li key={idx}>\r\n                  {item.name} - {item.quantity} x {item.price} INR -{\" \"}\r\n                  {item.weight}\r\n                  {/* <BiEdit\r\n                    style={{ cursor: \"pointer\", marginLeft: \"10px\" }}\r\n                    onClick={() =>\r\n                      handleEditProduct(\r\n                        selectedOrder?._id,\r\n                        item,\r\n                        selectedOrder?.discount\r\n                      )\r\n                    }\r\n                  /> */}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n\r\n        {salesOrderData?.orderId === selectedOrder?._id ? (\r\n          <>\r\n            <h4 style={{ marginTop: \"20px\" }}>Sales Order:</h4>\r\n            <Table\r\n              dataSource={salesOrderData?.items}\r\n              columns={columns1}\r\n              rowKey=\"itemId\"\r\n              pagination={false}\r\n            />\r\n            <div style={{ marginBottom: \"20px\" }}>\r\n              <strong>Total Sales Amount:</strong>{\" \"}\r\n              {salesOrderData?.totalAmount?.toFixed(2)}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          // <p>No sales order found</p>\r\n          \"\"\r\n        )}\r\n\r\n        <h4>Shipping Address:</h4>\r\n        <Descriptions bordered column={1}>\r\n          <Descriptions.Item label=\"Customer Name\">\r\n            {selectedOrder?.shippingAddress?.fullName\r\n              ? selectedOrder?.shippingAddress?.fullName\r\n              : selectedOrder?.shippingAddress?.name}\r\n          </Descriptions.Item>\r\n          <Descriptions.Item label=\"Address\">\r\n            {\r\n              <div>\r\n                <p>\r\n                  {selectedOrder?.shippingAddress?.fullName\r\n                    ? selectedOrder?.shippingAddress?.fullName\r\n                    : selectedOrder?.shippingAddress?.name}\r\n                </p>\r\n                <p>\r\n                  {selectedOrder?.shippingAddress?.street\r\n                    ? selectedOrder?.shippingAddress?.street\r\n                    : selectedOrder?.shippingAddress?.address1}\r\n                </p>\r\n                <p>\r\n                  {selectedOrder?.shippingAddress?.city\r\n                    ? selectedOrder?.shippingAddress?.city\r\n                    : selectedOrder?.shippingAddress?.address2}\r\n                  , {selectedOrder?.shippingAddress?.state}{\" \"}\r\n                  {selectedOrder?.shippingAddress?.pincode}\r\n                </p>\r\n                <p>{selectedOrder?.shippingAddress?.country}</p>\r\n                <p>\r\n                  Phone:{\" \"}\r\n                  {selectedOrder?.shippingAddress?.number\r\n                    ? selectedOrder?.shippingAddress?.number\r\n                    : selectedOrder?.shippingAddress?.mobile}\r\n                </p>\r\n                <p>Email: {selectedOrder?.shippingAddress?.email}</p>\r\n              </div>\r\n            }\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n        {selectedOrder?.additionalInstructions && (\r\n          <div>\r\n            <h4>Additional Instructions:</h4>\r\n            <p>{selectedOrder?.additionalInstructions}</p>\r\n          </div>\r\n        )}\r\n\r\n        {selectedOrder?.remarks && (\r\n          <div>\r\n            <h4>Remarks:</h4>\r\n            <p>{selectedOrder?.remarks}</p>\r\n          </div>\r\n        )}\r\n        {selectedOrder?.deliveryProof && (\r\n          <div>\r\n            <h4>Deliver Proof:</h4>\r\n            <a href={`https://majesticmall.net/driver/${selectedOrder?.deliveryProof}`} target=\"_blank\">\r\n              <img\r\n                src={`https://majesticmall.net/driver/${selectedOrder?.deliveryProof}`}\r\n                alt=\"Delivery Proof\"\r\n                style={{ borderRadius: \"10px\", height: \"150px\", width: \"auto\" }}\r\n              />\r\n            </a>\r\n          </div>\r\n        )}\r\n        <h5>Price Breakdown:</h5>\r\n        <Descriptions bordered column={1}>\r\n          <Descriptions.Item label=\"Total MRP\">\r\n            ₹\r\n            {(\r\n              selectedOrder?.totalAmount +\r\n              selectedOrder?.discount -\r\n              selectedOrder?.deliveryCharge\r\n            )?.toFixed(2)}\r\n          </Descriptions.Item>\r\n          <Descriptions.Item label=\"Shipping Fees\">\r\n            ₹{selectedOrder?.deliveryCharge?.toFixed(2)}\r\n          </Descriptions.Item>\r\n          <Descriptions.Item label=\"Discount\" style={{ color: \"green\" }}>\r\n            ₹{selectedOrder?.discount?.toFixed(2)}\r\n          </Descriptions.Item>\r\n\r\n          <Descriptions.Item label=\"Total Price\">\r\n            ₹{selectedOrder?.totalAmount?.toFixed(2)}\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n      </div>\r\n    </Modal>\r\n  );\r\n  const columns1 = [\r\n    { title: \"Item Name\", dataIndex: \"name\", key: \"name\" },\r\n    { title: \"Quantity\", dataIndex: \"quantity\", key: \"quantity\" },\r\n    { title: \"Weight\", dataIndex: \"weight\", key: \"weight\" },\r\n    { title: \"Price\", dataIndex: \"price\", key: \"price\" },\r\n  ];\r\n  return (\r\n    <div>\r\n      <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          marginBottom: 16,\r\n        }}\r\n      >\r\n        <Title level={3}>Orders</Title>\r\n        <Space>\r\n          <Input\r\n            placeholder=\"Search orders\"\r\n            prefix={<SearchOutlined />}\r\n            value={searchText}\r\n            onChange={handleSearchChange}\r\n            style={{ width: 200 }}\r\n          />\r\n          <DatePicker.RangePicker\r\n            value={dateRange}\r\n            onChange={handleDateRangeChange}\r\n          />\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={exportToExcel}\r\n            icon={<FileSpreadsheet size={16} />}\r\n          >\r\n            Export to Excel\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n\r\n      <Table\r\n        columns={columns}\r\n        dataSource={filteredOrders}\r\n        scroll={{ x: \"max-content\" }}\r\n        pagination={{\r\n          pageSize: 10,\r\n          //showSizeChanger: true,\r\n        }}\r\n        components={{\r\n          header: {\r\n            cell: (props) => (\r\n              <th\r\n                {...props}\r\n                style={{\r\n                  ...props.style,\r\n                  background: \"linear-gradient(#000,#000,#000)\",\r\n                  color: \"white\",\r\n                }}\r\n              />\r\n            ),\r\n          },\r\n        }}\r\n        loading={loading}\r\n      />\r\n\r\n      {renderDetailsModal()}\r\n\r\n      <Modal\r\n        title=\"Update Product\"\r\n        visible={isModalVisible}\r\n        onOk={handleSaveEdit}\r\n        onCancel={() => {\r\n          setIsModalVisible(false);\r\n          form.resetFields();\r\n        }}\r\n      >\r\n        <Form form={form}>\r\n          <Form.Item label=\"Quantity\" name=\"quantity\">\r\n            <Input type=\"number\" min={1} />\r\n          </Form.Item>\r\n          <Form.Item label=\"Weight\" name=\"weight\">\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item label=\"Price\" name=\"price\">\r\n            <Input type=\"number\" min={1} />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n"],"names":["API_BASE_URL","Title","Typography","confirm","Modal","Orders","orders","setOrders","useState","encryptedToken","Cookies","get","token","CryptoJS","decrypt","process","toString","Utf8","filteredOrders","setFilteredOrders","searchText","setSearchText","dateRange","setDateRange","loading","setLoading","driver","setDriver","isModalVisible","setIsModalVisible","editingProduct","setEditingProduct","selectedOrder","setSelectedOrder","isDetailsModalVisible","setIsDetailsModalVisible","form","Form","useForm","useEffect","fetchOrders","fetchDrivers","applyFilters","async","response","axios","headers","Authorization","status","normalOrders","data","success","filter","e","orderType","transformedOrders","transformData","error","message","console","driversData","Array","isArray","salesOrderData","setSalesOrderData","map","order","index","_order$shippingAddres","_order$shippingAddres2","_order$shippingAddres3","_order$shippingAddres4","_order$shippingAddres5","_order$shippingAddres6","_order$shippingAddres7","_order$shippingAddres8","_order$shippingAddres9","_order$shippingAddres10","_order$shippingAddres11","_order$shippingAddres12","_order$shippingAddres13","_order$shippingAddres14","_order$shippingAddres15","_order$shippingAddres16","_order$shippingAddres17","_order$shippingAddres18","_order$shippingAddres19","_order$items","_order$shippingAddres20","_order$shippingAddres21","_order$shippingAddres22","_order$shippingAddres23","_order$shippingAddres24","_order$shippingAddres25","_order$shippingAddres26","_order$shippingAddres27","_order$shippingAddres28","_order$shippingAddres29","_order$shippingAddres30","_order$shippingAddres31","_order$shippingAddres32","_order$shippingAddres33","_order$shippingAddres34","_order$shippingAddres35","_order$items2","key","Sno","orderId","_id","customerName","shippingAddress","fullName","name","searchableContent","street","address1","city","address2","state","pincode","country","number","mobile","email","items","item","quantity","price","join","totalAmount","paymentmethod","remarks","toLowerCase","address","_jsxs","children","_jsx","products","idx","weight","BiEdit","style","cursor","marginLeft","onClick","handleEditProduct","product","discount","setFieldsValue","amount","date","moment","orderDate","format","dateForFiltering","additionalInstructions","paymentMethod","deliveryBoyId","originalData","filtered","searchLower","includes","startDate","startOf","valueOf","endDate","endOf","Date","length","warning","showOrderDetails","handleViewSalesOrder","columns","title","dataIndex","width","render","_","record","_record$deliveryBoyId","Space","Button","icon","EyeOutlined","Select","placeholder","onChange","value","post","handleAssignDeliveryBoy","boy","Option","columns1","ToastContainer","position","autoClose","display","justifyContent","alignItems","marginBottom","level","Input","prefix","SearchOutlined","target","DatePicker","RangePicker","dates","type","exportToExcel","dataToExport","_ref","actions","rest","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","FileSpreadsheet","size","Table","dataSource","scroll","x","pagination","pageSize","components","header","cell","props","background","color","renderDetailsModal","_selectedOrder$items","_salesOrderData$total","_selectedOrder$shippi","_selectedOrder$shippi2","_selectedOrder$shippi3","_selectedOrder$shippi4","_selectedOrder$shippi5","_selectedOrder$shippi6","_selectedOrder$shippi7","_selectedOrder$shippi8","_selectedOrder$shippi9","_selectedOrder$shippi10","_selectedOrder$shippi11","_selectedOrder$shippi12","_selectedOrder$shippi13","_selectedOrder$shippi14","_selectedOrder$shippi15","_selectedOrder$shippi16","_selectedOrder$shippi17","_selectedOrder$shippi18","_selectedOrder$shippi19","_ref2","_selectedOrder$delive","_selectedOrder$discou","_selectedOrder$totalA","visible","onCancel","footer","Descriptions","bordered","column","layout","Item","label","toLocaleDateString","toLocaleTimeString","_Fragment","marginTop","rowKey","toFixed","deliveryProof","href","src","alt","borderRadius","height","deliveryCharge","onOk","values","validateFields","log","newPrice","parseFloat","editedTotal","responseOrder","uneditedItems","trim","reduce","acc","itemId","resetFields","min"],"sourceRoot":""}