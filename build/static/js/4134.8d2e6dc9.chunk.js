"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[4134],{97959:(e,r,a)=>{a.d(r,{A:()=>s});a(65043);var o=a(70579);const s=e=>{const{type:r,label:a,i_id:s,i_class:t,name:i,val:l,onChng:d,onBlr:c,style:n}=e;return(0,o.jsxs)("div",{className:"form-floating mt-3",children:[(0,o.jsx)("label",{htmlFor:a,children:a}),(0,o.jsx)("input",{type:r,className:`form-control ${t}`,id:s,placeholder:a,value:l,onChange:d,style:n,onBlur:c})]})}},8819:(e,r,a)=>{a.d(r,{Ou:()=>c,mW:()=>g,TR:()=>n,jM:()=>d,$V:()=>C,Y0:()=>u});var o=a(58344),s=a(86213),t=a(25981),i=a(63127);const l={getColors:async()=>(await s.A.get(`${t.A}color/`)).data,createColor:async e=>(await s.A.post(`${t.A}color/`,e,i.$)).data,updateColor:async e=>(await s.A.put(`${t.A}color/${e.id}`,{title:e.colorData.title},i.$)).data,getColor:async e=>(await s.A.get(`${t.A}color/${e}`,i.$)).data,deleteColor:async e=>(await s.A.delete(`${t.A}color/${e}`,i.$)).data},d=(0,o.zD)("color/get-colors",(async e=>{try{return await l.getColors()}catch(r){return e.rejectWithValue(r)}})),c=(0,o.zD)("color/create-color",(async(e,r)=>{try{return await l.createColor(e)}catch(a){return r.rejectWithValue(a)}})),n=(0,o.zD)("color/get-color",(async(e,r)=>{try{return await l.getColor(e)}catch(a){return r.rejectWithValue(a)}})),u=(0,o.zD)("color/update-color",(async(e,r)=>{try{return await l.updateColor(e)}catch(a){return r.rejectWithValue(a)}})),g=(0,o.zD)("color/delete-color",(async(e,r)=>{try{return await l.deleteColor(e)}catch(a){return r.rejectWithValue(a)}})),C=(0,o.VP)("Reset_all"),p={colors:[],isError:!1,isLoading:!1,isSuccess:!1,message:""};(0,o.Z0)({name:"colors",initialState:p,reducers:{},extraReducers:e=>{e.addCase(d.pending,(e=>{e.isLoading=!0})).addCase(d.fulfilled,((e,r)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.colors=r.payload})).addCase(d.rejected,((e,r)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=r.error})).addCase(c.pending,(e=>{e.isLoading=!0})).addCase(c.fulfilled,((e,r)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.createdColor=r.payload})).addCase(c.rejected,((e,r)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=r.error})).addCase(u.pending,(e=>{e.isLoading=!0})).addCase(u.fulfilled,((e,r)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.updatedColor=r.payload})).addCase(u.rejected,((e,r)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=r.error})).addCase(n.pending,(e=>{e.isLoading=!0})).addCase(n.fulfilled,((e,r)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.colorName=r.payload.title})).addCase(n.rejected,((e,r)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=r.error})).addCase(g.pending,(e=>{e.isLoading=!0})).addCase(g.fulfilled,((e,r)=>{e.isLoading=!1,e.isError=!1,e.isSuccess=!0,e.deletedColor=r.payload.title})).addCase(g.rejected,((e,r)=>{e.isLoading=!1,e.isError=!0,e.isSuccess=!1,e.message=r.error})).addCase(C,(()=>p))}}).reducer},74134:(e,r,a)=>{a.r(r),a.d(r,{default:()=>C});var o=a(65043),s=a(97959),t=a(83003),i=a(73216),l=a(78745),d=a(80899),c=a(63516),n=a(8819),u=a(70579);let g=d.Ik().shape({title:d.Yj().required("Color is Required")});const C=()=>{const e=(0,t.wA)(),r=(0,i.Zp)(),a=(0,i.zy)().pathname.split("/")[3],d=(0,t.d4)((e=>e.color)),{isSuccess:C,isError:p,isLoading:h,createdColor:m,updatedColor:y,colorName:f}=d;(0,o.useEffect)((()=>{e(void 0!==a?(0,n.TR)(a):(0,n.$V)())}),[a]),(0,o.useEffect)((()=>{C&&m&&l.oR.success("Color Added Successfullly!"),C&&y&&(l.oR.success("Color Updated Successfullly!"),r("/admin/list-color")),p&&l.oR.error("Something Went Wrong!")}),[C,p,h,m]);const j=(0,c.Wx)({enableReinitialize:!0,initialValues:{title:f||""},validationSchema:g,onSubmit:r=>{if(void 0!==a){const o={id:a,colorData:r};e((0,n.Y0)(o)),e((0,n.$V)())}else e((0,n.Ou)(r)),j.resetForm(),setTimeout((()=>{e((0,n.$V)())}),300)}});return(0,u.jsxs)("div",{children:[(0,u.jsxs)("h3",{className:"mb-4 title",children:[void 0!==a?"Edit":"Add"," Color"]}),(0,u.jsx)("div",{children:(0,u.jsxs)("form",{action:"",onSubmit:j.handleSubmit,children:[(0,u.jsx)(s.A,{type:"color",label:"Enter Product Color",onChng:j.handleChange("title"),onBlr:j.handleBlur("title"),val:j.values.title,id:"color"}),(0,u.jsx)("div",{className:"error",children:j.touched.title&&j.errors.title}),(0,u.jsxs)("button",{className:"btn btn-success border-0 rounded-3 my-5",type:"submit",children:[void 0!==a?"Edit":"Add"," Color"]})]})})]})}},63127:(e,r,a)=>{a.d(r,{$:()=>d});var o=a(1880),s=a(86111),t=a.n(s);const i=o.A.get("user"),l=i?JSON.parse(t().AES.decrypt(i,"Abhinanadan02").toString(t().enc.Utf8)):null,d={headers:{Authorization:`Bearer ${null!==l?l.token:""}`,Accept:"application/json"}}},25981:(e,r,a)=>{a.d(r,{A:()=>o});const o="http://localhost:3000/api/"}}]);
//# sourceMappingURL=4134.8d2e6dc9.chunk.js.map