{"version":3,"file":"static/js/385.42b1ba01.chunk.js","mappings":"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","sources":["components/admin/features/auth/authServices.js","components/admin/features/auth/authSlice.js","components/admin/pages/ViewOrder.js","components/admin/utils/axiosconfig.js","components/admin/utils/baseUrl.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { config } from \"../../utils/axiosconfig\";\r\nimport { base_url } from \"../../utils/baseUrl\";\r\nimport Cookies from 'js-cookie';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst login = async (user) => {\r\n    const encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\n  const encryptedToken = Cookies.get('token');\r\n const token = encryptedToken ? CryptoJS.AES.decrypt(encryptedToken, encryptionKey).toString(CryptoJS.enc.Utf8) : null;\r\n\r\n  const response = await axios.post(`${base_url}user/admin-login`,{ headers: {\r\n    Authorization: `Bearer ${token}`,\r\n  },}, user);\r\n  if (response.data) {\r\n    const encryptedUser = CryptoJS.AES.encrypt(JSON.stringify(response.data), encryptionKey).toString();\r\n    // localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n    Cookies.set('user', encryptedUser, { expires: 7, secure: true, sameSite: 'Strict' });\r\n  }\r\n  return response.data;\r\n};\r\nconst getOrders = async () => {\r\n  const response = await axios.get(`${base_url}user/getallorders`, config);\r\n\r\n  return response.data;\r\n};\r\nconst getOrder = async (id) => {\r\n  const response = await axios.post(\r\n    `${base_url}user/getorderbyuser/${id}`,\r\n    \"\",\r\n    config\r\n  );\r\n\r\n  return response.data;\r\n};\r\n\r\nconst authService = {\r\n  login,\r\n  getOrders,\r\n  getOrder,\r\n};\r\n\r\nexport default authService;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport authService from \"./authServices\";\r\nimport Cookies from 'js-cookie';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\nconst encryptedUser = Cookies.get('user');\r\n\r\nconst getUserfromLocalStorage = encryptedUser ? JSON.parse(CryptoJS.AES.decrypt(encryptedUser , encryptionKey).toString(CryptoJS.enc.Utf8)):null ;\r\nconst initialState = {\r\n  user: getUserfromLocalStorage,\r\n  orders: [],\r\n  isError: false,\r\n  isLoading: false,\r\n  isSuccess: false,\r\n  message: \"\",\r\n};\r\nexport const login = createAsyncThunk(\r\n  \"auth/login\",\r\n  async (userData, thunkAPI) => {\r\n    try {\r\n      return await authService.login(userData);\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getOrders = createAsyncThunk(\r\n  \"order/get-orders\",\r\n  async (thunkAPI) => {\r\n    try {\r\n      return await authService.getOrders();\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\nexport const getOrderByUser = createAsyncThunk(\r\n  \"order/get-order\",\r\n  async (id, thunkAPI) => {\r\n    try {\r\n      return await authService.getOrder(id);\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialState,\r\n  reducers: {},\r\n  extraReducers: (buildeer) => {\r\n    buildeer\r\n      .addCase(login.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(login.fulfilled, (state, action) => {\r\n        state.isError = false;\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.user = action.payload;\r\n        state.message = \"success\";\r\n      })\r\n      .addCase(login.rejected, (state, action) => {\r\n        state.isError = true;\r\n        state.isSuccess = false;\r\n        state.message = action.error;\r\n        state.isLoading = false;\r\n      })\r\n      .addCase(getOrders.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(getOrders.fulfilled, (state, action) => {\r\n        state.isError = false;\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.orders = action.payload;\r\n        state.message = \"success\";\r\n      })\r\n      .addCase(getOrders.rejected, (state, action) => {\r\n        state.isError = true;\r\n        state.isSuccess = false;\r\n        state.message = action.error;\r\n        state.isLoading = false;\r\n      })\r\n      .addCase(getOrderByUser.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(getOrderByUser.fulfilled, (state, action) => {\r\n        state.isError = false;\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.orderbyuser = action.payload;\r\n        state.message = \"success\";\r\n      })\r\n      .addCase(getOrderByUser.rejected, (state, action) => {\r\n        state.isError = true;\r\n        state.isSuccess = false;\r\n        state.message = action.error;\r\n        state.isLoading = false;\r\n      });\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import React, { useEffect } from \"react\";\r\nimport { Table } from \"antd\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { BiEdit } from \"react-icons/bi\";\r\nimport { AiFillDelete } from \"react-icons/ai\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { getOrderByUser, getOrders } from \"../features/auth/authSlice\";\r\nconst columns = [\r\n  {\r\n    title: \"SNo\",\r\n    dataIndex: \"key\",\r\n  },\r\n  {\r\n    title: \"Product Name\",\r\n    dataIndex: \"name\",\r\n  },\r\n  {\r\n    title: \"Brand\",\r\n    dataIndex: \"brand\",\r\n  },\r\n  {\r\n    title: \"Count\",\r\n    dataIndex: \"count\",\r\n  },\r\n  {\r\n    title: \"Color\",\r\n    dataIndex: \"color\",\r\n  },\r\n  {\r\n    title: \"Amount\",\r\n    dataIndex: \"amount\",\r\n  },\r\n  {\r\n    title: \"Date\",\r\n    dataIndex: \"date\",\r\n  },\r\n\r\n  {\r\n    title: \"Action\",\r\n    dataIndex: \"action\",\r\n  },\r\n];\r\n\r\nconst ViewOrder = () => {\r\n  const location = useLocation();\r\n  const userId = location.pathname.split(\"/\")[3];\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getOrderByUser(userId));\r\n  }, []);\r\n  const orderState = useSelector((state) => state.auth.orderbyuser[0].products);\r\n  // console.log(orderState);\r\n  const data1 = [];\r\n  for (let i = 0; i < orderState.length; i++) {\r\n    data1.push({\r\n      key: i + 1,\r\n      name: orderState[i].product.title,\r\n      brand: orderState[i].product.brand,\r\n      count: orderState[i].count,\r\n      amount: orderState[i].product.price,\r\n      color: orderState[i].product.color,\r\n      date: orderState[i].product.createdAt,\r\n      action: (\r\n        <>\r\n          <Link to=\"/\" className=\" fs-3 text-danger\">\r\n            <BiEdit />\r\n          </Link>\r\n          <Link className=\"ms-3 fs-3 text-danger\" to=\"/\">\r\n            <AiFillDelete />\r\n          </Link>\r\n        </>\r\n      ),\r\n    });\r\n  }\r\n  return (\r\n    <div>\r\n      <h3 className=\"mb-4 title\">View Order</h3>\r\n      <div>\r\n        <Table columns={columns} dataSource={data1} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewOrder;\r\n","import Cookies from \"js-cookie\";\r\nimport CryptoJS from \"crypto-js\";\r\nconst encryptionKey = process.env.REACT_APP_ENCRYPTION_KEY;\r\nconst encryptedUser = Cookies.get(\"user\");\r\n\r\nconst getTokenFromLocalStorage = encryptedUser\r\n  ? JSON.parse(\r\n      CryptoJS.AES.decrypt(encryptedUser, encryptionKey).toString(\r\n        CryptoJS.enc.Utf8\r\n      )\r\n    )\r\n  : null;\r\n\r\nexport const config = {\r\n  headers: {\r\n    Authorization: `Bearer ${\r\n      getTokenFromLocalStorage !== null ? getTokenFromLocalStorage.token : \"\"\r\n    }`,\r\n    Accept: \"application/json\",\r\n  },\r\n};\r\n","export const base_url = \"http://localhost:3000/api/\";\r\n"],"names":["authService","login","async","encryptionKey","process","encryptedToken","Cookies","get","token","CryptoJS","decrypt","toString","Utf8","response","axios","post","base_url","headers","Authorization","user","data","encryptedUser","encrypt","JSON","stringify","set","expires","secure","sameSite","getOrders","config","getOrder","id","initialState","parse","orders","isError","isLoading","isSuccess","message","createAsyncThunk","userData","thunkAPI","error","rejectWithValue","getOrderByUser","createSlice","name","reducers","extraReducers","buildeer","addCase","pending","state","fulfilled","action","payload","rejected","orderbyuser","columns","title","dataIndex","ViewOrder","userId","useLocation","pathname","split","dispatch","useDispatch","useEffect","orderState","useSelector","auth","products","data1","i","length","push","key","product","brand","count","amount","price","color","date","createdAt","_jsxs","_Fragment","children","_jsx","Link","to","className","BiEdit","AiFillDelete","Table","dataSource","getTokenFromLocalStorage","Accept"],"sourceRoot":""}