"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[385],{10385:(e,t,r)=>{r.r(t),r.d(t,{default:()=>L});var a=r(65043),s=r(49757),d=r(83003),n=r(49804),i=r(3825),c=r(73216),o=r(35475),u=r(58344),l=r(86213),g=r(63127),p=r(25981),h=r(1880),A=r(86111),m=r.n(A);const y={login:async e=>{const t="Abhinanadan02",r=h.A.get("token"),a=r?m().AES.decrypt(r,t).toString(m().enc.Utf8):null,s=await l.A.post(`${p.A}user/admin-login`,{headers:{Authorization:`Bearer ${a}`}},e);if(s.data){const e=m().AES.encrypt(JSON.stringify(s.data),t).toString();h.A.set("user",e,{expires:7,secure:!0,sameSite:"Strict"})}return s.data},getOrders:async()=>(await l.A.get(`${p.A}user/getallorders`,g.$)).data,getOrder:async e=>(await l.A.post(`${p.A}user/getorderbyuser/${e}`,"",g.$)).data},S=y,f=h.A.get("user"),x={user:f?JSON.parse(m().AES.decrypt(f,"Abhinanadan02").toString(m().enc.Utf8)):null,orders:[],isError:!1,isLoading:!1,isSuccess:!1,message:""},j=(0,u.zD)("auth/login",(async(e,t)=>{try{return await S.login(e)}catch(r){return t.rejectWithValue(r)}})),C=(0,u.zD)("order/get-orders",(async e=>{try{return await S.getOrders()}catch(t){return e.rejectWithValue(t)}})),b=(0,u.zD)("order/get-order",(async(e,t)=>{try{return await S.getOrder(e)}catch(r){return t.rejectWithValue(r)}}));(0,u.Z0)({name:"auth",initialState:x,reducers:{},extraReducers:e=>{e.addCase(j.pending,(e=>{e.isLoading=!0})).addCase(j.fulfilled,((e,t)=>{e.isError=!1,e.isLoading=!1,e.isSuccess=!0,e.user=t.payload,e.message="success"})).addCase(j.rejected,((e,t)=>{e.isError=!0,e.isSuccess=!1,e.message=t.error,e.isLoading=!1})).addCase(C.pending,(e=>{e.isLoading=!0})).addCase(C.fulfilled,((e,t)=>{e.isError=!1,e.isLoading=!1,e.isSuccess=!0,e.orders=t.payload,e.message="success"})).addCase(C.rejected,((e,t)=>{e.isError=!0,e.isSuccess=!1,e.message=t.error,e.isLoading=!1})).addCase(b.pending,(e=>{e.isLoading=!0})).addCase(b.fulfilled,((e,t)=>{e.isError=!1,e.isLoading=!1,e.isSuccess=!0,e.orderbyuser=t.payload,e.message="success"})).addCase(b.rejected,((e,t)=>{e.isError=!0,e.isSuccess=!1,e.message=t.error,e.isLoading=!1}))}}).reducer;var E=r(70579);const w=[{title:"SNo",dataIndex:"key"},{title:"Product Name",dataIndex:"name"},{title:"Brand",dataIndex:"brand"},{title:"Count",dataIndex:"count"},{title:"Color",dataIndex:"color"},{title:"Amount",dataIndex:"amount"},{title:"Date",dataIndex:"date"},{title:"Action",dataIndex:"action"}],L=()=>{const e=(0,c.zy)().pathname.split("/")[3],t=(0,d.wA)();(0,a.useEffect)((()=>{t(b(e))}),[]);const r=(0,d.d4)((e=>e.auth.orderbyuser[0].products)),u=[];for(let a=0;a<r.length;a++)u.push({key:a+1,name:r[a].product.title,brand:r[a].product.brand,count:r[a].count,amount:r[a].product.price,color:r[a].product.color,date:r[a].product.createdAt,action:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(o.N_,{to:"/",className:" fs-3 text-danger",children:(0,E.jsx)(n.u6n,{})}),(0,E.jsx)(o.N_,{className:"ms-3 fs-3 text-danger",to:"/",children:(0,E.jsx)(i.F23,{})})]})});return(0,E.jsxs)("div",{children:[(0,E.jsx)("h3",{className:"mb-4 title",children:"View Order"}),(0,E.jsx)("div",{children:(0,E.jsx)(s.A,{columns:w,dataSource:u})})]})}},63127:(e,t,r)=>{r.d(t,{$:()=>c});var a=r(1880),s=r(86111),d=r.n(s);const n=a.A.get("user"),i=n?JSON.parse(d().AES.decrypt(n,"Abhinanadan02").toString(d().enc.Utf8)):null,c={headers:{Authorization:`Bearer ${null!==i?i.token:""}`,Accept:"application/json"}}},25981:(e,t,r)=>{r.d(t,{A:()=>a});const a="http://localhost:3000/api/"}}]);
//# sourceMappingURL=385.42b1ba01.chunk.js.map