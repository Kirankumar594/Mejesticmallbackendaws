"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[7669],{37669:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ee});var l=t(65043),a=t(98964),i=t(46909),r=t(79126),n=t(3188),d=t(89073),o=t(27210),c=t(6051),u=t(20691),m=t(49757),h=t(97107),x=t(99472),p=t(22019),g=t(53722),v=t(83038),j=t(81210),A=t(11951),b=t(36160),f=t(42983),y=t(6720),S=t(86178),N=t.n(S),w=t(23927),D=t(86213),I=t(78745),k=t(40614),C=t(26533),_=t(94651),E=t(35087),P=t(74592),F=t(35475),M=t(1880),L=t(86111),O=t.n(L),R=t(83003),T=t(87923),Y=t(11178);t.p;var $=t(79942),B=t(65449),z=t(15971),U=t(70579);const{Title:J,Text:H}=w.A,{Header:q,Sider:V,Content:Q}=a.A,{confirm:W}=i.A;function K(){const e="Abhinanadan02",s=M.A.get("token"),t=M.A.get("user"),a=M.A.get("clubuser"),[i,r]=(0,l.useState)((()=>t?JSON.parse(O().AES.decrypt(t,e).toString(O().enc.Utf8)):JSON.parse(O().AES.decrypt(a,e).toString(O().enc.Utf8)))),[c,u]=(0,l.useState)(!0),[m,h]=(0,l.useState)(i),[x,p]=(0,l.useState)(""),[g,v]=(0,l.useState)(!0),[j,A]=(0,l.useState)(!0);(0,l.useEffect)((()=>{h(i)}),[i]);const b=e=>{const{name:s,value:t}=e.target;("name"!==s||/^[a-zA-Z\s]*$/.test(t))&&("mobile"===s&&(!/^\d*$/.test(t)||t.length>10)||"Amobile"===s&&(!/^\d*$/.test(t)||t.length>10)||"pincode"===s&&(!/^\d*$/.test(t)||t.length>6)||("email"!==s||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))&&h((e=>({...e,[s]:t}))))},f=s?O().AES.decrypt(s,e).toString(O().enc.Utf8):null,[S,w]=(0,l.useState)(""),[P,F]=(0,l.useState)("");(0,l.useEffect)((()=>{if(i.club&&i.clubRegisteredDate){const s=N()(i.clubRegisteredDate).add(18,"months");N()().isAfter(s)&&(async()=>{try{D.A.post("https://majesticmall.net/api/user/changeClubStatus/"+i._id,{club:!1},{headers:{Authorization:`Bearer ${f}`}}).then((function(s){if(200===s.status){let s={...i,club:!1};const t=O().AES.encrypt(JSON.stringify(s),e).toString();M.A.set("user",t,{expires:7,secure:!0,sameSite:"Strict"}),I.oR.info("Club membership expired"),M.A.remove("token"),M.A.remove("user"),M.A.remove("clubuser"),window.location.assign("/")}})).catch((function(e){I.oR.info("Not able to complete status update")}))}catch(x){console.warn(x),I.oR.info("Not able to complete status update")}})()}}),[i,f]);const[L,R]=(0,l.useState)("profile-section"),[T,Y]=(0,l.useState)({});(0,l.useEffect)((()=>{(async()=>{try{let e=await D.A.get("https://majesticmall.net/api/admin/getbussinessprofile");200==e.status&&Y(e.data.profile)}catch(x){console.log(x)}})()}),[]);const[J,H]=(0,l.useState)(null),q=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:s,longitude:t}=e.coords;var l,a;l=s,a=t,fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${l},${a}&key=AIzaSyDHk6ca_YQVl4SG4v0dMPkBriPtZrPoxpc`).then((e=>e.json())).then((e=>{if("OK"===e.status&&e.results.length>0){const s=e.results[0],t=s.address_components;let i=(null===s||void 0===s?void 0:s.formatted_address)||"",r="",n="",d="",o="";t.forEach((e=>{const s=e.types;s.includes("locality")&&(r=e.long_name),s.includes("administrative_area_level_1")&&(n=e.long_name),s.includes("country")&&(d=e.long_name),s.includes("postal_code")&&(o=e.long_name)})),h({...m,address1:i,landmark:s.name,address2:r+" "+n+" "+d,postcode:o,lat:l,lng:a})}else I.oR.info("Unable to fetch address details.")})).catch((()=>I.oR.info("Failed to fetch address")))}),(e=>I.oR.info(e.message))):I.oR.info("Geolocation is not supported by this browser.")},[V,Q]=(0,l.useState)(!1),[W,K]=(0,l.useState)(!1);return(0,U.jsx)("div",{className:"flex min-h-screen p-2 mx-auto",children:c?(0,U.jsx)(d.A,{className:"w-full h-full max-w-4xl shadow-lg",children:(0,U.jsxs)("div",{className:"space-y-4",children:[(0,U.jsxs)("fieldset",{className:"border border-[#000] p-2 rounded-md lg:p-5 sm:p-1 space-y-2",children:[(0,U.jsxs)("div",{className:"flex flex-col gap-1 lg:flex-row lg:gap-0 lg:items-center lg:justify-between",children:[(0,U.jsx)("legend",{children:"Personal Details"}),(0,U.jsxs)(n.Ay,{style:{backgroundColor:0==c?"#ff4d4f":"#000",color:"white"},onClick:()=>{u(!c),R("edit-profile")},className:"flex items-center gap-2 mt-2 sm:mt-0",children:[0==c?(0,U.jsx)(k.A,{className:"w-4 h-4"}):(0,U.jsx)(C.A,{className:"w-4 h-4"}),0==c?"Cancel":"Edit Profile"]})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Name: "}),(0,U.jsx)("span",{className:"text-gray-800 text-md",children:m.name})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Email: "}),(0,U.jsx)("span",{className:"text-gray-800 text-md",children:m.email})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Mobile: "}),(0,U.jsx)("span",{className:"text-gray-800 text-md",children:m.mobile})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Alternate Mobile: "}),(0,U.jsx)("span",{className:"text-gray-800 text-md",children:m.Amobile})]})]}),(0,U.jsxs)("fieldset",{className:"border border-[#000] p-2 rounded-md lg:p-5 sm:p-1 space-y-2",children:[(0,U.jsx)("legend",{children:"Address"}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Address: "}),(0,U.jsx)("span",{className:"text-gray-800 truncate text-md",children:m.Houseno})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"address Line 1: "}),(0,U.jsx)("span",{className:"mb-3 text-gray-800 truncate text-md lg:mb-0",children:m.address1})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Address Line 2: "}),(0,U.jsx)("span",{className:"text-gray-800 truncate text-md",children:m.address2})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Landmark: "}),(0,U.jsx)("span",{className:"text-gray-800 truncate text-md",children:m.landmark})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Pincode: "}),(0,U.jsx)("span",{className:"text-gray-800 truncate text-md",children:m.pincode})]})]}),(0,U.jsxs)("fieldset",{className:"border border-[#000] p-2 rounded-md lg:p-5 sm:p-1",children:[(0,U.jsx)("legend",{children:"Club"}),i.club?(0,U.jsxs)("div",{className:"flex flex-col bg-[#F1F7E5] m-0 p-0 rounded-md w-full gap-0 lg:w-[50%]",children:[(0,U.jsx)("div",{className:"flex items-center justify-center",children:(0,U.jsx)("img",{alt:"logo",className:"cursor-pointer desktop-logo",src:`https://majesticmall.net/profile/${null===T||void 0===T?void 0:T.businesslogo}`,loading:"lazy",style:{width:"320px",height:"70px",marginLeft:"-10px",marginTop:"20px"},onError:e=>{e.target.src="../img/example.jpg"}})}),(0,U.jsxs)("div",{className:"flex items-center gap-1 px-3 mb-2",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"Name: "}),(0,U.jsx)("span",{className:"text-gray-800 text-md",children:m.name})]}),(0,U.jsxs)("div",{className:"flex flex-wrap items-center gap-2 px-3 mb-2 lg:gap-5",children:[(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:" From: "}),(0,U.jsx)("span",{className:"text-gray-800 text-md",children:N()(i.clubRegisteredDate).format("DD/MM/YYYY")})]}),(0,U.jsxs)("div",{className:"flex items-center gap-1",children:[(0,U.jsx)("label",{className:"font-bold text-md",children:"To: "}),(0,U.jsx)("span",{className:"text-gray-800 text-md",children:N()(i.clubRegisteredDate).add(18,"months").format("DD/MM/YYYY")})]})]}),(0,U.jsxs)("h6",{className:"px-3 mb-2 text-gray-600",children:["Thanks for choosing"," ",(0,U.jsx)("span",{className:"font-bold",children:"Majestic Mall!!!"})]})]}):(0,U.jsxs)("div",{className:"flex flex-col justify-center align-center",children:[(0,U.jsx)("div",{className:"flex items-center justify-center",children:(0,U.jsx)("img",{alt:"logo",className:"cursor-pointer desktop-logo",src:`https://majesticmall.net/profile/${null===T||void 0===T?void 0:T.businesslogo}`,loading:"lazy",style:{width:"320px",height:"70px",marginLeft:"-10px"},onError:e=>{e.target.src="../img/example.jpg"}})}),(0,U.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,U.jsxs)("button",{className:"flex bg-[#000] justify-center p-2 rounded-md text-white gap-2 items-center px-4",onClick:()=>{Q(!0)},children:[(0,U.jsx)("span",{className:"fa-crown fas main-text",style:{fontSize:"1em",color:"white"}}),"Join Club"]})})]})]}),(0,U.jsx)(B.A,{isOpen:V,onClose:()=>Q(!1),onJoinClick:()=>{K(!0),Q(!1)}}),(0,U.jsx)(z.A,{isOpen:W,onClose:()=>K(!1),onConfirmPayment:async()=>{try{const t=(new Date).toISOString(),l={url:"/user/changeClubStatus/"+i._id,method:"post",baseURL:"https://majesticmall.net/api",hearder:{"content-type":"application/json"},headers:{Authorization:`Bearer ${f}`},data:{clubRegisteredDate:t}},a=await D.A.post("https://majesticmall.net/api/user/addPaymentPhone",{userId:null===i||void 0===i?void 0:i._id,username:null===i||void 0===i?void 0:i.name,Mobile:null===i||void 0===i?void 0:i.mobile,orderId:"CLUBMember"+Math.random(0,10),amount:200,config:JSON.stringify(l),redirecturl:"/login",callBack:"/"},{headers:{Authorization:`Bearer ${f}`}});var e,s;if(200==a.status)return window.location.assign(null===(e=a.data)||void 0===e||null===(s=e.url)||void 0===s?void 0:s.url)}catch(x){I.oR.error("Unable to complete registration. Please try again.")}}})]})}):(0,U.jsxs)(d.A,{className:"w-full h-full max-w-4xl shadow-lg",children:[(0,U.jsxs)("div",{className:"flex flex-col items-center justify-between mb-4 space-y-1 sm:flex-row",children:[(0,U.jsx)("div",{className:"flex items-center space-x-4",children:(0,U.jsxs)("div",{children:[(0,U.jsxs)("h2",{className:"text-2xl font-bold",children:[i.name," ",i.club?"(Club Member)":""]}),i.club&&i.clubRegisteredDate&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("p",{className:"font-bold text-l",children:["Club Member Registered Date:"," ",N()(i.clubRegisteredDate).format("DD/MM/YYYY")]}),(0,U.jsxs)("p",{className:"font-bold text-l",children:["Valid Until:"," ",N()(i.clubRegisteredDate).add(18,"months").format("DD/MM/YYYY")]}),(0,U.jsx)("p",{className:"text-l font-bold "+(N()().isBefore(N()(i.clubRegisteredDate).add(18,"months"))?"text-green-500":"text-red-500"),children:N()().isBefore(N()(i.clubRegisteredDate).add(18,"months"))?"Membership is valid":"Membership has expired"})]}),(0,U.jsx)("p",{className:"text-muted-foreground",children:i.email})]})}),(0,U.jsxs)(n.Ay,{style:{backgroundColor:0==c?"#ff4d4f":"#000",color:"white"},onClick:()=>{u(!c)},className:"flex items-center gap-2 mt-2 sm:mt-0",children:[0==c?(0,U.jsx)(k.A,{className:"w-4 h-4"}):(0,U.jsx)(C.A,{className:"w-4 h-4"}),0==c?"Cancel":"Edit Profile"]})]}),(0,U.jsxs)("form",{className:"flex-grow w-full space-y-6",children:[(0,U.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"name",children:"Name"}),(0,U.jsx)(o.A,{id:"name",name:"name",value:m.name||"",onChange:b,className:"w-full"})]}),(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"email",children:"Email"}),(0,U.jsx)(o.A,{id:"email",name:"email",type:"email",value:m.email||"",onChange:b,className:"w-full"})]}),(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),(0,U.jsx)(o.A,{id:"mobile",name:"mobile",value:m.mobile||"",onChange:b,className:"w-full"})]}),(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"Amobile",children:"Alternative Mobile"}),(0,U.jsx)(o.A,{id:"Amobile",name:"Amobile",value:m.Amobile||"",onChange:b,placeholder:"Enter Alternative Mobile Number",className:"w-full"})]}),(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"pincode",children:"Pincode"}),(0,U.jsx)(o.A,{id:"pincode",name:"pincode",value:m.pincode||"",onChange:b,className:"w-full"})]}),(0,U.jsxs)("div",{className:"relative space-y-2",children:[(0,U.jsx)("label",{htmlFor:"address1",children:"Address Line 1"}),(0,U.jsxs)("div",{className:"relative flex items-center border border-gray-300 rounded-full",children:[(0,U.jsx)(y.HPi,{className:"absolute z-10 cursor-pointer left-3",color:"#000",size:24,title:"Current Location",onClick:()=>q()}),(0,U.jsx)($.jT,{onLoad:H,onPlaceChanged:()=>{if(!J)return;const e=J.getPlace();if(!e.geometry||!e.address_components)return;const s=e.address_components;let t=null===e||void 0===e?void 0:e.formatted_address,l=e.name,a="",i="",r=e.geometry.location.lat(),n=e.geometry.location.lng();s.forEach((e=>{const s=e.types;s.includes("route")&&(l+=e.long_name),s.includes("locality")&&(a=e.long_name),s.includes("administrative_area_level_1")&&(a+=", "+e.short_name),s.includes("postal_code")&&(i=e.long_name)})),h({...m,landmark:t,address1:l,address2:a,postcode:i,lat:r,lng:n})},className:"w-full",children:(0,U.jsx)(o.A,{id:"address1",name:"address1",value:m.address1||"",onChange:b,style:{paddingLeft:"40px"},className:"w-full"})})]})]}),(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"address2",children:"Address Line 2"}),(0,U.jsx)(o.A,{id:"address2",name:"address2",value:m.address2||"",onChange:b,className:"w-full"})]}),(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"landmark",children:"Landmark"}),(0,U.jsx)(o.A,{id:"landmark",name:"landmark",value:m.landmark||"",onChange:b,className:"w-full"})]}),0==c&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"password",children:"Password"}),(0,U.jsxs)("div",{className:"relative",children:[(0,U.jsx)(o.A,{id:"password",name:"password",type:g?"password":"text",onChange:e=>w(e.target.value),className:"w-full pr-10"}),(0,U.jsx)("button",{type:"button",onClick:()=>v(!g),className:"absolute -translate-y-1/2 right-3 top-1/2",children:g?(0,U.jsx)(_.A,{className:"w-4 h-4 text-gray-500"}):(0,U.jsx)(E.A,{className:"w-4 h-4 text-gray-500"})})]})]}),(0,U.jsxs)("div",{className:"space-y-2",children:[(0,U.jsx)("label",{htmlFor:"cpassword",children:"Confirm Password"}),(0,U.jsxs)("div",{className:"relative",children:[(0,U.jsx)(o.A,{id:"cpassword",name:"cpassword",type:j?"password":"text",onChange:e=>F(e.target.value),className:"w-full pr-10"}),(0,U.jsx)("button",{type:"button",onClick:()=>A(!j),className:"absolute -translate-y-1/2 right-3 top-1/2",children:j?(0,U.jsx)(_.A,{className:"w-4 h-4 text-gray-500"}):(0,U.jsx)(E.A,{className:"w-4 h-4 text-gray-500"})})]})]})]})]}),0==c&&(0,U.jsx)("div",{className:"flex justify-end",children:(0,U.jsx)(n.Ay,{type:"submit",className:"w-full md:w-auto",onClick:async s=>{if(s.preventDefault(),!m.name)return I.oR.error("Please enter your name");if(!m.email)return I.oR.error("Please enter your email");if(!m.mobile)return I.oR.error("Please enter your mobile number");if(S){if(S.length<8)return I.oR.error("Password must be at least 8 characters long");if(S!==P)return I.oR.error("Passwords do not match");m.password=S}else m.password=null;try{const s={url:i?"/user/editUser":"/user/editclubUser",baseURL:"https://majesticmall.net/api",method:"post",data:{adminId:i._id,...m},headers:{Authorization:`Bearer ${f}`}};if(200===(await(0,D.A)(s)).status){r({...i,...m});const s=O().AES.encrypt(JSON.stringify({...i,...m}),e).toString();M.A.set("user",s,{expires:7,secure:!0,sameSite:"Strict"}),I.oR.info("Profile Updated Successfully"),u(!0),p("")}}catch(t){p("Failed to update profile")}},style:{backgroundColor:"#000",color:"white"},children:"Save Changes"})})]})]})})}function G(){const e="Abhinanadan02",s=M.A.get("token"),t=s?O().AES.decrypt(s,e).toString(O().enc.Utf8):null,[a,r]=(0,l.useState)([]),[p,g]=(0,l.useState)([]),[v,j]=(0,l.useState)(""),[A,b]=(0,l.useState)([null,null]),[f,y]=(0,l.useState)(null),[S,N]=(0,l.useState)(!1),[w,I]=(0,l.useState)(null),k=M.A.get("user"),C=M.A.get("clubuser"),_=JSON.parse(O().AES.decrypt(k,e).toString(O().enc.Utf8))||JSON.parse(O().AES.decrypt(C,e).toString(O().enc.Utf8));(0,l.useEffect)((()=>{(async()=>{try{const e=await D.A.get("https://majesticmall.net/api/user/getallOrderByUserId/"+_._id,{headers:{Authorization:`Bearer ${t}`}});if(200===e.status){const s=e.data.success.filter((e=>"scheduled"!==e.orderType));r(s),g(s)}}catch(e){console.error("Error fetching orders:",e),r([]),g([])}})()}),[]),(0,l.useEffect)((()=>{E()}),[v,A,a]);const E=()=>{let e=a;var s;(v&&(e=e.filter((e=>e._id.toLowerCase().includes(v.toLowerCase())||e.status.toLowerCase().includes(v.toLowerCase())))),A&&A[0]&&A[1])&&(e=null===(s=e)||void 0===s?void 0:s.filter((e=>{const s=new Date(null===e||void 0===e?void 0:e.orderDate),t=new Date(A[0]),l=new Date(A[1]);return t.setHours(0,0,0,0),l.setHours(23,59,59,999),s>=t&&s<=l})));g(e)},L=e=>{I(e),N(!0),(async e=>{try{const s=await D.A.get(`https://majesticmall.net/api/user/getSalesOrder/${e}`,{headers:{Authorization:`Bearer ${t}`}});s.data.success?y(s.data.data):console.error("Sales order not found")}catch(s){console.error("Error fetching sales order:",s)}})(e._id)},R=[{title:"Order ID",dataIndex:"_id",key:"_id"},{title:"Date",dataIndex:"orderDate",key:"orderDate",render:e=>new Date(e).toLocaleDateString()},{title:"Total Amount",dataIndex:"totalAmount",key:"totalAmount",render:e=>`\u20b9${null===e||void 0===e?void 0:e.toFixed(2)}`},{title:"Status",dataIndex:"status",key:"status"},{title:"Actions",key:"actions",render:(e,s)=>(0,U.jsxs)(c.A,{children:[(0,U.jsx)(n.Ay,{onClick:()=>L(s),style:{backgroundColor:"#000",color:"white"},children:"View Details"}),(0,U.jsx)(n.Ay,{onClick:()=>{return e=s,localStorage.setItem("InvoiceItem",JSON.stringify(e)),void window.location.assign("/orderinvoice");var e},style:{backgroundColor:"#000",color:"white"},children:"View Invoice"})]})}],T=[{title:"Item Name",dataIndex:"name",key:"name"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Weight",dataIndex:"weight",key:"weight"},{title:"Price",dataIndex:"price",key:"price"}];return(0,U.jsxs)(d.A,{title:"Orders",children:[(0,U.jsxs)(c.A,{style:{marginBottom:16},children:[(0,U.jsx)(o.A,{placeholder:"Search Order ID or Status",prefix:(0,U.jsx)(P.A,{}),value:v,onChange:e=>j(e.target.value)}),(0,U.jsx)(h.A.RangePicker,{onChange:e=>b(e)})]}),(0,U.jsx)(m.A,{columns:R,dataSource:p,rowKey:"_id",scroll:{x:"max-content"},pagination:{pageSize:10},locale:{emptyText:(0,U.jsxs)("div",{className:"flex flex-col items-center",children:[(0,U.jsx)(x.A,{image:x.A.PRESENTED_IMAGE_SIMPLE,description:"No orders found"}),(0,U.jsx)(F.N_,{to:"/",children:(0,U.jsx)("button",{className:"bg-#f7ab27-400 rounded-full text-white duration-200 font-semibold hover:bg-#f7ab27-500 mt-4 px-4 py-2 transition-colors",children:"Continue Shopping"})})]})}}),(()=>{var e,s,t,l,a,r,n,d,o,c,h,x,p,g,v;return(0,U.jsxs)(i.A,{title:"Order Details",visible:S,onCancel:()=>N(!1),footer:null,width:800,children:[(0,U.jsxs)("div",{children:[(0,U.jsxs)(u.A,{bordered:!0,column:2,layout:"vertical",children:[(0,U.jsx)(u.A.Item,{label:"Order Id",children:null===w||void 0===w?void 0:w._id}),(0,U.jsxs)(u.A.Item,{label:"Date/Time",children:[new Date(null===w||void 0===w?void 0:w.orderDate).toLocaleDateString(),(0,U.jsxs)("p",{children:[" ",new Date(null===w||void 0===w?void 0:w.orderDate).toLocaleTimeString()]})]}),(0,U.jsx)(u.A.Item,{label:"Payment Method",children:null===w||void 0===w?void 0:w.paymentMethod}),(0,U.jsx)(u.A.Item,{label:"Status",children:null===w||void 0===w?void 0:w.status})]}),(0,U.jsx)("h4",{children:"Items:"}),(0,U.jsx)(u.A,{bordered:!0,column:1,children:null===w||void 0===w?void 0:w.items.map(((e,s)=>{var t;return(0,U.jsxs)(u.A.Item,{label:`Item ${s+1}`,children:[e.name," - Quantity: ",e.quantity,", Price: \u20b9",null===(t=e.price)||void 0===t?void 0:t.toFixed(2)]},s)}))}),f&&(null===f||void 0===f?void 0:f.orderId)===(null===w||void 0===w?void 0:w._id)?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("h4",{style:{marginTop:"20px"},children:"Sales Order:"}),(0,U.jsx)(m.A,{dataSource:null===f||void 0===f?void 0:f.items,columns:T,rowKey:"itemId",pagination:!1}),(0,U.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,U.jsx)("strong",{children:"Total Sales Amount:"})," ",null===f||void 0===f?void 0:f.totalAmount]})]}):null,(0,U.jsx)("h4",{children:"Shipping Address:"}),(0,U.jsxs)(u.A,{bordered:!0,column:1,children:[(0,U.jsx)(u.A.Item,{label:"Full Name",children:(null===w||void 0===w||null===(e=w.shippingAddress)||void 0===e?void 0:e.fullName)||(null===w||void 0===w||null===(s=w.shippingAddress)||void 0===s?void 0:s.name)}),(0,U.jsx)(u.A.Item,{label:"Mobile Number",children:(null===w||void 0===w||null===(t=w.shippingAddress)||void 0===t?void 0:t.mobile)||(null===w||void 0===w||null===(l=w.shippingAddress)||void 0===l?void 0:l.number)}),(0,U.jsxs)(u.A.Item,{label:"Address",children:[(null===w||void 0===w||null===(a=w.shippingAddress)||void 0===a?void 0:a.street)||(null===w||void 0===w||null===(r=w.shippingAddress)||void 0===r?void 0:r.address1),", ",(null===w||void 0===w||null===(n=w.shippingAddress)||void 0===n?void 0:n.city)||(null===w||void 0===w||null===(d=w.shippingAddress)||void 0===d?void 0:d.address2),null!==w&&void 0!==w&&null!==(o=w.shippingAddress)&&void 0!==o&&o.state?", ":" ",null===w||void 0===w||null===(c=w.shippingAddress)||void 0===c?void 0:c.state,", ",null===w||void 0===w||null===(h=w.shippingAddress)||void 0===h?void 0:h.pincode]})]})]}),(0,U.jsx)("h5",{children:"Price Breakdown:"}),(0,U.jsxs)(u.A,{bordered:!0,column:1,children:[(0,U.jsxs)(u.A.Item,{label:"Total MRP",children:["\u20b9",null===(x=(null===w||void 0===w?void 0:w.totalAmount)+(null===w||void 0===w?void 0:w.discount)-(null===w||void 0===w?void 0:w.deliveryCharge))||void 0===x?void 0:x.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Shipping Fees",children:["\u20b9",null===w||void 0===w||null===(p=w.deliveryCharge)||void 0===p?void 0:p.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Discount",style:{color:"green"},children:["\u20b9",null===w||void 0===w||null===(g=w.discount)||void 0===g?void 0:g.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Total Price",children:["\u20b9",null===w||void 0===w||null===(v=w.totalAmount)||void 0===v?void 0:v.toFixed(2)]})]})]})})()]})}function Z(){const e="Abhinanadan02",s=M.A.get("token"),t=s?O().AES.decrypt(s,e).toString(O().enc.Utf8):null,[a,r]=(0,l.useState)([]),[p,g]=(0,l.useState)([]),[v,j]=(0,l.useState)(""),[A,b]=(0,l.useState)([null,null]),[f,y]=(0,l.useState)(null),[S,w]=(0,l.useState)(!1),[I,k]=(0,l.useState)(null),C=M.A.get("user"),_=M.A.get("clubuser"),E=JSON.parse(O().AES.decrypt(C,e).toString(O().enc.Utf8))||JSON.parse(O().AES.decrypt(_,e).toString(O().enc.Utf8)),L=async()=>{try{const e=await D.A.get("https://majesticmall.net/api/user/getallOrderByUserId/"+E._id,{headers:{Authorization:`Bearer ${t}`}});if(200===e.status){const s=e.data.success.filter((e=>"scheduled"===e.orderType));r(s),g(s)}}catch(e){console.error("Error fetching orders:",e),r([]),g([])}};(0,l.useEffect)((()=>{L()}),[]);const[R,T]=(0,l.useState)(!1),[Y,$]=(0,l.useState)(N()().format("YYYY-MM-DD"));(0,l.useEffect)((()=>{B()}),[v,A,a]);const B=()=>{let e=a;v&&(e=e.filter((e=>e._id.toLowerCase().includes(v.toLowerCase())||e.status.toLowerCase().includes(v.toLowerCase())))),A&&A[0]&&A[1]&&(e=e.filter((e=>{const s=new Date(null===e||void 0===e?void 0:e.orderDate),t=new Date(A[0]),l=new Date(A[1]);return t.setHours(0,0,0,0),l.setHours(23,59,59,999),s>=t&&s<=l}))),g(e)},z=e=>{k(e),w(!0),(async e=>{try{const s=await D.A.get(`https://majesticmall.net/api/user/getSalesOrder/${e}`,{headers:{Authorization:`Bearer ${t}`}});s.data.success?y(s.data.data):console.error("Sales order not found")}catch(s){console.error("Error fetching sales order:",s)}})(e._id)},J=[{title:"Order ID",dataIndex:"_id",key:"_id"},{title:"Date",dataIndex:"orderDate",key:"orderDate",render:e=>new Date(e).toLocaleDateString()},{title:"Total Amount",dataIndex:"totalAmount",key:"totalAmount",render:e=>`\u20b9${null===e||void 0===e?void 0:e.toFixed(2)}`},{title:"Status",dataIndex:"status",key:"status"},{title:"Actions",key:"actions",render:(e,s)=>(0,U.jsxs)(c.A,{children:[(0,U.jsx)(n.Ay,{onClick:()=>z(s),style:{backgroundColor:"#000",color:"white"},children:"View Details"}),(0,U.jsx)(n.Ay,{onClick:()=>{return e=s,localStorage.setItem("InvoiceItem",JSON.stringify(e)),void window.location.assign("/orderinvoice");var e},style:{backgroundColor:"#000",color:"white"},children:"View Invoice"})]})}],H=[{title:"Item Name",dataIndex:"name",key:"name"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Weight",dataIndex:"weight",key:"weight"},{title:"Price",dataIndex:"price",key:"price"}];return(0,U.jsxs)(d.A,{title:"Scheduled Orders",children:[(0,U.jsxs)(c.A,{style:{marginBottom:16},children:[(0,U.jsx)(o.A,{placeholder:"Search Order ID or Status",prefix:(0,U.jsx)(P.A,{}),value:v,onChange:e=>j(e.target.value)}),(0,U.jsx)(h.A.RangePicker,{onChange:e=>b(e)})]}),(0,U.jsx)(m.A,{columns:J,dataSource:p,rowKey:"_id",scroll:{x:"max-content"},pagination:{pageSize:10},locale:{emptyText:(0,U.jsxs)("div",{className:"flex flex-col items-center",children:[(0,U.jsx)(x.A,{image:x.A.PRESENTED_IMAGE_SIMPLE,description:"No orders found"}),(0,U.jsx)(F.N_,{to:"/",children:(0,U.jsx)("button",{className:"bg-#f7ab27-400 rounded-full text-white duration-200 font-semibold hover:bg-#f7ab27-500 mt-4 px-4 py-2 transition-colors",children:"Continue Shopping"})})]})}}),(()=>{var e,s,t,l,a,r,n,d,o,c,h,x,p,g,v;return(0,U.jsxs)(i.A,{title:"Order Details",visible:S,onCancel:()=>w(!1),footer:null,width:800,children:[(0,U.jsxs)("div",{children:[(0,U.jsxs)(u.A,{bordered:!0,column:2,layout:"vertical",children:[(0,U.jsx)(u.A.Item,{label:"Order Id",children:null===I||void 0===I?void 0:I._id}),(0,U.jsxs)(u.A.Item,{label:"Date/Time",children:[new Date(null===I||void 0===I?void 0:I.orderDate).toLocaleDateString()," ",(0,U.jsxs)("p",{children:[" ",new Date(null===I||void 0===I?void 0:I.orderDate).toLocaleTimeString()]})]}),(0,U.jsx)(u.A.Item,{label:"Payment Method",children:null===I||void 0===I?void 0:I.paymentMethod}),(0,U.jsx)(u.A.Item,{label:"Status",children:null===I||void 0===I?void 0:I.status})]}),(0,U.jsx)("h4",{children:"Items:"}),(0,U.jsx)(u.A,{bordered:!0,column:1,children:null===I||void 0===I?void 0:I.items.map(((e,s)=>{var t;return(0,U.jsxs)(u.A.Item,{label:`Item ${s+1}`,children:[e.name," - Quantity: ",e.quantity,", Price: \u20b9",null===(t=e.price)||void 0===t?void 0:t.toFixed(2)]},s)}))}),f&&(null===f||void 0===f?void 0:f.orderId)===(null===I||void 0===I?void 0:I._id)?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("h4",{style:{marginTop:"20px"},children:"Sales Order:"}),(0,U.jsx)(m.A,{dataSource:null===f||void 0===f?void 0:f.items,columns:H,rowKey:"itemId",pagination:!1}),(0,U.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,U.jsx)("strong",{children:"Total Sales Amount:"})," ",null===f||void 0===f?void 0:f.totalAmount]})]}):null,(0,U.jsx)("h4",{children:"Shipping Address:"}),(0,U.jsxs)(u.A,{bordered:!0,column:1,children:[(0,U.jsx)(u.A.Item,{label:"Full Name",children:(null===I||void 0===I||null===(e=I.shippingAddress)||void 0===e?void 0:e.fullName)||(null===I||void 0===I||null===(s=I.shippingAddress)||void 0===s?void 0:s.name)}),(0,U.jsx)(u.A.Item,{label:"Mobile Number",children:(null===I||void 0===I||null===(t=I.shippingAddress)||void 0===t?void 0:t.mobile)||(null===I||void 0===I||null===(l=I.shippingAddress)||void 0===l?void 0:l.number)}),(0,U.jsxs)(u.A.Item,{label:"Address",children:[(null===I||void 0===I||null===(a=I.shippingAddress)||void 0===a?void 0:a.street)||(null===I||void 0===I||null===(r=I.shippingAddress)||void 0===r?void 0:r.address1),", ",(null===I||void 0===I||null===(n=I.shippingAddress)||void 0===n?void 0:n.city)||(null===I||void 0===I||null===(d=I.shippingAddress)||void 0===d?void 0:d.address2),null!==I&&void 0!==I&&null!==(o=I.shippingAddress)&&void 0!==o&&o.state?", ":" ",null===I||void 0===I||null===(c=I.shippingAddress)||void 0===c?void 0:c.state,", ",null===I||void 0===I||null===(h=I.shippingAddress)||void 0===h?void 0:h.pincode]})]})]}),(0,U.jsx)("h5",{children:"Price Breakdown:"}),(0,U.jsxs)(u.A,{bordered:!0,column:1,children:[(0,U.jsxs)(u.A.Item,{label:"Total MRP",children:["\u20b9",null===(x=(null===I||void 0===I?void 0:I.totalAmount)+(null===I||void 0===I?void 0:I.discount)-(null===I||void 0===I?void 0:I.deliveryCharge))||void 0===x?void 0:x.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Shipping Fees",children:["\u20b9",null===I||void 0===I||null===(p=I.deliveryCharge)||void 0===p?void 0:p.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Discount",style:{color:"green"},children:["\u20b9",null===I||void 0===I||null===(g=I.discount)||void 0===g?void 0:g.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Total Price",children:["\u20b9",null===I||void 0===I||null===(v=I.totalAmount)||void 0===v?void 0:v.toFixed(2)]})]})]})})()]})}function X(){var e;const s="Abhinanadan02",t=M.A.get("token"),a=t?O().AES.decrypt(t,s).toString(O().enc.Utf8):null,[r,g]=(0,l.useState)([]),[v,j]=(0,l.useState)([]),[A,b]=(0,l.useState)(null),[f,y]=(0,l.useState)(null),[S,w]=(0,l.useState)(!1),[I,k]=(0,l.useState)(""),[C,_]=(0,l.useState)([null,null]),E=M.A.get("user"),L=M.A.get("clubuser"),R=JSON.parse(O().AES.decrypt(E,s).toString(O().enc.Utf8))||JSON.parse(O().AES.decrypt(L,s).toString(O().enc.Utf8)),T=async()=>{try{const e=await D.A.get("https://majesticmall.net/api/user/getAllSubscriptionsbyuserid/"+R._id,{headers:{Authorization:`Bearer ${a}`}});200===e.status&&(g(e.data.success),j(e.data.success))}catch(e){console.error("Error fetching subscriptions:",e)}};(0,l.useEffect)((()=>{T()}),[]),(0,l.useEffect)((()=>{Y()}),[I,C,r]);const Y=()=>{let e=r;I&&(e=e.filter((e=>e._id.toLowerCase().includes(I.toLowerCase())||e.status.toLowerCase().includes(I.toLowerCase())||e.productId.productname.toLowerCase().includes(I.toLowerCase())))),C&&C[0]&&C[1]&&(e=e.filter((e=>{const s=new Date(null===e||void 0===e?void 0:e.startDate),t=new Date(C[0]),l=new Date(C[1]);return t.setHours(0,0,0,0),l.setHours(23,59,59,999),s>=t&&s<=l}))),j(e)},[$,B]=(0,l.useState)(0);(0,l.useEffect)((()=>{a&&(async()=>{try{const e=await D.A.get(`https://majesticmall.net/api/user/getwallet/${null===R||void 0===R?void 0:R._id}`,{headers:{Authorization:`Bearer ${a}`}});B(e.data.success.balance)}catch(e){console.error("Error fetching wallet data:",e)}})()}),[a]);const z=[{title:"Subscription ID",dataIndex:"_id",key:"_id"},{title:"Product",dataIndex:["productId","productname"],key:"product"},{title:"Frequency",dataIndex:"frequency",key:"frequency"},{title:"Start Date",dataIndex:"startDate",key:"startDate",render:e=>new Date(e).toLocaleDateString()},{title:"Last Delivery Date",dataIndex:"deliveryData",key:"deliveryData",render:e=>{var s;return e&&0!==e.length?null===(s=e[e.length-1])||void 0===s?void 0:s.date:"No deliveries yet"}},{title:"Status",dataIndex:"status",key:"status"},{title:"Actions",key:"actions",render:(e,s)=>"Delivered"!==s.status?(0,U.jsx)(n.Ay,{onClick:()=>(b(s),void w(!0)),style:{backgroundColor:"#000",color:"white"},children:"Pause Subscription"}):"paused"==s.status?(0,U.jsx)(n.Ay,{onClick:()=>(async e=>{if($<(null===e||void 0===e?void 0:e.productValue))p.Ay.error("Insufficient balance to continue subscription");else try{200===(await D.A.post("https://majesticmall.net/api/user/updateOrderStatus1",{orderId:null===e||void 0===e?void 0:e._id,status:"Approved",remarks:"Manual Continue by customer"},{headers:{Authorization:`Bearer ${a}`}})).status&&(p.Ay.success("Subscription approved successfully"),T(),w(!1))}catch(s){console.error("Error pausing subscription:",s),p.Ay.error("Failed to remove pause subscription")}})(s),style:{backgroundColor:"#000",color:"white"},children:"Continue Subscription"}):null}],J=new Date;new Date(J);return(0,U.jsxs)(d.A,{title:"Subscriptions",children:[(0,U.jsxs)(c.A,{style:{marginBottom:16},children:[(0,U.jsx)(o.A,{placeholder:"Search Subscription ID, Status, or Product",prefix:(0,U.jsx)(P.A,{}),value:I,onChange:e=>k(e.target.value)}),(0,U.jsx)(h.A.RangePicker,{onChange:e=>_(e)})]}),(0,U.jsx)(m.A,{columns:z,dataSource:v,rowKey:"_id",scroll:{x:"max-content"},pagination:{pageSize:10},locale:{emptyText:(0,U.jsxs)("div",{className:"flex flex-col items-center",children:[(0,U.jsx)(x.A,{image:x.A.PRESENTED_IMAGE_SIMPLE,description:"No subscriptions found"}),(0,U.jsx)(F.N_,{to:"/",children:(0,U.jsx)("button",{className:"bg-#f7ab27-400 rounded-full text-white duration-200 font-semibold hover:bg-#f7ab27-500 mt-4 px-4 py-2 transition-colors",children:"Continue Shopping"})})]})},expandable:{expandedRowRender:e=>(0,U.jsx)(n.Ay,{onClick:()=>(e=>{var s,t,l,a,r,n,d,o,c,m,h,x,p,g,v,j,A,b,f,y,S,N;i.A.info({title:`Subscription Details - ${e._id}`,content:(0,U.jsxs)("div",{children:[(0,U.jsxs)(u.A,{bordered:!0,column:2,layout:"vertical",children:[(0,U.jsx)(u.A.Item,{label:"Product",children:null===(s=e.productId)||void 0===s?void 0:s.productname}),(0,U.jsx)(u.A.Item,{label:"Frequency",children:e.frequency}),(0,U.jsx)(u.A.Item,{label:"Quantity",children:e.quantity}),(0,U.jsx)(u.A.Item,{label:"Start Date",children:new Date(e.startDate).toLocaleDateString()}),(0,U.jsx)(u.A.Item,{label:"End Date",children:e.endDate?new Date(e.endDate).toLocaleDateString():"N/A"}),(0,U.jsx)(u.A.Item,{label:"Total Orders",children:e.totalOrders}),(0,U.jsx)(u.A.Item,{label:"Total Quantity",children:e.totalQuantity}),(0,U.jsxs)(u.A.Item,{label:"Product Value",children:["\u20b9",null===(t=e.selectedWeight.price)||void 0===t?void 0:t.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Delivery Charges",children:["\u20b9",null===(l=e.deliveryCharges)||void 0===l?void 0:l.toFixed(2)]}),(0,U.jsxs)(u.A.Item,{label:"Total",children:["\u20b9",null===(a=e.productValue)||void 0===a?void 0:a.toFixed(2)]})]}),(0,U.jsx)("h4",{children:"Shipping Address:"}),(0,U.jsxs)(u.A,{bordered:!0,column:1,children:[(0,U.jsx)(u.A.Item,{label:"Full Name",children:null!==(r=e.shippingAddress)&&void 0!==r&&r.fullName?null===(n=e.shippingAddress)||void 0===n?void 0:n.fullName:null===(d=e.shippingAddress)||void 0===d?void 0:d.name}),(0,U.jsxs)(u.A.Item,{label:"Address",children:[null!==(o=e.shippingAddress)&&void 0!==o&&o.street?null===(c=e.shippingAddress)||void 0===c?void 0:c.street:null===(m=e.shippingAddress)||void 0===m?void 0:m.address1,","," ",null!==(h=e.shippingAddress)&&void 0!==h&&h.city?null===(x=e.shippingAddress)||void 0===x?void 0:x.city:null===(p=e.shippingAddress)||void 0===p?void 0:p.address2," ",null!==(g=e.shippingAddress)&&void 0!==g&&g.state?",":""," ",null===(v=e.shippingAddress)||void 0===v?void 0:v.state,","," ",null===(j=e.shippingAddress)||void 0===j?void 0:j.pincode]}),(0,U.jsx)(u.A.Item,{label:"Phone",children:null!==(A=e.shippingAddress)&&void 0!==A&&A.number?null===(b=e.shippingAddress)||void 0===b?void 0:b.number:null===(f=e.shippingAddress)||void 0===f?void 0:f.mobile}),(0,U.jsx)(u.A.Item,{label:"Email",children:null===(y=e.shippingAddress)||void 0===y?void 0:y.email})]}),(0,U.jsx)("h4",{children:"Selected Weight:"}),(0,U.jsx)(u.A,{bordered:!0,column:1,children:(0,U.jsxs)(u.A.Item,{label:"Weight",children:[null===(S=e.selectedWeight)||void 0===S?void 0:S.value," ",null===(N=e.selectedWeight)||void 0===N?void 0:N.units]})}),e.pauseDates&&e.pauseDates.length>0&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("h4",{children:"Pause Dates:"}),(0,U.jsx)(u.A,{bordered:!0,column:1,children:e.pauseDates.map(((e,s)=>(0,U.jsx)(u.A.Item,{label:`Pause Date ${s+1}`,children:new Date(e).toLocaleDateString()},s)))})]}),e.deliveryData&&e.deliveryData.length>0&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("h4",{children:"Delivery History:"}),(0,U.jsx)(u.A,{bordered:!0,column:1,children:e.deliveryData.map(((e,s)=>(0,U.jsxs)(u.A.Item,{label:`Delivery Date ${s+1}`,children:[e.date," - ",e.status]},s)))})]})]}),width:"90%",style:{top:20}})})(e),style:{backgroundColor:"#000",color:"white"},children:"View Full Details"})}}),(0,U.jsxs)(i.A,{title:`Pause Subscription ${null===A||void 0===A?void 0:A._id}`,visible:S,onOk:async()=>{try{200===(await D.A.post("https://majesticmall.net/api/user/pauseSubscription",{subscriptionId:A._id,pauseDate:f?f.format("YYYY-MM-DD"):null},{headers:{Authorization:`Bearer ${a}`}})).status&&(p.Ay.success("Subscription paused successfully"),T(),w(!1))}catch(e){console.error("Error pausing subscription:",e),p.Ay.error("Failed to pause subscription")}},onCancel:()=>{w(!1),b(null),y(null)},okText:"Confirm Pause",cancelText:"Cancel",okButtonProps:{style:{backgroundColor:"#000",color:"#fff"}},children:[(0,U.jsxs)("div",{children:[(0,U.jsx)("h3",{children:"Select Pause Date"}),(0,U.jsx)(h.A,{value:f,onChange:e=>y(e),format:"YYYY-MM-DD",disabledDate:e=>e&&e<N()().startOf("day")})]}),(0,U.jsxs)("div",{className:"p-4 mt-6 bg-gray-100 rounded-lg shadow-md",children:[(0,U.jsx)("h3",{className:"mb-3 text-lg font-semibold text-gray-800",children:"Pause Date List"}),(null===A||void 0===A||null===(e=A.pauseDates)||void 0===e?void 0:e.length)>0?(0,U.jsx)("ul",{className:"space-y-2 list-none",children:A.pauseDates.map(((e,s)=>{const t=N()(e).isBefore(N()(),"day");return(0,U.jsxs)("li",{className:"flex items-center justify-between p-2 bg-white rounded-md shadow-sm",children:[(0,U.jsxs)("div",{className:"flex items-center gap-2",children:[(0,U.jsxs)("span",{className:"font-medium text-gray-600",children:[s+1,"."]}),(0,U.jsx)("span",{className:"text-gray-800",children:N()(e).format("DD/MM/YYYY")})]}),!t&&(0,U.jsx)("button",{onClick:()=>(async e=>{try{200===(await D.A.post("https://majesticmall.net/api/user/removePauseDate",{subscriptionId:A._id,pauseDate:e},{headers:{Authorization:`Bearer ${a}`}})).status&&(p.Ay.success("Subscription remove paused successfully"),T(),w(!1))}catch(s){console.error("Error pausing subscription:",s),p.Ay.error("Failed to remove pause subscription")}})(e),className:"font-medium text-red-500 hover:text-red-700",children:"Remove"})]},s)}))}):(0,U.jsx)("p",{className:"italic text-gray-500",children:"No pause dates available."})]})]})]})}const ee=function(){const[e,s]=(0,l.useState)("profile"),[t,i]=(0,l.useState)(!0),d=(0,R.wA)();return(0,U.jsxs)(a.A,{style:{minHeight:"100vh",backgroundColor:"#000"},children:[(0,U.jsx)(V,{trigger:null,collapsible:!0,collapsed:t,breakpoint:"lg",collapsedWidth:"0",style:{backgroundColor:"#000"},onBreakpoint:e=>{i(e)},className:"sticky top-[150px]",children:(0,U.jsxs)("div",{className:"sticky top-[150px]",children:[(0,U.jsx)("div",{className:"demo-logo-vertical lg-logo",style:{height:64,padding:16},children:(0,U.jsx)(J,{level:4,style:{color:"white"},children:"Dashboard"})}),(0,U.jsxs)(r.A,{theme:"dark",mode:"inline",selectedKeys:[e],style:{backgroundColor:"#000"},children:[(0,U.jsx)(r.A.Item,{icon:(0,U.jsx)(g.A,{}),onClick:()=>s("profile"),children:"Profile"},"profile"),(0,U.jsx)(r.A.Item,{icon:(0,U.jsx)(v.A,{}),onClick:()=>s("orders"),children:"Orders"},"orders"),(0,U.jsx)(r.A.Item,{icon:(0,U.jsx)(j.A,{}),onClick:()=>s("scheduledOrders"),children:"Scheduled Orders"},"scheduledOrders"),(0,U.jsx)(r.A.Item,{icon:(0,U.jsx)(A.A,{}),onClick:()=>s("subscription"),children:"Subscriptions"},"subscription"),(0,U.jsx)(r.A.Item,{icon:(0,U.jsx)(b.A,{}),onClick:e=>{W({title:"Are you sure you want to logout?",content:"Once you logout cart will be empty.",okText:"Yes",okType:"danger",cancelText:"No",onOk(){d((0,T.sX)()),d((0,Y.Lc)()),M.A.remove("token"),M.A.remove("user"),M.A.remove("clubuser"),I.oR.info("Successfully logged out"),setTimeout((()=>{window.location.assign("/")}),2e3)},onCancel(){}})},children:"Logout"},"primary")]})]})}),(0,U.jsxs)(a.A,{className:"site-layout",children:[(0,U.jsx)(q,{className:"site-layout-background",style:{padding:0,background:"#fff"},children:(0,U.jsx)(n.Ay,{type:"text",icon:(0,U.jsx)(f.A,{}),onClick:()=>i(!t),style:{fontSize:"16px",width:64,height:64}})}),(0,U.jsxs)(Q,{style:{minHeight:280,background:"#fff"},children:[(0,U.jsx)(I.N9,{}),(()=>{switch(e){case"profile":default:return(0,U.jsx)(K,{});case"orders":return(0,U.jsx)(G,{});case"scheduledOrders":return(0,U.jsx)(Z,{});case"subscription":return(0,U.jsx)(X,{})}})()]})]})]})}}}]);
//# sourceMappingURL=7669.7b02b991.chunk.js.map