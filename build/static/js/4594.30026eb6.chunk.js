"use strict";(self.webpackChunkfruit_app=self.webpackChunkfruit_app||[]).push([[4594],{84594:(e,t,s)=>{s.r(t),s.d(t,{default:()=>B});var i=s(65043),r=s(26240),n=s(12110),a=s(26494),o=s(15316),l=s(85865),d=s(17830),c=s(90310),h=s(24628),m=s(2050),x=s(48734),p=s(8266),u=s(43845),A=s(68903),v=s(63336),g=s(35721),j=s(39336),y=s(44919),b=s(73782),f=s(51419),w=s(51884),S=s(7118),k=s(63944),D=s(53735),z=s(81990),W=s(35475),X=s(86213),_=s(1880),N=s(86111),$=s.n(N),C=s(70579);const O=e=>{let{title:t,value:s,icon:i,trend:h}=e;const m=(0,r.A)();return(0,C.jsxs)(n.A,{sx:{height:"100%",transition:"all 0.3s",background:m.palette.background.default,"&:hover":{transform:"translateY(-4px)",boxShadow:m.shadows[8]},borderRadius:2,position:"relative",overflow:"hidden"},children:[(0,C.jsx)(a.A,{sx:{position:"relative",zIndex:1},children:(0,C.jsxs)(o.A,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsxs)(o.A,{children:[(0,C.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:1,fontWeight:500},children:t}),(0,C.jsx)(l.A,{variant:"h4",component:"div",sx:{fontWeight:700,mb:1},children:s}),h&&(0,C.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[h>0?(0,C.jsx)(y.A,{size:16,color:m.palette.success.main}):(0,C.jsx)(b.A,{size:16,color:m.palette.error.main}),(0,C.jsxs)(l.A,{variant:"body2",color:h>0?"success.main":"error.main",sx:{fontWeight:500},children:[h>0?"+":"",h,"% from last month"]})]})]}),(0,C.jsx)(d.A,{sx:{bgcolor:(0,c.X4)(m.palette.primary.main,.1),width:56,height:56,color:m.palette.primary.main},children:(0,C.jsx)(i,{size:24})})]})}),(0,C.jsx)(o.A,{sx:{position:"absolute",top:0,right:0,width:"30%",height:"100%",background:`linear-gradient(45deg, transparent, ${(0,c.X4)(m.palette.primary.main,.03)})`,transform:"skewX(-20deg)",transformOrigin:"top"}})]})},R=e=>{let{icon:t,title:s,description:n,timestamp:a,type:o}=e;const A=(0,r.A)(),v=()=>({order:A.palette.info.main,delivery:A.palette.success.main,registration:A.palette.secondary.main,alert:A.palette.warning.main}[o]||A.palette.grey[500]);return(0,C.jsxs)(h.Ay,{sx:{py:2,transition:"all 0.2s","&:hover":{bgcolor:(0,c.X4)(A.palette.primary.main,.03)}},children:[(0,C.jsx)(m.A,{children:(0,C.jsx)(d.A,{sx:{bgcolor:(0,c.X4)(v(),.1),color:v()},children:(0,C.jsx)(t,{size:20})})}),(0,C.jsx)(x.A,{primary:(0,C.jsx)(l.A,{variant:"subtitle2",sx:{fontWeight:600},children:s}),secondary:(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(l.A,{component:"span",variant:"body2",color:"text.primary",sx:{display:"block",my:.5},children:n}),(0,C.jsx)(l.A,{component:"span",variant:"caption",color:"text.secondary",children:a})]})}),(0,C.jsx)(p.A,{children:(0,C.jsx)(u.A,{size:"small",label:o.charAt(0).toUpperCase()+o.slice(1),sx:{bgcolor:(0,c.X4)(v(),.1),color:v(),fontWeight:500,"& .MuiChip-label":{px:2}}})})]})},B=()=>{const e=(0,r.A)(),[t,s]=(0,i.useState)([]),[n,a]=(0,i.useState)([]),[y,b]=(0,i.useState)([]),[N,B]=(0,i.useState)([]),[U,F]=(0,i.useState)([]),[E,I]=(0,i.useState)([]),L=_.A.get("token"),M=L?$().AES.decrypt(L,"Abhinanadan02").toString($().enc.Utf8):null;return console.log("tokentokentokentokentoken",M),(0,i.useEffect)((()=>{(async()=>{try{var e,t,i,r,n,o,l,d,c,h,m,x;const[p,u,A]=await Promise.all([X.A.get("https://majesticmall.net/api/user/getAllUser",{headers:{Authorization:`Bearer ${M}`}}),X.A.get("https://majesticmall.net/api/user/getallOrder",{headers:{Authorization:`Bearer ${M}`}}),X.A.get("https://majesticmall.net/api/user/getallSubscriptions",{headers:{Authorization:`Bearer ${M}`}})]);s(p.data.success),a(null===(e=p.data)||void 0===e||null===(t=e.success)||void 0===t?void 0:t.filter((e=>!0===e.club))),b(null===(i=u.data)||void 0===i?void 0:i.success),B(null===(r=A.data)||void 0===r?void 0:r.success);const v=[...null===(n=u.data)||void 0===n||null===(o=n.success)||void 0===o?void 0:o.slice(0,3),...null===(l=A.data)||void 0===l||null===(d=l.success)||void 0===d?void 0:d.slice(0,2)].sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)));I(v);const g=[...null===(c=u.data)||void 0===c||null===(h=c.success)||void 0===h?void 0:h.slice(0,3).map((e=>{var t,s;return{type:"order",icon:f.A,title:"New Order Received",description:`Order #${e._id.slice(-4)} from ${(null===(t=e.shippingAddress)||void 0===t?void 0:t.fullName)||(null===(s=e.shippingAddress)||void 0===s?void 0:s.name)}`,timestamp:new Date(e.createdAt).toLocaleString()}})),...null===(m=p.data)||void 0===m||null===(x=m.success)||void 0===x?void 0:x.slice(0,2).map((e=>({type:"registration",icon:w.A,title:"New User Registration",description:`${e.name} joined`,timestamp:new Date(e.createdAt).toLocaleString()})))].sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)));F(g)}catch(p){console.error("Error fetching data:",p)}})()}),[M]),(0,C.jsxs)(o.A,{sx:{flexGrow:1,p:3,bgcolor:"background.default"},children:[(0,C.jsx)(l.A,{variant:"h4",gutterBottom:!0,sx:{mb:4,fontWeight:700,color:"text.primary"},children:"Dashboard Overview"}),(0,C.jsxs)(A.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,C.jsx)(A.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(W.N_,{to:"/admindashboard/customers",style:{textDecoration:"none"},children:(0,C.jsx)(O,{title:"Total Users",value:t.length,icon:S.A})})}),(0,C.jsx)(A.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(W.N_,{to:"/admindashboard/clubcustomers",style:{textDecoration:"none"},children:(0,C.jsx)(O,{title:"Club Members",value:n.length,icon:k.A})})}),(0,C.jsx)(A.Ay,{item:!0,xs:12,sm:6,md:3}),(0,C.jsx)(A.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(W.N_,{to:"/admindashboard/orders1",style:{textDecoration:"none"}})}),(0,C.jsx)(A.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,C.jsx)(W.N_,{to:"/admindashboard/subscription",style:{textDecoration:"none"},children:(0,C.jsx)(O,{title:"Subscriptions",value:null===N||void 0===N?void 0:N.length,icon:D.A})})})]}),(0,C.jsxs)(A.Ay,{container:!0,spacing:3,children:[(0,C.jsx)(A.Ay,{item:!0,xs:12,md:6,children:(0,C.jsxs)(v.A,{sx:{p:3,height:"100%",borderRadius:2,boxShadow:null===e||void 0===e?void 0:e.shadows[2],"&:hover":{boxShadow:null===e||void 0===e?void 0:e.shadows[4]}},children:[(0,C.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Recent Activities"}),(0,C.jsx)(g.A,{children:null===U||void 0===U?void 0:U.map(((e,t)=>(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(R,{...e}),t<U.length-1&&(0,C.jsx)(j.A,{sx:{my:1}})]},t)))})]})}),(0,C.jsx)(A.Ay,{item:!0,xs:12,md:6,children:(0,C.jsxs)(v.A,{sx:{p:3,height:"100%",borderRadius:2,boxShadow:e.shadows[2],"&:hover":{boxShadow:e.shadows[4]}},children:[(0,C.jsx)(l.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"Recent Orders"}),(0,C.jsx)(g.A,{children:null===E||void 0===E?void 0:E.map(((t,s)=>{var r,n,a;return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsxs)(h.Ay,{sx:{transition:"all 0.2s","&:hover":{bgcolor:(0,c.X4)(e.palette.primary.main,.03)}},children:[(0,C.jsx)(m.A,{children:(0,C.jsx)(d.A,{sx:{bgcolor:(0,c.X4)(e.palette.primary.main,.1),color:e.palette.primary.main},children:(0,C.jsx)(z.A,{size:20})})}),(0,C.jsx)(x.A,{primary:(0,C.jsx)(l.A,{variant:"subtitle2",sx:{fontWeight:600},children:`Order #${null===t||void 0===t||null===(r=t._id)||void 0===r?void 0:r.slice(-4)}`}),secondary:(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(l.A,{component:"span",variant:"body2",sx:{display:"block",my:.5},children:(null===(n=t.shippingAddress)||void 0===n?void 0:n.fullName)||(null===(a=t.shippingAddress)||void 0===a?void 0:a.name)}),(0,C.jsx)(l.A,{component:"span",variant:"caption",color:"text.secondary",children:new Date(t.createdAt).toLocaleString()})]})}),(0,C.jsx)(p.A,{children:(0,C.jsx)(u.A,{size:"small",label:t.status,sx:{bgcolor:"delivered"===t.status?(0,c.X4)(e.palette.success.main,.1):(0,c.X4)(e.palette.primary.main,.1),color:"delivered"===t.status?e.palette.success.main:e.palette.primary.main,fontWeight:500,"& .MuiChip-label":{px:2}}})})]}),s<y.length-1&&(0,C.jsx)(j.A,{sx:{my:1}})]},t._id)}))})]})})]})]})}}}]);
//# sourceMappingURL=4594.30026eb6.chunk.js.map